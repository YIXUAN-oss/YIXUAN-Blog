# Java 开发环境与工具

> **本章重点：** IDEA快捷键、Java输入输出、常用工具方法
> 
> **面试频率：** ⭐⭐

---

## 目录
- [一、IDEA 快捷键](#一idea-快捷键)
- [二、Java常用入门语句](#二java常用入门语句)
- [三、常用工具方法](#三常用工具方法)
- [四、面试常见问题](#四面试常见问题)

---

## 一、IDEA 快捷键

### 1.1 代码编辑

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl + Alt + L` | 格式化代码 | 自动调整代码格式 |
| `Alt + Enter` | 快速修复错误 | 显示修复建议 |
| `Ctrl + D` | 复制当前行 | 复制并粘贴到下一行 |
| `Ctrl + Y` | 删除当前行 | 快速删除整行 |
| `Ctrl + /` | 单行注释 | 注释或取消注释 |
| `Ctrl + Shift + /` | 多行注释 | 块注释 |

### 1.2 代码生成

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Alt + Insert` | 生成代码 | 构造器、getter/setter等 |
| `psvm` + `Tab` | 生成main方法 | 快速生成主方法 |
| `sout` + `Tab` | 生成打印语句 | System.out.println() |
| `.var` | 自动分配变量名 | 自动生成变量声明 |
| `Ctrl + Alt + T` | 包围代码 | try-catch、if等 |

**示例：**
```java
// 1. 输入 psvm 按 Tab
public static void main(String[] args) {
    
}

// 2. 输入 sout 按 Tab
System.out.println();

// 3. 使用 .var
new Scanner(System.in).var  // 自动生成: Scanner scanner = new Scanner(System.in);
```

### 1.3 代码导航

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl + B` | 跳转到定义 | 查看方法实现或类定义 |
| `Ctrl + Alt + B` | 跳转到实现 | 查看接口的实现类 |
| `Ctrl + H` | 查看类继承关系 | 显示类的层次结构 |
| `Ctrl + E` | 最近打开的文件 | 快速切换文件 |
| `Ctrl + F12` | 查看类结构 | 显示类的所有成员 |
| `Alt + F7` | 查找使用位置 | 查找方法或变量的使用 |

### 1.4 其他实用快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Shift + F6` | 重命名 | 重命名变量、方法、类 |
| `Ctrl + Shift + U` | 大小写切换 | 转换选中文本的大小写 |
| `Ctrl + W` | 扩大选择范围 | 逐步选择代码块 |
| `Ctrl + Shift + W` | 缩小选择范围 | 逐步缩小选择 |

### 1.5 项目管理

**防止包重合在一起：**
- 点击文件右上角三个点
- 关闭 `Compact Middle Packages` 选项

**查看类图：**
- 右键点击类名
- 选择 `Diagrams` → `Show Diagram`

---

## 二、Java常用入门语句

### 2.1 程序结构

#### 基本程序结构

```java
public class HelloWorld {
    // 主方法 - 程序入口
    public static void main(String[] args) {
        // 代码内容
        System.out.println("Hello, World!");
    }
}
```

**关键说明：**
- `public class` - 公共类声明
- `HelloWorld` - 类名（必须与文件名一致）
- `main` - 主方法，程序执行的入口
- `String[] args` - 命令行参数

### 2.2 注释

```java
// 这是单行注释

/*
 这是
 多行注释
*/

/**
 * 这是文档注释（JavaDoc）
 * @author 作者名
 * @version 1.0
 */
public class Demo {
    /**
     * 这是方法注释
     * @param name 参数说明
     * @return 返回值说明
     */
    public String sayHello(String name) {
        return "Hello, " + name;
    }
}
```

**注释类型：**

| 类型 | 语法 | 使用场景 |
|------|------|----------|
| **单行注释** | `//` | 简短说明 |
| **多行注释** | `/* */` | 较长说明 |
| **文档注释** | `/** */` | 类、方法文档 |

### 2.3 输入语句

Java 使用 `Scanner` 类来接收用户输入。

**基本使用：**
```java
import java.util.Scanner;

Scanner sc = new Scanner(System.in);

// 整型输入
byte b = sc.nextByte();
short s = sc.nextShort();
int i = sc.nextInt();
long l = sc.nextLong();
    
// 浮点型输入
float f = sc.nextFloat();
double d = sc.nextDouble();

// 布尔型输入
boolean bool = sc.nextBoolean();

// 字符输入
char ch = sc.next().charAt(0);

// 字符串输入
String str1 = sc.next();        // 遇到空格结束
String str2 = sc.nextLine();    // 遇到回车结束

// 释放资源
sc.close();
```

### 2.4 next() 与 nextLine() 区别

| 特性 | next() | nextLine() |
|------|--------|------------|
| 空格处理 | 遇到空格结束输入 | 可以获取空格 |
| 结束符 | 空格或回车 | 回车 |
| 前导空白 | 自动去除 | 不去除 |
| 使用场景 | 单个单词 | 整行文本 |

**示例：**
```java
Scanner sc = new Scanner(System.in);

// next() - 不能获取带空格的字符串
System.out.print("请输入姓名：");
String name = sc.next();  // 输入 "Zhang San"，只得到 "Zhang"

// nextLine() - 可以获取带空格的字符串
System.out.print("请输入地址：");
String address = sc.nextLine();  // 输入 "Beijing China"，得到完整字符串
```

### 2.5 输出语句

Java 提供了三种输出方式：

#### ① println() - 自动换行
```java
System.out.println("Hello");
System.out.println("World");
// 输出：
// Hello
// World
```

#### ② print() - 不自动换行
```java
System.out.print("Hello");
System.out.print("World");
// 输出：HelloWorld
```

#### ③ printf() - 格式化输出
```java
System.out.printf("姓名：%s，年龄：%d，成绩：%.2f\n", "张三", 18, 95.5);
// 输出：姓名：张三，年龄：18，成绩：95.50
```

**格式化说明符：**

| 格式符 | 说明 | 示例 |
|--------|------|------|
| `%d` | 整数 | `System.out.printf("%d", 100);` → 100 |
| `%f` | 浮点数 | `System.out.printf("%.2f", 3.14159);` → 3.14 |
| `%s` | 字符串 | `System.out.printf("%s", "Hello");` → Hello |
| `%c` | 字符 | `System.out.printf("%c", 'A');` → A |
| `%md` | 占m列的整数 | `System.out.printf("%5d", 10);` → "   10" |
| `%m.nf` | 占m列，保留n位小数 | `System.out.printf("%6.2f", 3.14);` → "  3.14" |

### 2.6 条件语句

#### if-else 语句

```java
// 单分支
if (条件) {
    // 代码块
}

// 双分支
if (条件) {
    // 条件为true执行
} else {
    // 条件为false执行
}

// 多分支
if (条件1) {
    // 代码块1
} else if (条件2) {
    // 代码块2
} else {
    // 代码块3
}
```

**示例：**
```java
int score = 85;

if (score >= 90) {
    System.out.println("优秀");
} else if (score >= 80) {
    System.out.println("良好");
} else if (score >= 60) {
    System.out.println("及格");
} else {
    System.out.println("不及格");
}
```

#### switch 语句

```java
switch (表达式) {
    case 值1:
        // 代码块1
        break;
    case 值2:
        // 代码块2
        break;
    default:
        // 默认代码
}
```

**示例：**
```java
int day = 3;
String dayName;

switch (day) {
    case 1:
        dayName = "星期一";
        break;
    case 2:
        dayName = "星期二";
        break;
    case 3:
        dayName = "星期三";
        break;
    default:
        dayName = "无效";
}
System.out.println(dayName);  // 星期三
```

**注意事项：**
- `break` 必须加，否则会穿透执行
- `default` 可以省略，但建议加上
- Java 12+ 支持新语法：`case 1 -> "Monday";`

### 2.7 循环语句

#### for 循环

```java
// 基本 for 循环
for (初始化; 条件; 迭代) {
    // 循环体
}

// 示例：打印 1-10
for (int i = 1; i <= 10; i++) {
    System.out.println(i);
}

// 增强 for 循环（for-each）
int[] arr = {1, 2, 3, 4, 5};
for (int num : arr) {
    System.out.println(num);
}
```

#### while 循环

```java
// while 循环
while (条件) {
    // 循环体
}

// 示例：求和 1+2+...+100
int sum = 0;
int i = 1;
while (i <= 100) {
    sum += i;
    i++;
}
System.out.println(sum);  // 5050
```

#### do-while 循环

```java
// do-while 循环（至少执行一次）
do {
    // 循环体
} while (条件);

// 示例
 int num = 1;
do {
    System.out.println(num);
    num++;
} while (num <= 5);
```

**循环控制：**

| 关键字 | 作用 | 示例 |
|--------|------|------|
| `break` | 结束循环 | `if (i == 5) break;` |
| `continue` | 跳过本次循环 | `if (i % 2 == 0) continue;` |

### 2.8 数组声明与初始化

```java
// 方式一：声明后初始化
int[] arr1 = new int[5];  // 创建长度为5的数组
arr1[0] = 1;
arr1[1] = 2;

// 方式二：声明时初始化
int[] arr2 = {1, 2, 3, 4, 5};

// 方式三：完整形式
int[] arr3 = new int[]{1, 2, 3, 4, 5};

// 二维数组
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};

// 遍历数组
for (int i = 0; i < arr2.length; i++) {
    System.out.println(arr2[i]);
}

// 增强 for遍历
for (int num : arr2) {
    System.out.println(num);
}
```

### 2.9 方法定义

```java
// 基本方法结构
访问修饰符 返回类型 方法名(参数列表) {
    // 方法体
    return 返回值;
}

// 示例1：无参数无返回值
public static void sayHello() {
    System.out.println("Hello!");
}

// 示例2：有参数有返回值
public static int add(int a, int b) {
    return a + b;
}

// 示例3：可变参数
public static int sum(int... numbers) {
    int total = 0;
    for (int num : numbers) {
        total += num;
    }
    return total;
}

// 调用方法
sayHello();
int result = add(10, 20);
int total = sum(1, 2, 3, 4, 5);
```

### 2.10 常用快捷输入模板

```java
import java.util.Scanner;

public class InputTemplate {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        
        // 读取整数
        int n = sc.nextInt();
        
        // 读取数组
        int[] arr = new int[n];
        for (int i = 0; i < n; i++) {
            arr[i] = sc.nextInt();
        }
        
        // 读取字符串
        String str = sc.next();
        
        // 读取一行（包含空格）
        sc.nextLine();  // 清空缓冲区
        String line = sc.nextLine();
        
        // 关闭资源
        sc.close();
    }
}
```

---

## 三、常用工具方法

### 3.1 字符串转换

#### charAt() - 获取字符串中的字符
```java
String str = "Hello";
char ch = str.charAt(0);  // 'H'

// 字符转数字（常用于处理数字字符）
String numStr = "12345";
int digit = numStr.charAt(2) - '0';  // 3
// 解释：'3' 的 ASCII 值是 51，'0' 的 ASCII 值是 48，相减得到 3
```

#### String.valueOf() - 其他类型转字符串
```java
int num = 100;
String str1 = String.valueOf(num);  // "100"

double d = 3.14;
String str2 = String.valueOf(d);    // "3.14"

boolean b = true;
String str3 = String.valueOf(b);    // "true"

// 特殊情况：null
String str4 = String.valueOf(null); // "null"（字符串）
```

#### Integer.parseInt() - 字符串转整数
```java
// 基本用法
String str = "100";
int num = Integer.parseInt(str);  // 100

// 指定进制转换
String hexStr = "FF";
int decimal = Integer.parseInt(hexStr, 16);  // 255（十六进制转十进制）

String binStr = "1010";
int decimal2 = Integer.parseInt(binStr, 2);  // 10（二进制转十进制）
```

### 3.2 字符串分割

#### split() - 分割字符串
```java
// 基本用法
String str = "apple,banana,orange";
String[] fruits = str.split(",");
// fruits = ["apple", "banana", "orange"]

// 分数处理示例
String fraction = "3/4";
String[] parts = fraction.split("/");
int numerator = Integer.parseInt(parts[0]);    // 分子：3
int denominator = Integer.parseInt(parts[1]);  // 分母：4
```

#### split() 的高级用法
```java
// 使用正则表达式分割
String str = "2018年11月18日abcd85gg688";
String[] parts = str.split("\\d+");  // 按数字分割
// parts = ["", "年", "月", "日abcd", "gg", ""]

// limit 参数
String str2 = "a,b,c,d";
String[] parts2 = str2.split(",", 2);
// parts2 = ["a", "b,c,d"]（最多分割1次，得到2个元素）
```

**split() 的 limit 参数说明：**

| limit值 | 行为 | 示例 |
|---------|------|------|
| `limit > 0` | 最多分割 limit-1 次 | `"a,b,c".split(",", 2)` → ["a", "b,c"] |
| `limit < 0` | 分割所有，保留尾部空串 | `"a,b,c,".split(",", -1)` → ["a","b","c",""] |
| `limit = 0` | 分割所有，丢弃尾部空串 | `"a,b,c,".split(",", 0)` → ["a","b","c"] |

### 3.3 数学计算

#### 最大公约数（GCD）
```java
// 方法一：循环实现
public static int gcd(int a, int b) {
    while (b != 0) {
        int temp = a % b;
        a = b;
        b = temp;
    }
    return a;
}

// 方法二：递归实现
public static int gcd(int a, int b) {
    return b == 0 ? a : gcd(b, a % b);
}

// 使用示例
int result = gcd(12, 18);  // 6
```

#### 最小公倍数（LCM）
```java
public static int lcm(int a, int b) {
    return a * b / gcd(a, b);
}

// 使用示例
int result = lcm(12, 18);  // 36
```

### 3.4 数组、字符串、集合的长度

| 类型 | 方法/属性 | 使用场景 | 示例 |
|------|----------|----------|------|
| **数组** | `length` | 获取数组长度（属性） | `int[] arr = {1,2,3}; arr.length` → 3 |
| **字符串** | `length()` | 获取字符串长度（方法） | `"Hello".length()` → 5 |
| **集合** | `size()` | 获取集合大小（方法） | `list.size()` → 集合元素个数 |

**记忆技巧：**
- 数组是**属性**（length），不加括号
- 字符串和集合是**方法**（length()、size()），需要加括号

---

## 四、面试常见问题

### Q1: Java中的输入输出流是什么？

**答案：**

Java的输入输出（I/O）基于流（Stream）的概念：
- **输入流**：从数据源读取数据到程序（如：Scanner、InputStream）
- **输出流**：从程序写数据到目的地（如：System.out、OutputStream）

**标准输入输出：**
- `System.in` - 标准输入流（键盘）
- `System.out` - 标准输出流（控制台）
- `System.err` - 标准错误流（控制台）

---

### Q2: next() 和 nextLine() 混合使用时要注意什么？

**答案：**

**问题：** nextLine() 前面如果有 next()、nextInt() 等方法，会导致 nextLine() 读取到空字符串。

**原因：** next()、nextInt() 等方法不会读取换行符，换行符会残留在输入缓冲区中，导致 nextLine() 直接读取到这个换行符。

**解决方案：**
```java
Scanner sc = new Scanner(System.in);

// 方案一：在需要的地方多调用一次 nextLine() 清空缓冲区
System.out.print("输入年龄：");
int age = sc.nextInt();
sc.nextLine();  // 清空缓冲区中的换行符

System.out.print("输入姓名：");
String name = sc.nextLine();  // 正常读取

// 方案二：统一使用 nextLine() + 类型转换
System.out.print("输入年龄：");
int age = Integer.parseInt(sc.nextLine());

System.out.print("输入姓名：");
String name = sc.nextLine();
```

---

### Q3: 为什么字符 '0' 可以转换成数字 0？

**答案：**

这是基于 **ASCII 编码** 的原理：
- 字符 `'0'` 的 ASCII 值是 48
- 字符 `'1'` 的 ASCII 值是 49
- ...
- 字符 `'9'` 的 ASCII 值是 57

因此：`ch - '0'` 就能将字符转换为对应的数字。

**示例：**
```java
char ch = '5';
int num = ch - '0';  // 53 - 48 = 5

// 应用：将数字字符串转为整数
String str = "123";
int result = 0;
for (int i = 0; i < str.length(); i++) {
    result = result * 10 + (str.charAt(i) - '0');
}
System.out.println(result);  // 123
```

---

### Q4: String.valueOf(null) 和 ""+null 有什么区别？

**答案：**

```java
// 情况一：String.valueOf(null)
String str1 = String.valueOf(null);  // "null"（字符串）

// 情况二："" + null
String str2 = "" + null;  // "null"（字符串）

// 情况三：直接赋值 null
String str3 = null;  // null（引用为空）
```

**区别：**
- `String.valueOf(null)` 和 `"" + null` 都会得到字符串 `"null"`
- 直接赋值 `null` 得到的是空引用，调用方法会抛出 `NullPointerException`

---

### Q5: 如何判断一个字符串是否为数字？

**答案：**

**方法一：使用 try-catch**
```java
public static boolean isNumeric(String str) {
    try {
        Integer.parseInt(str);
        return true;
    } catch (NumberFormatException e) {
        return false;
    }
}
```

**方法二：使用正则表达式**
```java
public static boolean isNumeric(String str) {
    return str.matches("-?\\d+");  // 匹配整数（包括负数）
}

public static boolean isDecimal(String str) {
    return str.matches("-?\\d+(\\.\\d+)?");  // 匹配小数
}
```

---

## 📚 本章总结

1. **IDEA快捷键** 能大幅提升开发效率，需要熟练掌握常用快捷键
2. **输入输出** 是程序与用户交互的基础，理解 Scanner 的使用
3. **字符串处理** 是编程中最常见的操作，掌握 split()、charAt() 等方法
4. **类型转换** 需要注意数据类型匹配和异常处理

**重点掌握：**
- ✅ IDEA 常用快捷键（格式化、生成代码、查看定义）
- ✅ Scanner 输入（next() vs nextLine()）
- ✅ 字符串处理（split()、charAt()、valueOf()）
- ✅ 类型转换（parseInt()、String.valueOf()）

---

**下一章：** [变量与数据类型](02-变量概述.md) →
