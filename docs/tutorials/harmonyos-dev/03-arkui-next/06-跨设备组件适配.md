---
title: è·¨è®¾å¤‡ç»„ä»¶é€‚é…
date: 2025-01-22
---

# è·¨è®¾å¤‡ç»„ä»¶é€‚é…

> ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œ

## ğŸ¯ è®¾å¤‡ç±»å‹è¯†åˆ«

### è·å–è®¾å¤‡ç±»å‹

```typescript
import deviceInfo from '@ohos.deviceInfo'

@Entry
@Component
struct DeviceDetection {
  @State deviceType: string = ''
  
  aboutToAppear() {
    this.deviceType = deviceInfo.deviceType
    // 'phone' | 'tablet' | 'wearable' | 'tv' | '2in1'
  }
  
  build() {
    Column() {
      if (this.deviceType === 'phone') {
        PhoneLayout()
      } else if (this.deviceType === 'tablet') {
        TabletLayout()
      } else if (this.deviceType === 'wearable') {
        WearableLayout()
      }
    }
  }
}
```

## ğŸ“± æ‰‹æœºç«¯é€‚é…

### æ‰‹æœºå¸ƒå±€

```typescript
@Component
struct PhoneLayout {
  build() {
    Column() {
      // é¡¶éƒ¨å¯¼èˆªæ 
      Row() {
        Image($r('app.media.icon_back'))
          .width(24).height(24)
        Text('æ ‡é¢˜').layoutWeight(1)
        Image($r('app.media.icon_menu'))
          .width(24).height(24)
      }
      .width('100%')
      .height(56)
      .padding({ left: 16, right: 16 })
      
      // å†…å®¹åŒºåŸŸ
      List() {
        ForEach([1, 2, 3], (item: number) => {
          ListItem() {
            Text(`Item ${item}`)
              .width('100%')
              .height(60)
          }
        })
      }
      .layoutWeight(1)
      
      // åº•éƒ¨å¯¼èˆªæ 
      Row() {
        ForEach(['é¦–é¡µ', 'æ¶ˆæ¯', 'æˆ‘çš„'], (tab: string) => {
          Column() {
            Image($r('app.media.icon_home'))
              .width(24).height(24)
            Text(tab).fontSize(12)
          }
          .layoutWeight(1)
        })
      }
      .width('100%')
      .height(56)
    }
  }
}
```

## ğŸ“Ÿ å¹³æ¿ç«¯é€‚é…

### å¹³æ¿å¸ƒå±€

```typescript
@Component
struct TabletLayout {
  build() {
    Row() {
      // å·¦ä¾§å¯¼èˆªæ 
      Column() {
        ForEach(['é¦–é¡µ', 'æ¶ˆæ¯', 'æˆ‘çš„'], (tab: string) => {
          Row() {
            Image($r('app.media.icon'))
              .width(24).height(24)
            Text(tab).fontSize(16)
          }
          .width('100%')
          .height(50)
          .padding({ left: 20 })
        })
      }
      .width(200)
      .backgroundColor(0xF5F5F5)
      
      // ä¸»å†…å®¹åŒºåŸŸ
      Column() {
        // é¡¶éƒ¨æ ‡é¢˜æ 
        Text('å†…å®¹åŒºåŸŸ')
          .fontSize(24)
          .width('100%')
          .height(60)
          .padding({ left: 20 })
        
        // å†…å®¹åˆ—è¡¨
        List() {
          ForEach([1, 2, 3, 4, 5], (item: number) => {
            ListItem() {
              Row() {
                Text(`Item ${item}`)
                  .fontSize(18)
              }
              .width('100%')
              .height(80)
              .padding(20)
            }
          })
        }
        .layoutWeight(1)
      }
      .layoutWeight(1)
    }
    .width('100%')
    .height('100%')
  }
}
```

## âŒš æ™ºèƒ½ç©¿æˆ´é€‚é…

### æ‰‹è¡¨å¸ƒå±€

```typescript
@Component
struct WearableLayout {
  build() {
    Column() {
      // åœ†å½¢è¡¨ç›˜é€‚é…
      Circle()
        .width(200)
        .height(200)
        .fill(Color.Blue)
      
      // ç´§å‡‘çš„åˆ—è¡¨
      List() {
        ForEach([1, 2, 3], (item: number) => {
          ListItem() {
            Text(`Item ${item}`)
              .fontSize(14)
              .height(40)
          }
        })
      }
    }
    .width('100%')
    .justifyContent(FlexAlign.Center)
  }
}
```

## ğŸ“± æŠ˜å å±é€‚é…

### æŠ˜å å±çŠ¶æ€æ£€æµ‹

```typescript
import window from '@ohos.window'

@Entry
@Component
struct FoldableExample {
  @State isFolded: boolean = false
  @State displayMode: string = 'normal'
  
  async aboutToAppear() {
    const windowClass = await window.getLastWindow(getContext())
    
    windowClass.on('windowSizeChange', (size) => {
      // ç›‘å¬æŠ˜å çŠ¶æ€å˜åŒ–
      this.checkFoldState(size.width, size.height)
    })
  }
  
  checkFoldState(width: number, height: number) {
    if (width < 600) {
      this.displayMode = 'folded'  // æŠ˜å çŠ¶æ€
    } else {
      this.displayMode = 'expanded'  // å±•å¼€çŠ¶æ€
    }
  }
  
  build() {
    Column() {
      if (this.displayMode === 'folded') {
        // æŠ˜å çŠ¶æ€ - å•å±å¸ƒå±€
        PhoneLayout()
      } else {
        // å±•å¼€çŠ¶æ€ - åŒå±å¸ƒå±€
        Row() {
          List().width('50%')  // å·¦å±
          Detail().width('50%')  // å³å±
        }
      }
    }
  }
}
```

## ğŸ¨ é€šç”¨é€‚é…ç»„ä»¶

### è‡ªé€‚åº”å¡ç‰‡

```typescript
@Component
export struct AdaptiveCard {
  @Prop title: string
  @Prop content: string
  @State cardWidth: string = '100%'
  
  aboutToAppear() {
    const deviceType = deviceInfo.deviceType
    
    if (deviceType === 'phone') {
      this.cardWidth = '100%'
    } else if (deviceType === 'tablet') {
      this.cardWidth = '48%'
    } else {
      this.cardWidth = '30%'
    }
  }
  
  build() {
    Column({ space: 10 }) {
      Text(this.title)
        .fontSize(18)
        .fontWeight(FontWeight.Bold)
      
      Text(this.content)
        .fontSize(14)
        .fontColor(Color.Gray)
    }
    .width(this.cardWidth)
    .padding(15)
    .backgroundColor(Color.White)
    .borderRadius(8)
  }
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä½¿ç”¨è®¾å¤‡èƒ½åŠ›æŸ¥è¯¢

```typescript
import deviceInfo from '@ohos.deviceInfo'

const isTablet = deviceInfo.deviceType === 'tablet'
const isPhone = deviceInfo.deviceType === 'phone'
```

### 2. å“åº”å¼å¸ƒå±€ä¼˜å…ˆ

```typescript
// âœ… ä½¿ç”¨ GridRow è‡ªåŠ¨é€‚é…
GridRow({
  columns: { sm: 4, md: 8, lg: 12 }
}) {
  GridCol({ span: { sm: 4, md: 4, lg: 3 } }) {
    Text('å†…å®¹')
  }
}
```

### 3. æ¡ä»¶æ¸²æŸ“

```typescript
if (deviceType === 'phone') {
  PhoneLayout()
} else {
  TabletLayout()
}
```

## ğŸ“š å‚è€ƒèµ„æº

- [ä¸€æ¬¡å¼€å‘å¤šç«¯éƒ¨ç½²](https://developer.harmonyos.com/cn/docs/documentation/doc-guides-V3/start-with-ets-stage-0000001477980905-V3)

---

**ä¸‹ä¸€èŠ‚** â†’ [è‡ªå®šä¹‰ç»„ä»¶æœ€ä½³å®è·µ](07-è‡ªå®šä¹‰ç»„ä»¶æœ€ä½³å®è·µ.md)
