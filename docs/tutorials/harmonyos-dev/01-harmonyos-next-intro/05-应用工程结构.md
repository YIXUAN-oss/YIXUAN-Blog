---
title: åº”ç”¨å·¥ç¨‹ç»“æ„
date: 2025-01-22
---

# åº”ç”¨å·¥ç¨‹ç»“æ„

> ç†è§£ HarmonyOS åº”ç”¨å·¥ç¨‹ç»„ç»‡ç»“æ„

## ğŸ“ å·¥ç¨‹ç›®å½•ç»“æ„

### æ ‡å‡†å·¥ç¨‹ç»“æ„

```
MyApplication/
â”œâ”€ AppScope/                    # åº”ç”¨å…¨å±€é…ç½®
â”‚  â”œâ”€ resources/               # å…¨å±€èµ„æº
â”‚  â””â”€ app.json5               # åº”ç”¨é…ç½®æ–‡ä»¶
â”œâ”€ entry/                      # ä¸»æ¨¡å—
â”‚  â”œâ”€ src/
â”‚  â”‚  â”œâ”€ main/
â”‚  â”‚  â”‚  â”œâ”€ ets/              # ArkTS æºç 
â”‚  â”‚  â”‚  â”‚  â”œâ”€ entryability/  # Ability
â”‚  â”‚  â”‚  â”‚  â”œâ”€ pages/         # é¡µé¢
â”‚  â”‚  â”‚  â”‚  â””â”€ entrybackupability/ # å¤‡ä»½æ¢å¤
â”‚  â”‚  â”‚  â”œâ”€ resources/        # æ¨¡å—èµ„æº
â”‚  â”‚  â”‚  â””â”€ module.json5      # æ¨¡å—é…ç½®
â”‚  â”‚  â””â”€ ohosTest/            # æµ‹è¯•ä»£ç 
â”‚  â””â”€ build-profile.json5     # æ„å»ºé…ç½®
â”œâ”€ oh_modules/                 # ä¸‰æ–¹åº“
â”œâ”€ build-profile.json5         # å·¥ç¨‹æ„å»ºé…ç½®
â”œâ”€ hvigorfile.ts              # æ„å»ºè„šæœ¬
â””â”€ oh-package.json5           # ä¾èµ–ç®¡ç†
```

## ğŸ“‹ é…ç½®æ–‡ä»¶è¯¦è§£

### app.json5ï¼ˆåº”ç”¨é…ç½®ï¼‰

```json5
{
  "app": {
    "bundleName": "com.example.myapplication",  // åº”ç”¨åŒ…å
    "vendor": "example",                         // åº”ç”¨ä¾›åº”å•†
    "versionCode": 1000000,                      // ç‰ˆæœ¬å·
    "versionName": "1.0.0",                      // ç‰ˆæœ¬åç§°
    "icon": "$media:app_icon",                   // åº”ç”¨å›¾æ ‡
    "label": "$string:app_name",                 // åº”ç”¨åç§°
    "distributedNotificationEnabled": true,      // åˆ†å¸ƒå¼é€šçŸ¥
    "targetAPIVersion": 12,                      // ç›®æ ‡APIç‰ˆæœ¬
    "compatibleAPIVersion": 12                   // å…¼å®¹APIç‰ˆæœ¬
  }
}
```

### module.json5ï¼ˆæ¨¡å—é…ç½®ï¼‰

```json5
{
  "module": {
    "name": "entry",                    // æ¨¡å—åç§°
    "type": "entry",                    // æ¨¡å—ç±»å‹
    "description": "$string:module_desc",
    "mainElement": "EntryAbility",      // å…¥å£ Ability
    "deviceTypes": [                    // æ”¯æŒè®¾å¤‡ç±»å‹
      "phone",
      "tablet",
      "2in1"
    ],
    "deliveryWithInstall": true,
    
    "abilities": [                      // Ability é…ç½®
      {
        "name": "EntryAbility",
        "srcEntry": "./ets/entryability/EntryAbility.ets",
        "description": "$string:EntryAbility_desc",
        "icon": "$media:icon",
        "label": "$string:EntryAbility_label",
        "startWindowIcon": "$media:startIcon",
        "startWindowBackground": "$color:start_window_background",
        "exported": true,                // æ˜¯å¦å¯è¢«å…¶ä»–åº”ç”¨è°ƒç”¨
        "skills": [                      // æ„å›¾é…ç½®
          {
            "entities": [
              "entity.system.home"
            ],
            "actions": [
              "action.system.home"
            ]
          }
        ]
      }
    ],
    
    "requestPermissions": [             // æƒé™ç”³è¯·
      {
        "name": "ohos.permission.INTERNET",
        "reason": "$string:reason_internet",
        "usedScene": {
          "abilities": ["EntryAbility"],
          "when": "inuse"
        }
      }
    ]
  }
}
```

## ğŸ¨ èµ„æºç›®å½•ç»“æ„

### resources ç›®å½•

```
resources/
â”œâ”€ base/                       # é»˜è®¤èµ„æº
â”‚  â”œâ”€ element/                # åŸºç¡€å…ƒç´ 
â”‚  â”‚  â”œâ”€ color.json          # é¢œè‰²
â”‚  â”‚  â”œâ”€ string.json         # å­—ç¬¦ä¸²
â”‚  â”‚  â””â”€ float.json          # æµ®ç‚¹æ•°
â”‚  â”œâ”€ media/                 # åª’ä½“èµ„æº
â”‚  â”‚  â”œâ”€ app_icon.png       # åº”ç”¨å›¾æ ‡
â”‚  â”‚  â””â”€ background.png     # èƒŒæ™¯å›¾
â”‚  â””â”€ profile/               # é…ç½®æ–‡ä»¶
â”œâ”€ en_US/                    # è‹±æ–‡èµ„æº
â”‚  â””â”€ element/
â”‚      â””â”€ string.json
â”œâ”€ zh_CN/                    # ä¸­æ–‡èµ„æº
â”‚  â””â”€ element/
â”‚      â””â”€ string.json
â””â”€ rawfile/                  # åŸå§‹æ–‡ä»¶
    â””â”€ data.json
```

### èµ„æºæ–‡ä»¶ç¤ºä¾‹

**color.json**
```json
{
  "color": [
    {
      "name": "start_window_background",
      "value": "#FFFFFF"
    },
    {
      "name": "primary_color",
      "value": "#007DFF"
    }
  ]
}
```

**string.json**
```json
{
  "string": [
    {
      "name": "app_name",
      "value": "æˆ‘çš„åº”ç”¨"
    },
    {
      "name": "EntryAbility_label",
      "value": "é¦–é¡µ"
    }
  ]
}
```

## ğŸ”§ æºç ç»„ç»‡

### Ability æ–‡ä»¶

```typescript
// EntryAbility.ets
import UIAbility from '@ohos.app.ability.UIAbility'
import window from '@ohos.window'

export default class EntryAbility extends UIAbility {
  onCreate(want, launchParam) {
    console.log('Ability onCreate')
  }

  onWindowStageCreate(windowStage: window.WindowStage) {
    // åŠ è½½ä¸»é¡µé¢
    windowStage.loadContent('pages/Index', (err, data) => {
      if (err.code) {
        console.error('Failed to load the content')
        return
      }
      console.log('Succeeded in loading the content')
    })
  }

  onForeground() {
    console.log('Ability onForeground')
  }

  onBackground() {
    console.log('Ability onBackground')
  }

  onDestroy() {
    console.log('Ability onDestroy')
  }
}
```

### é¡µé¢æ–‡ä»¶

```typescript
// pages/Index.ets
@Entry
@Component
struct Index {
  @State message: string = 'Hello World'

  build() {
    Column() {
      Text(this.message)
        .fontSize(50)
        .fontWeight(FontWeight.Bold)
    }
    .width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}
```

## ğŸ“¦ ä¾èµ–ç®¡ç†

### oh-package.json5

```json5
{
  "name": "myapplication",
  "version": "1.0.0",
  "description": "Please describe the basic information.",
  "main": "",
  "author": "",
  "license": "",
  "dependencies": {
    "@ohos/axios": "^2.2.0"  // ç¬¬ä¸‰æ–¹åº“
  },
  "devDependencies": {
    "@ohos/hypium": "1.0.16"  // æµ‹è¯•æ¡†æ¶
  }
}
```

### å®‰è£…ä¾èµ–

```bash
# åœ¨ç»ˆç«¯æ‰§è¡Œ
ohpm install

# æˆ–å®‰è£…æŒ‡å®šåŒ…
ohpm install @ohos/axios
```

## ğŸ—ï¸ æ„å»ºé…ç½®

### build-profile.json5

```json5
{
  "app": {
    "signingConfigs": [
      {
        "name": "default",
        "type": "HarmonyOS",
        "material": {
          "certpath": "cert/debug.cer",
          "storePassword": "0000001B8A8E8B7D3BFBA",
          "keyAlias": "debugKey",
          "keyPassword": "0000001B8A8E8B7D3BFBA",
          "profile": "cert/debug.p7b",
          "signAlg": "SHA256withECDSA",
          "storeFile": "cert/debug.p12"
        }
      }
    ],
    "products": [
      {
        "name": "default",
        "signingConfig": "default",
        "compatibleSdkVersion": "5.0.0(12)",
        "runtimeOS": "HarmonyOS"
      }
    ]
  },
  "modules": [
    {
      "name": "entry",
      "srcPath": "./entry",
      "targets": [
        {
          "name": "default",
          "applyToProducts": ["default"]
        }
      ]
    }
  ]
}
```

## ğŸ“± å¤šæ¨¡å—åº”ç”¨

### æ·»åŠ  Feature æ¨¡å—

```
MyApplication/
â”œâ”€ entry/          # ä¸»æ¨¡å—
â”œâ”€ feature1/       # åŠŸèƒ½æ¨¡å—1
â”œâ”€ feature2/       # åŠŸèƒ½æ¨¡å—2
â””â”€ library/        # å…±äº«åº“æ¨¡å—
```

### æ¨¡å—é—´ä¾èµ–

```json5
// entry/oh-package.json5
{
  "dependencies": {
    "@ohos/feature1": "file:../feature1",  // ä¾èµ– feature1 æ¨¡å—
    "@ohos/library": "file:../library"     // ä¾èµ–åº“æ¨¡å—
  }
}
```

### å…±äº«åº“æ¨¡å—

```json5
// library/src/main/module.json5
{
  "module": {
    "name": "library",
    "type": "shared",  // å…±äº«åº“ç±»å‹
    "deviceTypes": ["phone", "tablet"]
  }
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ¨¡å—åŒ–ç»„ç»‡

```
entry/src/main/ets/
â”œâ”€ common/              # å…¬å…±ä»£ç 
â”‚  â”œâ”€ constants/       # å¸¸é‡
â”‚  â”œâ”€ utils/           # å·¥å…·ç±»
â”‚  â””â”€ components/      # å…¬å…±ç»„ä»¶
â”œâ”€ entryability/       # Ability
â”œâ”€ pages/              # é¡µé¢
â”‚  â”œâ”€ home/           # é¦–é¡µæ¨¡å—
â”‚  â”œâ”€ profile/        # ä¸ªäººä¸­å¿ƒ
â”‚  â””â”€ settings/       # è®¾ç½®
â”œâ”€ models/             # æ•°æ®æ¨¡å‹
â”œâ”€ services/           # æœåŠ¡å±‚
â””â”€ viewmodels/         # è§†å›¾æ¨¡å‹
```

### 2. èµ„æºå‘½åè§„èŒƒ

```typescript
// âœ… è‰¯å¥½çš„å‘½å
$r('app.color.primary_color')
$r('app.string.login_button_text')
$r('app.media.icon_home')

// âŒ é¿å…
$r('app.color.c1')
$r('app.string.str1')
```

### 3. é…ç½®ç‰ˆæœ¬ç®¡ç†

```json5
// ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†
{
  "app": {
    "versionCode": 1000000,      // ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢å·
    "versionName": "1.0.0"
  }
}

// æ¯æ¬¡å‘ç‰ˆæ›´æ–°
// 1.0.0 -> 1.0.1ï¼ˆä¿®å¤bugï¼‰
// 1.0.1 -> 1.1.0ï¼ˆæ–°åŠŸèƒ½ï¼‰
// 1.1.0 -> 2.0.0ï¼ˆé‡å¤§æ›´æ–°ï¼‰
```

## ğŸ” è°ƒè¯•é…ç½®

### launch.json

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Launch on Phone",
      "type": "HarmonyOS",
      "request": "launch",
      "bundleName": "com.example.myapplication",
      "abilityName": "EntryAbility",
      "deviceType": "phone"
    }
  ]
}
```

## ğŸ“š å‚è€ƒèµ„æº

- [åº”ç”¨å·¥ç¨‹ç»“æ„](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-package-structure-stage-0000001478061425)
- [åº”ç”¨é…ç½®æ–‡ä»¶](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-configuration-file-overview-stage-0000001478340869)
- [èµ„æºåˆ†ç±»ä¸è®¿é—®](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/resource-categories-and-access-0000001544463977)

---

**ç¬¬1ç« å®Œæˆï¼** ç»§ç»­å­¦ä¹  â†’ [ç¬¬2ç« ï¼šArkTS 5.0 æ–°ç‰¹æ€§](../02-arkts-advanced/)
