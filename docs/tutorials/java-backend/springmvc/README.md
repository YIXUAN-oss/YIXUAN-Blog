---
title: Spring MVC æ•™ç¨‹
---

# Spring MVC æ•™ç¨‹

> ä»é›¶å¼€å§‹æŒæ¡ Spring MVCï¼Œæˆä¸º Web å¼€å‘é«˜æ‰‹

## ğŸ“š æ•™ç¨‹ç®€ä»‹

æœ¬æ•™ç¨‹å°†å¸¦ä½ ç³»ç»Ÿå­¦ä¹  Spring MVC æ¡†æ¶ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼Œæ¶µç›–è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ã€RESTful æ¥å£ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚Spring MVC æ˜¯ Java Web å¼€å‘çš„ä¸»æµæ¡†æ¶ï¼ŒæŒæ¡å®ƒæ˜¯æ¯ä¸ª Java å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- âœ… ç†è§£ Spring MVC çš„å·¥ä½œåŸç†
- âœ… æŒæ¡æ§åˆ¶å™¨çš„å¼€å‘
- âœ… ç†Ÿç»ƒå¤„ç†è¯·æ±‚å’Œå“åº”
- âœ… æŒæ¡æ•°æ®ç»‘å®šå’ŒéªŒè¯
- âœ… å¼€å‘ RESTful æ¥å£
- âœ… æŒæ¡æ‹¦æˆªå™¨å’Œå¼‚å¸¸å¤„ç†
- âœ… åº”å¯¹å¸¸è§çš„ Spring MVC é¢è¯•é¢˜

## ğŸ“– æ•™ç¨‹ç›®å½•

### [ç¬¬ä¸€ç« ï¼šSpring MVC åŸºç¡€å…¥é—¨](1.SpringMVCåŸºç¡€å…¥é—¨.md)
- Spring MVC æ˜¯ä»€ä¹ˆï¼Ÿ
- MVC è®¾è®¡æ¨¡å¼
- Spring MVC æ‰§è¡Œæµç¨‹
- åˆ›å»ºç¬¬ä¸€ä¸ª Spring MVC é¡¹ç›®
- å¸¸ç”¨æ³¨è§£ï¼š@Controllerã€@RequestMapping

### [ç¬¬äºŒç« ï¼šSpring MVC æ ¸å¿ƒæŠ€æœ¯](2.SpringMVCæ ¸å¿ƒæŠ€æœ¯.md)
- è¯·æ±‚å¤„ç†è¯¦è§£
- å“åº”å¤„ç†è¯¦è§£
- æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰
- å¼‚å¸¸å¤„ç†
- æ–‡ä»¶ä¸Šä¼ ä¸‹è½½
- è·¨åŸŸé…ç½®

### [ç¬¬ä¸‰ç« ï¼šæ•°æ®ç»‘å®šä¸éªŒè¯](3.æ•°æ®ç»‘å®šä¸éªŒè¯.md)
- è¯·æ±‚å‚æ•°ç»‘å®š
- è·¯å¾„å˜é‡ç»‘å®š
- è¯·æ±‚ä½“ç»‘å®š
- æ•°æ®ç±»å‹è½¬æ¢
- æ•°æ®éªŒè¯ï¼ˆJSR-303ï¼‰
- è‡ªå®šä¹‰éªŒè¯å™¨

### [ç¬¬å››ç« ï¼šRESTful æ¥å£å¼€å‘](4.RESTfulæ¥å£å¼€å‘.md)
- RESTful è®¾è®¡è§„èŒƒ
- @RestController è¯¦è§£
- ç»Ÿä¸€å“åº”æ ¼å¼
- ç»Ÿä¸€å¼‚å¸¸å¤„ç†
- æ¥å£æ–‡æ¡£ï¼ˆSwaggerï¼‰
- æ¥å£æµ‹è¯•

### [ç¬¬äº”ç« ï¼šSpring MVC é¢è¯•é¢˜é›†](5.SpringMVCé¢è¯•é¢˜é›†.md)
- åŸºç¡€æ¦‚å¿µé¢è¯•é¢˜
- æ‰§è¡Œæµç¨‹é¢è¯•é¢˜
- æ³¨è§£ä½¿ç”¨é¢è¯•é¢˜
- æ‹¦æˆªå™¨é¢è¯•é¢˜
- é«˜é¢‘é¢è¯•é¢˜è§£æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

**å‰ç½®è¦æ±‚ï¼š**
- JDK 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.5+
- Tomcat 8.5 æˆ–æ›´é«˜ç‰ˆæœ¬
- IDEï¼ˆæ¨è IntelliJ IDEAï¼‰

### åˆ›å»ºç¬¬ä¸€ä¸ª Spring MVC é¡¹ç›®

**æ­¥éª¤1ï¼šåˆ›å»º Maven Web é¡¹ç›®**

```bash
mvn archetype:generate \
  -DgroupId=com.example \
  -DartifactId=springmvc-demo \
  -DarchetypeArtifactId=maven-archetype-webapp \
  -DinteractiveMode=false
```

**æ­¥éª¤2ï¼šæ·»åŠ ä¾èµ–**

```xml
<dependencies>
    <!-- Spring MVC -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
        <version>5.3.30</version>
    </dependency>
    
    <!-- Servlet API -->
    <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>javax.servlet-api</artifactId>
        <version>4.0.1</version>
        <scope>provided</scope>
    </dependency>
    
    <!-- Jackson (JSON) -->
    <dependency>
        <groupId>com.fasterxml.jackson.core</groupId>
        <artifactId>jackson-databind</artifactId>
        <version>2.15.2</version>
    </dependency>
</dependencies>
```

**æ­¥éª¤3ï¼šé…ç½® DispatcherServlet**

**web.xmlï¼š**
```xml
<servlet>
    <servlet-name>dispatcherServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:spring-mvc.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>dispatcherServlet</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>
```

**æ­¥éª¤4ï¼šSpring MVC é…ç½®**

**spring-mvc.xmlï¼š**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd
           http://www.springframework.org/schema/context
           http://www.springframework.org/schema/context/spring-context.xsd
           http://www.springframework.org/schema/mvc
           http://www.springframework.org/schema/mvc/spring-mvc.xsd">
    
    <!-- ç»„ä»¶æ‰«æ -->
    <context:component-scan base-package="com.example.controller"/>
    
    <!-- æ³¨è§£é©±åŠ¨ -->
    <mvc:annotation-driven/>
    
    <!-- è§†å›¾è§£æå™¨ -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/views/"/>
        <property name="suffix" value=".jsp"/>
    </bean>
</beans>
```

**æ­¥éª¤5ï¼šåˆ›å»º Controller**

```java
package com.example.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ResponseBody;

@Controller
public class HelloController {
    
    @GetMapping("/hello")
    @ResponseBody
    public String hello() {
        return "Hello, Spring MVC!";
    }
}
```

**æ­¥éª¤6ï¼šè¿è¡Œé¡¹ç›®**

```bash
mvn tomcat7:run

# è®¿é—®ï¼šhttp://localhost:8080/hello
```

## ğŸ’¡ å­¦ä¹ å»ºè®®

1. **ç†è§£æµç¨‹** - æ·±å…¥ç†è§£ Spring MVC çš„æ‰§è¡Œæµç¨‹
2. **åŠ¨æ‰‹å®è·µ** - æ¯å­¦å®Œä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œç«‹å³ç¼–ç å®è·µ
3. **å¯¹æ¯”å­¦ä¹ ** - å¯¹æ¯” Servlet å’Œ Spring MVC çš„åŒºåˆ«
4. **å‰åç«¯åˆ†ç¦»** - é‡ç‚¹æŒæ¡ RESTful æ¥å£å¼€å‘
5. **å¾ªåºæ¸è¿›** - ä»ç®€å•åˆ°å¤æ‚ï¼Œé€æ­¥æŒæ¡

## ğŸŒŸ Spring MVC æ ¸å¿ƒæ¦‚å¿µé€Ÿè§ˆ

### MVC è®¾è®¡æ¨¡å¼

```
Modelï¼ˆæ¨¡å‹ï¼‰ - æ•°æ®å’Œä¸šåŠ¡é€»è¾‘
Viewï¼ˆè§†å›¾ï¼‰ - é¡µé¢å±•ç¤º
Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ - å¤„ç†è¯·æ±‚ï¼Œè°ƒç”¨ Service
```

**ä¼ ç»Ÿ MVCï¼š**
```
æµè§ˆå™¨ â†’ Controller â†’ Service â†’ Dao â†’ æ•°æ®åº“
                â†“
              Viewï¼ˆJSPï¼‰
```

**å‰åç«¯åˆ†ç¦»ï¼š**
```
æµè§ˆå™¨ â†’ Controller â†’ Service â†’ Dao â†’ æ•°æ®åº“
         â†“
       JSONï¼ˆRESTful APIï¼‰
```

### Spring MVC æ‰§è¡Œæµç¨‹

```
1. ç”¨æˆ·å‘é€è¯·æ±‚åˆ° DispatcherServlet
2. DispatcherServlet è°ƒç”¨ HandlerMapping æ‰¾åˆ°å¤„ç†å™¨
3. HandlerMapping è¿”å› HandlerExecutionChain
4. DispatcherServlet è°ƒç”¨ HandlerAdapter æ‰§è¡Œå¤„ç†å™¨
5. Handler å¤„ç†è¯·æ±‚ï¼Œè¿”å› ModelAndView
6. DispatcherServlet è°ƒç”¨ ViewResolver è§£æè§†å›¾
7. ViewResolver è¿”å›å…·ä½“çš„ View
8. View æ¸²æŸ“å“åº”
9. DispatcherServlet è¿”å›å“åº”ç»™ç”¨æˆ·
```

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | è¯´æ˜ |
|------|------|
| **DispatcherServlet** | å‰ç«¯æ§åˆ¶å™¨ï¼Œç»Ÿä¸€å¤„ç†è¯·æ±‚ |
| **HandlerMapping** | å¤„ç†å™¨æ˜ å°„å™¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„ Handler |
| **HandlerAdapter** | å¤„ç†å™¨é€‚é…å™¨ï¼Œæ‰§è¡Œ Handler |
| **Handler** | å¤„ç†å™¨ï¼ˆControllerï¼‰ |
| **ViewResolver** | è§†å›¾è§£æå™¨ |
| **View** | è§†å›¾ï¼ˆJSPã€JSONç­‰ï¼‰ |

### å¸¸ç”¨æ³¨è§£

**æ§åˆ¶å™¨æ³¨è§£ï¼š**
```java
@Controller         // æ§åˆ¶å™¨
@RestController     // RESTful æ§åˆ¶å™¨ï¼ˆ= @Controller + @ResponseBodyï¼‰
@RequestMapping     // è¯·æ±‚æ˜ å°„
@GetMapping        // GET è¯·æ±‚
@PostMapping       // POST è¯·æ±‚
@PutMapping        // PUT è¯·æ±‚
@DeleteMapping     // DELETE è¯·æ±‚
```

**å‚æ•°æ³¨è§£ï¼š**
```java
@RequestParam      // è¯·æ±‚å‚æ•°
@PathVariable      // è·¯å¾„å˜é‡
@RequestBody       // è¯·æ±‚ä½“
@RequestHeader     // è¯·æ±‚å¤´
@CookieValue       // Cookie
@SessionAttribute  // Session å±æ€§
@ModelAttribute    // æ¨¡å‹å±æ€§
```

## ğŸ—ï¸ Spring MVC é¡¹ç›®ç»“æ„

```
springmvc-demo/
â”œâ”€â”€ pom.xml
â””â”€â”€ src/
    â””â”€â”€ main/
        â”œâ”€â”€ java/
        â”‚   â””â”€â”€ com/example/
        â”‚       â”œâ”€â”€ controller/      # æ§åˆ¶å™¨
        â”‚       â”‚   â””â”€â”€ UserController.java
        â”‚       â”œâ”€â”€ service/         # ä¸šåŠ¡å±‚
        â”‚       â”‚   â””â”€â”€ UserService.java
        â”‚       â”œâ”€â”€ dao/             # æ•°æ®è®¿é—®å±‚
        â”‚       â”‚   â””â”€â”€ UserDao.java
        â”‚       â”œâ”€â”€ entity/          # å®ä½“ç±»
        â”‚       â”‚   â””â”€â”€ User.java
        â”‚       â”œâ”€â”€ vo/              # è§†å›¾å¯¹è±¡
        â”‚       â”œâ”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
        â”‚       â”œâ”€â”€ interceptor/     # æ‹¦æˆªå™¨
        â”‚       â””â”€â”€ exception/       # å¼‚å¸¸å¤„ç†
        â”œâ”€â”€ resources/
        â”‚   â””â”€â”€ spring-mvc.xml
        â””â”€â”€ webapp/
            â”œâ”€â”€ WEB-INF/
            â”‚   â”œâ”€â”€ web.xml
            â”‚   â””â”€â”€ views/           # JSP è§†å›¾
            â””â”€â”€ static/              # é™æ€èµ„æº
                â”œâ”€â”€ css/
                â”œâ”€â”€ js/
                â””â”€â”€ images/
```

## ğŸ“š Spring MVC vs Servlet

| ç‰¹æ€§ | Servlet | Spring MVC |
|------|---------|-----------|
| å¼€å‘æ•ˆç‡ | ä½ | é«˜ |
| ä»£ç ç®€æ´ | ç¹ç | ç®€æ´ |
| è¯·æ±‚æ˜ å°„ | web.xml | @RequestMapping |
| å‚æ•°è·å– | request.getParameter() | @RequestParam è‡ªåŠ¨ç»‘å®š |
| å“åº”å¤„ç† | response.getWriter() | return å¯¹è±¡è‡ªåŠ¨è½¬æ¢ |
| æ‹¦æˆªå™¨ | Filter | Interceptor |
| æ–‡ä»¶ä¸Šä¼  | æ‰‹åŠ¨å¤„ç† | è‡ªåŠ¨è§£æ |

## ğŸ“š æ¨èèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Spring MVC å®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-framework/reference/web/webmvc.html)
- [Spring Framework å‚è€ƒæ–‡æ¡£](https://docs.spring.io/spring-framework/reference/)

### æ¨èä¹¦ç±
- ã€ŠSpring MVC å­¦ä¹ æŒ‡å—ã€‹
- ã€ŠSpring å®æˆ˜ã€‹ï¼ˆç¬¬ 5 ç‰ˆï¼‰

### åœ¨çº¿èµ„æº
- [Spring å®˜æ–¹åšå®¢](https://spring.io/blog)
- [Spring Guides](https://spring.io/guides)

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬é€‰æ‹©** - å»ºè®®ä½¿ç”¨ Spring 5.x ç‰ˆæœ¬
2. **æ³¨è§£é…ç½®** - ä¼˜å…ˆä½¿ç”¨æ³¨è§£é…ç½®ï¼Œå‡å°‘ XML
3. **å‰åç«¯åˆ†ç¦»** - é‡ç‚¹æŒæ¡ @RestController å’Œ JSON
4. **å¼‚å¸¸å¤„ç†** - ä½¿ç”¨ @ControllerAdvice ç»Ÿä¸€å¤„ç†
5. **Spring Boot** - ç°ä»£å¼€å‘æ¨èä½¿ç”¨ Spring Boot

## ğŸ¯ å­¦ä¹ è·¯çº¿å›¾

```
ç¬¬1å‘¨ï¼šSpring MVC åŸºç¡€
â”œâ”€ MVC è®¾è®¡æ¨¡å¼
â”œâ”€ æ‰§è¡Œæµç¨‹
â”œâ”€ Controller å¼€å‘
â””â”€ è¯·æ±‚æ˜ å°„

ç¬¬2å‘¨ï¼šæ ¸å¿ƒæŠ€æœ¯
â”œâ”€ è¯·æ±‚å¤„ç†
â”œâ”€ å“åº”å¤„ç†
â”œâ”€ æ‹¦æˆªå™¨
â””â”€ å¼‚å¸¸å¤„ç†

ç¬¬3å‘¨ï¼šæ•°æ®å¤„ç†
â”œâ”€ å‚æ•°ç»‘å®š
â”œâ”€ æ•°æ®éªŒè¯
â”œâ”€ ç±»å‹è½¬æ¢
â””â”€ æ–‡ä»¶ä¸Šä¼ 

ç¬¬4å‘¨ï¼šRESTful å¼€å‘
â”œâ”€ RESTful è§„èŒƒ
â”œâ”€ @RestController
â”œâ”€ ç»Ÿä¸€å“åº”
â””â”€ æ¥å£æ–‡æ¡£
```

## ğŸ¤ Spring MVC vs Spring Boot

| ç‰¹æ€§ | Spring MVC | Spring Boot |
|------|-----------|-------------|
| é…ç½® | å¤æ‚ï¼ˆXML + Javaï¼‰ | ç®€å•ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰ |
| ä¾èµ–ç®¡ç† | æ‰‹åŠ¨ç®¡ç† | starter ç»Ÿä¸€ç®¡ç† |
| å†…åµŒæœåŠ¡å™¨ | éœ€è¦å¤–éƒ¨ Tomcat | å†…ç½® Tomcat |
| å­¦ä¹ æ›²çº¿ | é™¡å³­ | å¹³ç¼“ |
| å¼€å‘æ•ˆç‡ | ä¸€èˆ¬ | é«˜ |
| é€‚ç”¨åœºæ™¯ | å­¦ä¹ åŸºç¡€ | ä¼ä¸šå¼€å‘ |

**å­¦ä¹ å»ºè®®ï¼š** å­¦ä¹  Spring MVC ç†è§£åŸç†ï¼Œä½¿ç”¨ Spring Boot è¿›è¡Œå¼€å‘ã€‚

## ğŸ“„ ç‰ˆæƒè¯´æ˜

æœ¬æ•™ç¨‹ä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œæ¬¢è¿åˆ†äº«ä¼ æ’­ã€‚

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹ Spring MVC å­¦ä¹ ä¹‹æ—…ï¼ğŸš€**

**å»ºè®®ä» [ç¬¬ä¸€ç« ï¼šSpring MVC åŸºç¡€å…¥é—¨](1.SpringMVCåŸºç¡€å…¥é—¨.md) å¼€å§‹å­¦ä¹ **
