---
title: SpringCloud面试题集
---

# SpringCloud面试题集

## 一、基础概念

### 1. 什么是微服务？

**答：**

微服务是一种软件架构风格，将单一应用程序划分为一组小型服务，每个服务运行在独立的进程中。

**特点：**
- 服务独立部署
- 服务独立扩展
- 服务松耦合
- 去中心化治理

**优点：**
- ✅ 松耦合
- ✅ 独立扩展
- ✅ 技术栈灵活
- ✅ 故障隔离

**缺点：**
- ❌ 架构复杂
- ❌ 运维成本高
- ❌ 分布式事务
- ❌ 服务间通信

---

### 2. 微服务和单体架构的区别？

**答：**

| 特性 | 单体架构 | 微服务架构 |
|------|---------|-----------|
| **开发难度** | 简单 | 复杂 |
| **部署方式** | 一次性部署 | 独立部署 |
| **扩展性** | 差 | 好 |
| **可维护性** | 差 | 好 |
| **技术栈** | 统一 | 灵活 |

---

### 3. Spring Cloud有哪些核心组件？

**答：**

| 组件 | 功能 |
|------|------|
| **Eureka** | 服务注册与发现 |
| **Ribbon** | 负载均衡 |
| **OpenFeign** | 服务调用 |
| **Gateway** | 服务网关 |
| **Config** | 配置中心 |
| **Sentinel** | 熔断限流 |
| **Nacos** | 注册 + 配置 |

---

## 二、Eureka

### 4. Eureka的自我保护机制？

**答：**

当 Eureka Server 在短时间内丢失过多客户端心跳时，会进入自我保护模式。

**触发条件：**
- 15分钟内心跳失败比例 > 85%

**保护机制：**
- 不再剔除服务
- 保留所有服务信息

**关闭自我保护：**
```yaml
eureka:
  server:
    enable-self-preservation: false
```

---

### 5. Eureka和Nacos的区别？

**答：**

| 特性 | Eureka | Nacos |
|------|--------|-------|
| **功能** | 注册中心 | 注册 + 配置 |
| **CAP** | AP | AP + CP |
| **维护** | 停更 | 活跃 |
| **推荐** | ★★★ | ★★★★★ |

**推荐使用 Nacos**

---

## 三、Ribbon和Feign

### 6. Ribbon有哪些负载均衡策略？

**答：**

| 策略 | 说明 |
|------|------|
| **RoundRobinRule** | 轮询（默认） |
| **RandomRule** | 随机 |
| **RetryRule** | 重试 |
| **WeightedResponseTimeRule** | 响应时间加权 |
| **BestAvailableRule** | 最低并发 |

---

### 7. Ribbon和Feign的区别？

**答：**

**Ribbon：**
- 客户端负载均衡
- 需要手动构建 HTTP 请求

**Feign：**
- 声明式服务调用
- 内置 Ribbon
- 使用更简单（推荐）

**示例：**
```java
// Ribbon
String url = "http://user-service/api/users/1";
User user = restTemplate.getForObject(url, User.class);

// Feign
@FeignClient("user-service")
public interface UserClient {
    @GetMapping("/api/users/{id}")
    User getUserById(@PathVariable Long id);
}
```

---

## 四、Gateway

### 8. Gateway和Zuul的区别？

**答：**

| 特性 | Gateway | Zuul |
|------|---------|------|
| **基础** | WebFlux | Servlet |
| **性能** | 异步非阻塞 | 同步阻塞 |
| **维护** | 活跃 | 停更 |
| **推荐** | ★★★★★ | ★★ |

**推荐使用 Gateway**

---

### 9. Gateway的工作原理？

**答：**

```
客户端请求
   ↓
Gateway Handler Mapping（路由匹配）
   ↓
Gateway Web Handler（过滤器链）
   ↓
Filter（前置处理）
   ↓
目标服务
   ↓
Filter（后置处理）
   ↓
返回响应
```

---

## 五、熔断限流

### 10. 什么是服务雪崩？如何解决？

**答：**

**服务雪崩：** 一个服务故障导致整个系统崩溃。

**解决方案：**
1. **限流**：限制请求速率
2. **熔断**：快速失败
3. **降级**：返回降级数据
4. **隔离**：线程池隔离

---

### 11. Sentinel和Hystrix的区别？

**答：**

| 特性 | Sentinel | Hystrix |
|------|----------|---------|
| **维护** | 活跃 | 停更 |
| **控制台** | 有 | 无 |
| **规则持久化** | 支持 | 不支持 |
| **推荐** | ★★★★★ | ★★ |

**推荐使用 Sentinel**

---

## 六、综合题

### 12. 微服务如何拆分？

**答：**

**拆分原则：**
1. **单一职责**：一个服务只做一件事
2. **高内聚低耦合**：服务内部高内聚，服务间低耦合
3. **业务边界**：按业务领域拆分
4. **数据独立**：每个服务独立数据库

**拆分方式：**
- 按业务功能：用户服务、订单服务、商品服务
- 按技术层次：网关层、业务层、数据层

---

### 13. 微服务的优缺点？

**答：**

**优点：**
- ✅ 松耦合
- ✅ 独立部署
- ✅ 独立扩展
- ✅ 技术栈灵活
- ✅ 故障隔离

**缺点：**
- ❌ 架构复杂
- ❌ 运维成本高
- ❌ 分布式事务
- ❌ 服务间通信
- ❌ 数据一致性

---

### 14. 如何保证微服务的高可用？

**答：**

**措施：**
1. **服务注册**：Nacos/Eureka
2. **负载均衡**：Ribbon
3. **熔断限流**：Sentinel
4. **服务网关**：Gateway
5. **监控告警**：Prometheus + Grafana
6. **链路追踪**：Sleuth + Zipkin

---

### 15. 微服务的技术栈？

**答：**

| 功能 | 技术选型 |
|------|---------|
| **注册中心** | Nacos |
| **配置中心** | Nacos |
| **服务调用** | OpenFeign |
| **负载均衡** | Ribbon |
| **服务网关** | Gateway |
| **熔断限流** | Sentinel |
| **链路追踪** | Sleuth + Zipkin |
| **消息队列** | RabbitMQ/Kafka |
| **分布式事务** | Seata |

---

## 七、总结

### 高频考点

✅ **必须掌握：**
- 微服务概念
- Spring Cloud 核心组件
- Eureka 服务注册
- Ribbon 负载均衡
- Feign 服务调用
- Gateway 网关
- Sentinel 熔断限流

✅ **加分项：**
- Nacos 使用
- 微服务拆分原则
- 分布式事务
- 链路追踪

### 面试技巧

1. **对比说明** - Eureka vs Nacos
2. **画图说明** - 微服务架构图
3. **举例说明** - 服务雪崩
4. **项目经验** - 实际使用场景

---

**恭喜你完成 Spring Cloud 学习！🎉**
