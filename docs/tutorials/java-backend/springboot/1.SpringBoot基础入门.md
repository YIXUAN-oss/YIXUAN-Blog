---
title: SpringBoot基础入门
---

# SpringBoot基础入门

## 一、Spring Boot是什么？

### 1.1 Spring Boot简介

**Spring Boot** 是由 Pivotal 团队提供的全新框架，旨在简化 Spring 应用的初始搭建和开发过程。

**核心理念：**
- **约定优于配置**（Convention Over Configuration）
- **开箱即用**（Out of the Box）
- **独立运行**（Standalone）

### 1.2 Spring Boot的优势

**对比传统 Spring：**

| 特性 | 传统 Spring | Spring Boot |
|------|-----------|-------------|
| 配置 | 大量 XML 配置 | 极少配置 |
| 依赖管理 | 手动管理版本 | 自动管理 |
| 服务器 | 需要外部 Tomcat | 内嵌 Tomcat |
| 部署 | 需要打 war 包 | 直接运行 jar |
| 开发效率 | 较低 | 很高 |

**核心优势：**
- ✅ **快速开发** - 几分钟创建一个 Web 应用
- ✅ **简化配置** - 自动配置，无需繁琐的 XML
- ✅ **独立运行** - 内嵌服务器，jar 包即可运行
- ✅ **生产就绪** - 内置监控、健康检查
- ✅ **微服务** - 天生支持微服务架构

---

## 二、创建第一个Spring Boot项目

### 2.1 方式一：Spring Initializr（推荐）

**在线创建：**
1. 访问 [https://start.spring.io/](https://start.spring.io/)
2. 选择配置：
   ```
   Project: Maven Project
   Language: Java
   Spring Boot: 2.7.18
   Group: com.example
   Artifact: demo
   Name: demo
   Package name: com.example.demo
   Packaging: Jar
   Java: 8
   ```
3. 添加依赖：Spring Web
4. 点击 Generate 下载项目

**IDEA 创建：**
```
File → New → Project → Spring Initializr
```

### 2.2 方式二：手动创建 Maven 项目

**1. 创建 Maven 项目**
```bash
mvn archetype:generate \
  -DgroupId=com.example \
  -DartifactId=demo \
  -DarchetypeArtifactId=maven-archetype-quickstart \
  -DinteractiveMode=false
```

**2. 修改 pom.xml**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <groupId>com.example</groupId>
    <artifactId>demo</artifactId>
    <version>1.0-SNAPSHOT</version>
    
    <!-- 继承 Spring Boot 父项目 -->
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.7.18</version>
    </parent>
    
    <properties>
        <java.version>1.8</java.version>
    </properties>
    
    <dependencies>
        <!-- Spring Boot Web Starter -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <!-- Spring Boot Test -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    
    <build>
        <plugins>
            <!-- Spring Boot Maven 插件 -->
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>
```

**3. 创建启动类**
```java
package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

**4. 创建 Controller**
```java
package com.example.demo.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloController {
    
    @GetMapping("/hello")
    public String hello() {
        return "Hello, Spring Boot!";
    }
}
```

**5. 运行项目**
```bash
# 方式1：Maven 命令
mvn spring-boot:run

# 方式2：IDEA 直接运行 main 方法

# 方式3：打包运行
mvn clean package
java -jar target/demo-1.0-SNAPSHOT.jar

# 访问：http://localhost:8080/hello
```

---

## 三、项目结构详解

### 3.1 标准项目结构

```
demo/
├── pom.xml                                    # Maven 配置
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/example/demo/
│   │   │       ├── DemoApplication.java       # 启动类 ⭐
│   │   │       ├── controller/                # 控制层
│   │   │       │   └── HelloController.java
│   │   │       ├── service/                   # 业务层
│   │   │       │   ├── UserService.java
│   │   │       │   └── impl/
│   │   │       │       └── UserServiceImpl.java
│   │   │       ├── mapper/                    # 数据访问层
│   │   │       │   └── UserMapper.java
│   │   │       ├── entity/                    # 实体类
│   │   │       │   └── User.java
│   │   │       ├── dto/                       # 数据传输对象
│   │   │       ├── vo/                        # 视图对象
│   │   │       ├── config/                    # 配置类
│   │   │       │   └── WebConfig.java
│   │   │       ├── interceptor/               # 拦截器
│   │   │       ├── exception/                 # 异常处理
│   │   │       │   └── GlobalExceptionHandler.java
│   │   │       └── util/                      # 工具类
│   │   └── resources/
│   │       ├── application.yml                # 配置文件 ⭐
│   │       ├── application-dev.yml            # 开发环境
│   │       ├── application-prod.yml           # 生产环境
│   │       ├── mapper/                        # MyBatis XML
│   │       ├── static/                        # 静态资源
│   │       │   ├── css/
│   │       │   ├── js/
│   │       │   └── images/
│   │       └── templates/                     # 模板文件
│   └── test/                                  # 测试代码
│       └── java/
│           └── com/example/demo/
│               └── DemoApplicationTests.java
└── target/                                    # 编译输出
```

### 3.2 核心文件说明

**1. 启动类（DemoApplication.java）**
```java
@SpringBootApplication // 核心注解
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

**2. 配置文件（application.yml）**
```yaml
server:
  port: 8080 # 服务器端口
  
spring:
  application:
    name: demo # 应用名称
```

---

## 四、@SpringBootApplication详解

### 4.1 注解组成

**@SpringBootApplication 是一个组合注解：**
```java
@SpringBootApplication
= @SpringBootConfiguration    // 配置类
+ @EnableAutoConfiguration    // 自动配置
+ @ComponentScan             // 组件扫描
```

### 4.2 详细说明

**1. @SpringBootConfiguration**
```java
// 等价于 @Configuration
// 标识这是一个配置类
@SpringBootConfiguration
public class DemoApplication {
    
    @Bean
    public User user() {
        return new User();
    }
}
```

**2. @EnableAutoConfiguration**
```java
// 开启自动配置
// Spring Boot 会根据依赖自动配置项目
// 例如：添加了 spring-boot-starter-web，自动配置 Tomcat
```

**3. @ComponentScan**
```java
// 默认扫描启动类所在包及子包
// com.example.demo → 扫描所有子包
```

### 4.3 自定义扫描包

```java
@SpringBootApplication(scanBasePackages = "com.example")
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

---

## 五、Spring Boot Starter

### 5.1 什么是 Starter？

**Starter** 是 Spring Boot 提供的依赖描述符，简化依赖管理。

**原理：**
```
一个 Starter = 一组相关依赖的集合
```

### 5.2 常用 Starter

| Starter | 说明 | 包含的依赖 |
|---------|------|----------|
| spring-boot-starter-web | Web 开发 | Spring MVC、Tomcat、Jackson |
| spring-boot-starter-data-jpa | JPA | Hibernate、Spring Data JPA |
| spring-boot-starter-data-redis | Redis | Jedis、Lettuce |
| spring-boot-starter-amqp | RabbitMQ | Spring AMQP |
| spring-boot-starter-security | 安全认证 | Spring Security |
| spring-boot-starter-test | 测试 | JUnit、Mockito |
| spring-boot-starter-actuator | 监控 | Actuator |

### 5.3 使用 Starter

**只需添加一个依赖：**
```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

**自动引入相关依赖：**
- spring-web
- spring-webmvc
- tomcat-embed-core
- jackson-databind
- ...

---

## 六、配置文件

### 6.1 配置文件格式

**支持两种格式：**
- `application.properties`
- `application.yml`（推荐）

### 6.2 YAML 格式

**优点：**
- 层次结构清晰
- 易读易写
- 支持复杂数据结构

**示例：**
```yaml
server:
  port: 8080
  servlet:
    context-path: /api

spring:
  application:
    name: demo
  datasource:
    url: jdbc:mysql://localhost:3306/test
    username: root
    password: 123456
```

### 6.3 读取配置

**方式1：@Value**
```java
@RestController
public class ConfigController {
    
    @Value("${server.port}")
    private Integer port;
    
    @GetMapping("/config")
    public String config() {
        return "端口：" + port;
    }
}
```

**方式2：@ConfigurationProperties（推荐）**
```java
@Configuration
@ConfigurationProperties(prefix = "app")
@Data
public class AppConfig {
    private String name;
    private String version;
}

// application.yml
app:
  name: Demo
  version: 1.0.0
```

---

## 七、日志配置

### 7.1 默认日志

**Spring Boot 默认使用 Logback。**

```java
@RestController
public class UserController {
    
    private static final Logger log = LoggerFactory.getLogger(UserController.class);
    
    @GetMapping("/user")
    public String getUser() {
        log.info("查询用户");
        log.debug("调试信息");
        log.error("错误信息");
        return "user";
    }
}
```

### 7.2 配置日志级别

```yaml
logging:
  level:
    root: INFO
    com.example.demo: DEBUG
  file:
    name: logs/app.log
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
```

---

## 八、热部署

### 8.1 添加依赖

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <optional>true</optional>
</dependency>
```

### 8.2 IDEA 配置

```
1. File → Settings → Build, Execution, Deployment → Compiler
   勾选：Build project automatically

2. Ctrl + Shift + Alt + / → Registry
   勾选：compiler.automake.allow.when.app.running
```

**效果：** 修改代码后，应用自动重启。

---

## 九、实战练习

### 9.1 创建用户管理接口

**User.java：**
```java
@Data
@AllArgsConstructor
@NoArgsConstructor
public class User {
    private Long id;
    private String name;
    private Integer age;
}
```

**UserController.java：**
```java
@RestController
@RequestMapping("/users")
public class UserController {
    
    private static List<User> users = new ArrayList<>();
    
    static {
        users.add(new User(1L, "张三", 20));
        users.add(new User(2L, "李四", 25));
    }
    
    // 查询列表
    @GetMapping
    public List<User> list() {
        return users;
    }
    
    // 查询详情
    @GetMapping("/{id}")
    public User detail(@PathVariable Long id) {
        return users.stream()
                .filter(u -> u.getId().equals(id))
                .findFirst()
                .orElse(null);
    }
    
    // 创建用户
    @PostMapping
    public User create(@RequestBody User user) {
        user.setId((long) (users.size() + 1));
        users.add(user);
        return user;
    }
}
```

**测试：**
```bash
# 查询列表
curl http://localhost:8080/users

# 查询详情
curl http://localhost:8080/users/1

# 创建用户
curl -X POST http://localhost:8080/users \
  -H "Content-Type: application/json" \
  -d '{"name":"王五","age":30}'
```

---

## 十、总结

✅ **本章学习内容：**
- Spring Boot 是什么？
- 创建第一个项目
- 项目结构详解
- @SpringBootApplication 注解
- Spring Boot Starter
- 配置文件
- 日志配置
- 热部署

✅ **核心要点：**
- Spring Boot 简化了 Spring 应用开发
- @SpringBootApplication 是核心注解
- Starter 简化依赖管理
- 约定优于配置

**下一章预告：** 我们将学习 Spring Boot 的配置管理。
