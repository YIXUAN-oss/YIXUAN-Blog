---
title: MavenåŸºç¡€å…¥é—¨
---

# MavenåŸºç¡€å…¥é—¨

## ä¸€ã€Mavenæ˜¯ä»€ä¹ˆï¼Ÿ

### 1.1 Mavenç®€ä»‹

**Apache Maven** æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å’Œæ„å»ºè‡ªåŠ¨åŒ–å·¥å…·ï¼Œä¸»è¦ç”¨äº Java é¡¹ç›®ã€‚Maven è¿™ä¸ªè¯æ¥è‡ªäºæ„ç¬¬ç»ªè¯­ï¼Œæ„ä¸º"çŸ¥è¯†çš„ç§¯ç´¯"ã€‚

**Maven çš„æ ¸å¿ƒåŠŸèƒ½ï¼š**
- ğŸ“¦ **ä¾èµ–ç®¡ç†** - è‡ªåŠ¨ä¸‹è½½å’Œç®¡ç†é¡¹ç›®ä¾èµ–
- ğŸ—ï¸ **é¡¹ç›®æ„å»º** - ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…è‡ªåŠ¨åŒ–
- ğŸ“‹ **é¡¹ç›®ä¿¡æ¯ç®¡ç†** - ç”Ÿæˆé¡¹ç›®æ–‡æ¡£å’ŒæŠ¥å‘Š
- ğŸ”„ **æ ‡å‡†åŒ–** - ç»Ÿä¸€é¡¹ç›®ç»“æ„å’Œæ„å»ºæµç¨‹

### 1.2 ä¸ºä»€ä¹ˆè¦ç”¨Mavenï¼Ÿ

**æ²¡æœ‰ Maven çš„ç—›ç‚¹ï¼š**
```
ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
1. æ‰‹åŠ¨ä¸‹è½½ jar åŒ…ï¼Œå®¹æ˜“ä¸‹è½½é”™è¯¯ç‰ˆæœ¬
2. jar åŒ…éœ€è¦æ‰‹åŠ¨æ·»åŠ åˆ°é¡¹ç›®ä¸­
3. é¡¹ç›®ç»“æ„ä¸ç»Ÿä¸€ï¼Œå›¢é˜Ÿåä½œå›°éš¾
4. ä¾èµ–å…³ç³»å¤æ‚ï¼Œå®¹æ˜“å‡ºç°ç‰ˆæœ¬å†²çª
5. æ„å»ºè¿‡ç¨‹ç¹çï¼Œéœ€è¦æ‰‹åŠ¨ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…
```

**ä½¿ç”¨ Maven çš„ä¼˜åŠ¿ï¼š**
```
1. âœ… è‡ªåŠ¨ç®¡ç†ä¾èµ–ï¼Œè§£å†³ä¾èµ–å†²çª
2. âœ… ç»Ÿä¸€é¡¹ç›®ç»“æ„ï¼Œå›¢é˜Ÿåä½œæ›´é«˜æ•ˆ
3. âœ… è‡ªåŠ¨åŒ–æ„å»ºï¼Œä¸€é”®å®Œæˆç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…
4. âœ… ä¸­å¤®ä»“åº“ï¼Œèµ„æºå…±äº«
5. âœ… æ’ä»¶ä¸°å¯Œï¼Œæ‰©å±•æ€§å¼º
```

### 1.3 Maven vs Gradle

| ç‰¹æ€§ | Maven | Gradle |
|------|-------|--------|
| é…ç½®æ–‡ä»¶ | XML (pom.xml) | Groovy/Kotlin DSL |
| å­¦ä¹ æ›²çº¿ | è¾ƒç®€å• | è¾ƒé™¡å³­ |
| æ„å»ºé€Ÿåº¦ | è¾ƒæ…¢ | è¾ƒå¿« |
| çµæ´»æ€§ | çº¦å®šä¼˜äºé…ç½® | é«˜åº¦çµæ´» |
| ç¤¾åŒºç”Ÿæ€ | éå¸¸æˆç†Ÿ | å¿«é€Ÿå‘å±• |

---

## äºŒã€Mavenå®‰è£…ä¸é…ç½®

### 2.1 å‰ç½®è¦æ±‚

Maven éœ€è¦ JDK ç¯å¢ƒï¼Œç¡®ä¿å·²å®‰è£… JDKï¼š

```bash
# æ£€æŸ¥ JDK ç‰ˆæœ¬
java -version

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
# java version "1.8.0_xxx" æˆ–æ›´é«˜ç‰ˆæœ¬
```

### 2.2 ä¸‹è½½Maven

è®¿é—® Maven å®˜ç½‘ä¸‹è½½ï¼š
```
å®˜ç½‘åœ°å€ï¼šhttps://maven.apache.org/download.cgi
æ¨èä¸‹è½½ï¼šapache-maven-3.8.x-bin.zipï¼ˆæˆ–æœ€æ–°ç¨³å®šç‰ˆï¼‰
```

### 2.3 å®‰è£…é…ç½®ï¼ˆWindowsï¼‰

**æ­¥éª¤1ï¼šè§£å‹Maven**
```
å°†ä¸‹è½½çš„ zip æ–‡ä»¶è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼Œä¾‹å¦‚ï¼š
C:\Program Files\Apache\maven
```

**æ­¥éª¤2ï¼šé…ç½®ç¯å¢ƒå˜é‡**
```
1. å³é”®"æ­¤ç”µè„‘" â†’ "å±æ€§" â†’ "é«˜çº§ç³»ç»Ÿè®¾ç½®" â†’ "ç¯å¢ƒå˜é‡"

2. æ–°å»ºç³»ç»Ÿå˜é‡ï¼š
   å˜é‡åï¼šMAVEN_HOME
   å˜é‡å€¼ï¼šC:\Program Files\Apache\maven

3. ç¼–è¾‘ Path å˜é‡ï¼Œæ·»åŠ ï¼š
   %MAVEN_HOME%\bin
```

**æ­¥éª¤3ï¼šéªŒè¯å®‰è£…**
```bash
# æ‰“å¼€å‘½ä»¤è¡Œï¼ˆcmdï¼‰ï¼Œè¾“å…¥ï¼š
mvn -v

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
Apache Maven 3.8.6 (xxx)
Maven home: C:\Program Files\Apache\maven
Java version: 1.8.0_xxx
```

### 2.4 å®‰è£…é…ç½®ï¼ˆmacOS/Linuxï¼‰

**macOSï¼ˆä½¿ç”¨ Homebrewï¼‰ï¼š**
```bash
# å®‰è£…
brew install maven

# éªŒè¯
mvn -v
```

**Linuxï¼ˆæ‰‹åŠ¨å®‰è£…ï¼‰ï¼š**
```bash
# ä¸‹è½½
wget https://dlcdn.apache.org/maven/maven-3/3.8.8/binaries/apache-maven-3.8.8-bin.tar.gz

# è§£å‹
tar -xzf apache-maven-3.8.8-bin.tar.gz
sudo mv apache-maven-3.8.8 /opt/maven

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆç¼–è¾‘ ~/.bashrcï¼‰
export MAVEN_HOME=/opt/maven
export PATH=$MAVEN_HOME/bin:$PATH

# ä½¿é…ç½®ç”Ÿæ•ˆ
source ~/.bashrc
```

### 2.5 é…ç½®Maven

#### 2.5.1 é…ç½®æœ¬åœ°ä»“åº“

ç¼–è¾‘ `$MAVEN_HOME/conf/settings.xml`ï¼š

```xml
<settings>
  <!-- é…ç½®æœ¬åœ°ä»“åº“è·¯å¾„ -->
  <localRepository>D:/maven-repository</localRepository>
</settings>
```

#### 2.5.2 é…ç½®é˜¿é‡Œäº‘é•œåƒï¼ˆå›½å†…å¿…é…ï¼‰

```xml
<settings>
  <mirrors>
    <mirror>
      <id>aliyun-maven</id>
      <mirrorOf>central</mirrorOf>
      <name>Aliyun Maven Central</name>
      <url>https://maven.aliyun.com/repository/public</url>
    </mirror>
  </mirrors>
</settings>
```

#### 2.5.3 é…ç½®JDKç‰ˆæœ¬

```xml
<settings>
  <profiles>
    <profile>
      <id>jdk-1.8</id>
      <activation>
        <activeByDefault>true</activeByDefault>
        <jdk>1.8</jdk>
      </activation>
      <properties>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
      </properties>
    </profile>
  </profiles>
</settings>
```

---

## ä¸‰ã€Mavenä»“åº“æœºåˆ¶

### 3.1 ä»“åº“ç±»å‹

```
Maven ä»“åº“ä½“ç³»
â”œâ”€â”€ æœ¬åœ°ä»“åº“ï¼ˆLocal Repositoryï¼‰
â”‚   â””â”€â”€ ä½äºæœ¬æœºçš„ .m2/repository ç›®å½•
â”‚
â”œâ”€â”€ è¿œç¨‹ä»“åº“ï¼ˆRemote Repositoryï¼‰
â”‚   â”œâ”€â”€ ä¸­å¤®ä»“åº“ï¼ˆCentral Repositoryï¼‰
â”‚   â”œâ”€â”€ ç§æœï¼ˆPrivate Repositoryï¼‰
â”‚   â””â”€â”€ å…¶ä»–å…¬å…±ä»“åº“
```

### 3.2 ä»“åº“æŸ¥æ‰¾é¡ºåº

```
1. æŸ¥æ‰¾æœ¬åœ°ä»“åº“ â†’ å¦‚æœæ‰¾åˆ°ï¼Œç›´æ¥ä½¿ç”¨
2. æŸ¥æ‰¾è¿œç¨‹ä»“åº“ï¼ˆç§æœ/ä¸­å¤®ä»“åº“ï¼‰
3. ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ â†’ ä½¿ç”¨
```

---

## å››ã€Mavené¡¹ç›®æ ‡å‡†ç›®å½•ç»“æ„

### 4.1 æ ‡å‡†ç›®å½•ç»“æ„

```
my-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/               # Java æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ resources/          # èµ„æºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ webapp/             # Web èµ„æºï¼ˆWebé¡¹ç›®ï¼‰
â”‚   â””â”€â”€ test/
â”‚       â”œâ”€â”€ java/              # æµ‹è¯•ä»£ç 
â”‚       â””â”€â”€ resources/         # æµ‹è¯•èµ„æº
â”œâ”€â”€ target/                     # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ pom.xml                     # Maven é…ç½®æ–‡ä»¶
â””â”€â”€ README.md
```

---

## äº”ã€åˆ›å»ºç¬¬ä¸€ä¸ªMavené¡¹ç›®

### 5.1 ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»º

```bash
mvn archetype:generate \
  -DgroupId=com.example \
  -DartifactId=my-app \
  -DarchetypeArtifactId=maven-archetype-quickstart \
  -DinteractiveMode=false
```

**å‚æ•°è¯´æ˜ï¼š**
- `groupId`: ç»„ç»‡ IDï¼ˆå¦‚ com.exampleï¼‰
- `artifactId`: é¡¹ç›®åç§°
- `archetypeArtifactId`: é¡¹ç›®æ¨¡æ¿

### 5.2 æŸ¥çœ‹ç”Ÿæˆçš„ pom.xml

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>
    
    <!-- Maven åæ ‡ -->
    <groupId>com.example</groupId>
    <artifactId>my-app</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>jar</packaging>
    
    <!-- é¡¹ç›®ä¿¡æ¯ -->
    <name>my-app</name>
    
    <!-- å±æ€§é…ç½® -->
    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
    </properties>
    
    <!-- ä¾èµ–ç®¡ç† -->
    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.13.2</version>
            <scope>test</scope>
        </dependency>
    </dependencies>
</project>
```

---

## å…­ã€MavenåŸºæœ¬å‘½ä»¤

### 6.1 å¸¸ç”¨å‘½ä»¤

```bash
# ç¼–è¯‘æºä»£ç 
mvn compile

# è¿è¡Œæµ‹è¯•
mvn test

# æ‰“åŒ…é¡¹ç›®
mvn package

# æ¸…ç†é¡¹ç›®
mvn clean

# å®‰è£…åˆ°æœ¬åœ°ä»“åº“
mvn install

# æ¸…ç†å¹¶æ‰“åŒ…
mvn clean package

# è¿è¡Œé¡¹ç›®
java -cp target/my-app-1.0-SNAPSHOT.jar com.example.App
```

### 6.2 å‘½ä»¤æ‰§è¡Œæµç¨‹

```
mvn package æ‰§è¡Œè¿‡ç¨‹ï¼š
validate â†’ compile â†’ test â†’ package
```

---

## ä¸ƒã€pom.xml æ ¸å¿ƒé…ç½®è¯¦è§£

### 7.1 åŸºæœ¬ç»“æ„

```xml
<project>
    <!-- åŸºæœ¬ä¿¡æ¯ -->
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.example</groupId>
    <artifactId>my-app</artifactId>
    <version>1.0.0</version>
    <packaging>jar</packaging>
    
    <!-- é¡¹ç›®ä¿¡æ¯ -->
    <name>é¡¹ç›®åç§°</name>
    <description>é¡¹ç›®æè¿°</description>
    
    <!-- å±æ€§é…ç½® -->
    <properties>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
    </properties>
    
    <!-- ä¾èµ–ç®¡ç† -->
    <dependencies>
        <!-- ä¾èµ–åˆ—è¡¨ -->
    </dependencies>
</project>
```

### 7.2 Maven åæ ‡ï¼ˆGAVï¼‰

```xml
<!-- ç»„ç»‡æ ‡è¯† -->
<groupId>com.example</groupId>

<!-- é¡¹ç›®æ ‡è¯† -->
<artifactId>my-app</artifactId>

<!-- ç‰ˆæœ¬å· -->
<version>1.0.0</version>

<!-- æ‰“åŒ…æ–¹å¼ -->
<packaging>jar</packaging>
<!-- å¯é€‰å€¼ï¼šjarã€warã€pomã€maven-plugin -->
```

### 7.3 ç‰ˆæœ¬å·è§„èŒƒ

```xml
<!-- å¿«ç…§ç‰ˆæœ¬ï¼ˆå¼€å‘ä¸­ï¼‰ -->
<version>1.0.0-SNAPSHOT</version>

<!-- æ­£å¼ç‰ˆæœ¬ -->
<version>1.0.0</version>

<!-- é‡Œç¨‹ç¢‘ç‰ˆæœ¬ -->
<version>1.0.0-M1</version>

<!-- å€™é€‰ç‰ˆæœ¬ -->
<version>1.0.0-RC1</version>
```

---

## å…«ã€ä½¿ç”¨IDEåˆ›å»ºMavené¡¹ç›®

### 8.1 IntelliJ IDEA åˆ›å»º

**æ­¥éª¤ï¼š**
1. File â†’ New â†’ Project
2. é€‰æ‹© "Maven"
3. å¡«å†™ GroupIdã€ArtifactId
4. ç‚¹å‡» "Finish"

### 8.2 IDEA Maven é…ç½®

```
Settings â†’ Build Tools â†’ Maven

é…ç½®é¡¹ï¼š
- Maven home directory: Mavenå®‰è£…ç›®å½•
- User settings file: settings.xmlä½ç½®
- Local repository: æœ¬åœ°ä»“åº“è·¯å¾„
```

### 8.3 Maven è‡ªåŠ¨å¯¼å…¥

```
Settings â†’ Maven â†’ Importing

å‹¾é€‰ï¼š
â˜‘ Import Maven projects automatically
â˜‘ Automatically download sources
```

---

## ä¹ã€å®æˆ˜ç»ƒä¹ 

### 9.1 ç»ƒä¹ 1ï¼šåˆ›å»ºè®¡ç®—å™¨é¡¹ç›®

**åˆ›å»ºé¡¹ç›®ï¼š**
```bash
mvn archetype:generate \
  -DgroupId=com.example \
  -DartifactId=calculator \
  -DarchetypeArtifactId=maven-archetype-quickstart \
  -DinteractiveMode=false
```

**Calculator.javaï¼š**
```java
package com.example;

public class Calculator {
    public int add(int a, int b) {
        return a + b;
    }
    
    public int subtract(int a, int b) {
        return a - b;
    }
}
```

**CalculatorTest.javaï¼š**
```java
package com.example;

import org.junit.Test;
import static org.junit.Assert.*;

public class CalculatorTest {
    private Calculator calculator = new Calculator();
    
    @Test
    public void testAdd() {
        assertEquals(5, calculator.add(2, 3));
    }
}
```

**è¿è¡Œæµ‹è¯•ï¼š**
```bash
mvn test
```

---

## åã€å¸¸è§é—®é¢˜

### 10.1 ä¾èµ–ä¸‹è½½æ…¢

**è§£å†³ï¼š** é…ç½®é˜¿é‡Œäº‘é•œåƒã€‚

### 10.2 ä¾èµ–ä¸‹è½½å¤±è´¥

```bash
# æ¸…ç†å¹¶å¼ºåˆ¶æ›´æ–°
mvn clean install -U
```

### 10.3 ç¼–ç é—®é¢˜

```xml
<properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
</properties>
```

---

## åä¸€ã€æ€»ç»“

âœ… **æœ¬ç« å­¦ä¹ å†…å®¹ï¼š**
- Maven çš„æ¦‚å¿µå’Œä½œç”¨
- Maven çš„å®‰è£…ä¸é…ç½®
- Maven ä»“åº“æœºåˆ¶
- Maven é¡¹ç›®ç»“æ„
- Maven åŸºæœ¬å‘½ä»¤
- pom.xml æ ¸å¿ƒé…ç½®

âœ… **æŒæ¡æŠ€èƒ½ï¼š**
- èƒ½å¤Ÿç‹¬ç«‹å®‰è£…é…ç½® Maven
- èƒ½å¤Ÿåˆ›å»º Maven é¡¹ç›®
- ç†è§£ Maven åæ ‡å’Œä»“åº“æ¦‚å¿µ
- æŒæ¡å¸¸ç”¨ Maven å‘½ä»¤

**ä¸‹ä¸€ç« é¢„å‘Šï¼š** æˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  Maven çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…æ‹¬ä¾èµ–ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶æœºåˆ¶ã€‚

**å®è·µå»ºè®®ï¼š** å¤šåˆ›å»ºå‡ ä¸ª Maven é¡¹ç›®ï¼Œç†Ÿæ‚‰å‘½ä»¤å’Œé…ç½®ã€‚
