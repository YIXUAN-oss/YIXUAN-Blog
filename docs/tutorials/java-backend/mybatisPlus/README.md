---
title: MyBatis-Plus æ•™ç¨‹
---

# MyBatis-Plus æ•™ç¨‹

> ä»å…¥é—¨åˆ°ç²¾é€šï¼ŒæŒæ¡ MyBatis-Plus å¢å¼ºå·¥å…·

## ğŸ“š æ•™ç¨‹ç®€ä»‹

æœ¬æ•™ç¨‹å°†å¸¦ä½ ç³»ç»Ÿå­¦ä¹  MyBatis-Plus æ¡†æ¶ï¼Œä»åŸºç¡€å…¥é—¨åˆ°é«˜çº§ç‰¹æ€§ï¼Œæ¶µç›– CRUD æ¥å£ã€æ¡ä»¶æ„é€ å™¨ã€ä»£ç ç”Ÿæˆå™¨ã€åˆ†é¡µæ’ä»¶ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚MyBatis-Plus æ˜¯ MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ä¸æ”¹å˜ MyBatis åŸæœ‰åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œæä¾›äº†æ›´åŠ å¼ºå¤§å’Œä¾¿æ·çš„åŠŸèƒ½ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- âœ… æŒæ¡ MyBatis-Plus æ ¸å¿ƒæ¦‚å¿µ
- âœ… ç†Ÿç»ƒä½¿ç”¨ CRUD æ¥å£
- âœ… æŒæ¡æ¡ä»¶æ„é€ å™¨ï¼ˆWrapperï¼‰
- âœ… ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨å¿«é€Ÿå¼€å‘
- âœ… ç†Ÿç»ƒä½¿ç”¨åˆ†é¡µæ’ä»¶
- âœ… æŒæ¡ä¹è§‚é”ã€é€»è¾‘åˆ é™¤ç­‰é«˜çº§åŠŸèƒ½
- âœ… å…·å¤‡è§£å†³å®é™…å¼€å‘é—®é¢˜çš„èƒ½åŠ›
- âœ… åº”å¯¹ MyBatis-Plus é¢è¯•

## ğŸ“– æ•™ç¨‹ç›®å½•

### [ç¬¬ä¸€ç« ï¼šMyBatis-Plus åŸºç¡€å…¥é—¨](1.MyBatis-PlusåŸºç¡€å…¥é—¨.md) â­â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- MyBatis-Plus æ˜¯ä»€ä¹ˆï¼Ÿ
- MyBatis-Plus vs MyBatis
- å¿«é€Ÿå¼€å§‹
- æ ¸å¿ƒæ¦‚å¿µ
- å¸¸ç”¨æ³¨è§£
- åŸºæœ¬é…ç½®

### [ç¬¬äºŒç« ï¼šCRUD æ¥å£](2.CRUDæ¥å£.md) â­â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- Service CRUD æ¥å£
- Mapper CRUD æ¥å£
- æ‰¹é‡æ“ä½œ
- é“¾å¼è°ƒç”¨
- å¸¸ç”¨æ–¹æ³•è¯¦è§£

### [ç¬¬ä¸‰ç« ï¼šæ¡ä»¶æ„é€ å™¨](3.æ¡ä»¶æ„é€ å™¨.md) â­â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- QueryWrapper
- UpdateWrapper
- LambdaQueryWrapper
- LambdaUpdateWrapper
- æ¡ä»¶æ„é€ æ–¹æ³•
- å®æˆ˜æ¡ˆä¾‹

### [ç¬¬å››ç« ï¼šä»£ç ç”Ÿæˆå™¨](4.ä»£ç ç”Ÿæˆå™¨.md) â­â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- AutoGenerator é…ç½®
- å…¨å±€é…ç½®
- æ•°æ®æºé…ç½®
- åŒ…é…ç½®
- ç­–ç•¥é…ç½®
- æ¨¡æ¿å¼•æ“

### [ç¬¬äº”ç« ï¼šåˆ†é¡µæ’ä»¶](5.åˆ†é¡µæ’ä»¶.md) â­â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- åˆ†é¡µæ’ä»¶é…ç½®
- åŸºæœ¬åˆ†é¡µ
- è‡ªå®šä¹‰åˆ†é¡µ
- XML åˆ†é¡µ
- æ€§èƒ½ä¼˜åŒ–

### [ç¬¬å…­ç« ï¼šé«˜çº§åŠŸèƒ½](6.é«˜çº§åŠŸèƒ½.md) â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- é€»è¾‘åˆ é™¤
- è‡ªåŠ¨å¡«å……
- ä¹è§‚é”
- å¤šç§Ÿæˆ·
- åŠ¨æ€è¡¨å
- SQL æ³¨å…¥å™¨

### [ç¬¬ä¸ƒç« ï¼šMyBatis-Plus é¢è¯•é¢˜é›†](7.MyBatis-Plusé¢è¯•é¢˜é›†.md) â­â­â­â­â­
**å­¦ä¹ å†…å®¹ï¼š**
- åŸºç¡€æ¦‚å¿µé¢è¯•é¢˜
- CRUD æ¥å£é¢è¯•é¢˜
- æ¡ä»¶æ„é€ å™¨é¢è¯•é¢˜
- é«˜çº§åŠŸèƒ½é¢è¯•é¢˜
- é«˜é¢‘é¢è¯•é¢˜ 20+

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

**å‰ç½®è¦æ±‚ï¼š**
- JDK 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.5+
- MySQL 5.7+
- Spring Boot 2.x
- IDEï¼ˆæ¨è IntelliJ IDEAï¼‰

### åˆ›å»ºç¬¬ä¸€ä¸ª MyBatis-Plus é¡¹ç›®

**1. æ·»åŠ ä¾èµ–**
```xml
<dependencies>
    <!-- Spring Boot -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter</artifactId>
    </dependency>
    
    <!-- MyBatis-Plus -->
    <dependency>
        <groupId>com.baomidou</groupId>
        <artifactId>mybatis-plus-boot-starter</artifactId>
        <version>3.5.4.1</version>
    </dependency>
    
    <!-- MySQL Driver -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>8.0.33</version>
    </dependency>
    
    <!-- Lombok -->
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
    </dependency>
</dependencies>
```

**2. é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰**
```yaml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/mybatis_plus?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456

mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
```

**3. åˆ›å»ºå®ä½“ç±»**
```java
@Data
@TableName("user")
public class User {
    @TableId(type = IdType.AUTO)
    private Long id;
    
    private String username;
    private String email;
    private Integer age;
    
    @TableField(fill = FieldFill.INSERT)
    private Date createTime;
    
    @TableField(fill = FieldFill.INSERT_UPDATE)
    private Date updateTime;
    
    @TableLogic
    private Integer deleted;
}
```

**4. åˆ›å»º Mapper æ¥å£**
```java
@Mapper
public interface UserMapper extends BaseMapper<User> {
    // ç»§æ‰¿ BaseMapperï¼Œæ‹¥æœ‰åŸºç¡€ CRUD æ–¹æ³•
}
```

**5. å¯åŠ¨ç±»**
```java
@SpringBootApplication
@MapperScan("com.example.mapper")
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

**6. ä½¿ç”¨**
```java
@SpringBootTest
public class UserMapperTest {
    
    @Autowired
    private UserMapper userMapper;
    
    @Test
    public void testSelect() {
        // æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
        List<User> users = userMapper.selectList(null);
        users.forEach(System.out::println);
    }
    
    @Test
    public void testInsert() {
        User user = new User();
        user.setUsername("å¼ ä¸‰");
        user.setEmail("zhangsan@example.com");
        user.setAge(20);
        
        userMapper.insert(user);
        System.out.println("æ’å…¥æˆåŠŸï¼ŒIDï¼š" + user.getId());
    }
}
```

## ğŸ’¡ å­¦ä¹ å»ºè®®

1. **å…ˆå­¦ MyBatis** - MyBatis-Plus æ˜¯åŸºäº MyBatis çš„å¢å¼º
2. **å¾ªåºæ¸è¿›** - æŒ‰ç…§ç« èŠ‚é¡ºåºå­¦ä¹ 
3. **åŠ¨æ‰‹å®è·µ** - æ¯å­¦å®Œä¸€ç« ï¼Œå¿…é¡»åŠ¨æ‰‹ç¼–ç 
4. **ç†è§£åŸç†** - äº†è§£åº•å±‚å®ç°åŸç†
5. **é¡¹ç›®å®æˆ˜** - é€šè¿‡å®é™…é¡¹ç›®å·©å›ºçŸ¥è¯†

## ğŸŒŸ MyBatis-Plus æ ¸å¿ƒç‰¹æ€§

### 1. é›¶é…ç½®

**MyBatisï¼š**
```xml
<!-- éœ€è¦ç¼–å†™å¤§é‡ XML -->
<mapper namespace="com.example.mapper.UserMapper">
    <select id="selectById" resultType="User">
        SELECT * FROM user WHERE id = #{id}
    </select>
    <insert id="insert">
        INSERT INTO user (username, email) VALUES (#{username}, #{email})
    </insert>
</mapper>
```

**MyBatis-Plusï¼š**
```java
// ç»§æ‰¿ BaseMapperï¼Œæ— éœ€ç¼–å†™ XML
@Mapper
public interface UserMapper extends BaseMapper<User> {
}

// ç›´æ¥ä½¿ç”¨
User user = userMapper.selectById(1L);
```

### 2. å¼ºå¤§çš„ CRUD

```java
// æŸ¥è¯¢
User user = userMapper.selectById(1L);
List<User> users = userMapper.selectList(null);

// æ’å…¥
userMapper.insert(user);

// æ›´æ–°
userMapper.updateById(user);

// åˆ é™¤
userMapper.deleteById(1L);
```

### 3. æ¡ä»¶æ„é€ å™¨

```java
// æŸ¥è¯¢å¹´é¾„å¤§äº 20 çš„ç”¨æˆ·
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.gt("age", 20);
List<User> users = userMapper.selectList(wrapper);

// Lambda æ–¹å¼
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.gt(User::getAge, 20)
       .like(User::getUsername, "å¼ ");
List<User> users = userMapper.selectList(wrapper);
```

### 4. åˆ†é¡µæ’ä»¶

```java
// é…ç½®åˆ†é¡µæ’ä»¶
@Bean
public MybatisPlusInterceptor mybatisPlusInterceptor() {
    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
    interceptor.addInnerInterceptor(new PaginationInnerInterceptor());
    return interceptor;
}

// ä½¿ç”¨åˆ†é¡µ
Page<User> page = new Page<>(1, 10);
userMapper.selectPage(page, null);
System.out.println("æ€»è®°å½•æ•°ï¼š" + page.getTotal());
System.out.println("å½“å‰é¡µï¼š" + page.getCurrent());
```

### 5. ä»£ç ç”Ÿæˆå™¨

```java
// ä¸€é”®ç”Ÿæˆ Entityã€Mapperã€Serviceã€Controller
AutoGenerator generator = new AutoGenerator(dataSource);
generator.execute();
```

## ğŸ“Š MyBatis-Plus vs MyBatis

| ç‰¹æ€§ | MyBatis | MyBatis-Plus |
|------|---------|--------------|
| **é…ç½®é‡** | å¤š | å°‘ |
| **XML æ–‡ä»¶** | å¿…éœ€ | å¯é€‰ |
| **CRUD æ–¹æ³•** | éœ€ç¼–å†™ | è‡ªåŠ¨æä¾› |
| **æ¡ä»¶æ„é€ ** | æ‰‹å†™ SQL | Wrapper |
| **åˆ†é¡µ** | éœ€æ’ä»¶ | å†…ç½®æ’ä»¶ |
| **ä»£ç ç”Ÿæˆ** | éœ€é…ç½® | ä¸€é”®ç”Ÿæˆ |
| **å­¦ä¹ æ›²çº¿** | å¹³ç¼“ | å¹³ç¼“ |
| **å¼€å‘æ•ˆç‡** | ä¸­ | é«˜ |

## ğŸ—ï¸ MyBatis-Plus æ¶æ„

```
åº”ç”¨å±‚
  â†“
Service å±‚ï¼ˆIServiceã€ServiceImplï¼‰
  â†“
Mapper å±‚ï¼ˆBaseMapperï¼‰
  â†“
MyBatis-Plus æ ¸å¿ƒ
  â”œâ”€â”€ æ¡ä»¶æ„é€ å™¨ï¼ˆWrapperï¼‰
  â”œâ”€â”€ åˆ†é¡µæ’ä»¶ï¼ˆPaginationInnerInterceptorï¼‰
  â”œâ”€â”€ ä¹è§‚é”æ’ä»¶ï¼ˆOptimisticLockerInnerInterceptorï¼‰
  â””â”€â”€ SQL æ³¨å…¥å™¨ï¼ˆISqlInjectorï¼‰
  â†“
MyBatis
  â†“
JDBC
  â†“
æ•°æ®åº“
```

## ğŸ¯ å­¦ä¹ è·¯çº¿å›¾

```
ç¬¬ 1 å‘¨ï¼šåŸºç¡€å…¥é—¨
  â”œâ”€â”€ MyBatis-Plus æ¦‚è¿°
  â”œâ”€â”€ å¿«é€Ÿå¼€å§‹
  â”œâ”€â”€ å¸¸ç”¨æ³¨è§£
  â””â”€â”€ åŸºæœ¬é…ç½®

ç¬¬ 2 å‘¨ï¼šCRUD æ¥å£
  â”œâ”€â”€ Mapper CRUD
  â”œâ”€â”€ Service CRUD
  â”œâ”€â”€ æ‰¹é‡æ“ä½œ
  â””â”€â”€ é“¾å¼è°ƒç”¨

ç¬¬ 3 å‘¨ï¼šæ¡ä»¶æ„é€ å™¨
  â”œâ”€â”€ QueryWrapper
  â”œâ”€â”€ UpdateWrapper
  â”œâ”€â”€ Lambda æ–¹å¼
  â””â”€â”€ å¤æ‚æŸ¥è¯¢

ç¬¬ 4 å‘¨ï¼šä»£ç ç”Ÿæˆå™¨
  â”œâ”€â”€ å…¨å±€é…ç½®
  â”œâ”€â”€ ç­–ç•¥é…ç½®
  â”œâ”€â”€ æ¨¡æ¿å¼•æ“
  â””â”€â”€ è‡ªå®šä¹‰æ¨¡æ¿

ç¬¬ 5 å‘¨ï¼šåˆ†é¡µæ’ä»¶
  â”œâ”€â”€ åŸºæœ¬åˆ†é¡µ
  â”œâ”€â”€ è‡ªå®šä¹‰åˆ†é¡µ
  â”œâ”€â”€ XML åˆ†é¡µ
  â””â”€â”€ æ€§èƒ½ä¼˜åŒ–

ç¬¬ 6 å‘¨ï¼šé«˜çº§åŠŸèƒ½
  â”œâ”€â”€ é€»è¾‘åˆ é™¤
  â”œâ”€â”€ è‡ªåŠ¨å¡«å……
  â”œâ”€â”€ ä¹è§‚é”
  â””â”€â”€ å¤šç§Ÿæˆ·

ç¬¬ 7 å‘¨ï¼šé¡¹ç›®å®æˆ˜
  â”œâ”€â”€ æ•´åˆ Spring Boot
  â”œâ”€â”€ å®Œæ•´ CRUD
  â”œâ”€â”€ å¤æ‚ä¸šåŠ¡
  â””â”€â”€ æ€§èƒ½ä¼˜åŒ–
```

## ğŸ”¥ æ ¸å¿ƒåŠŸèƒ½

### 1. é€šç”¨ CRUD

```java
// Mapper CRUD
userMapper.insert(user);           // æ’å…¥
userMapper.deleteById(id);         // åˆ é™¤
userMapper.updateById(user);       // æ›´æ–°
userMapper.selectById(id);         // æŸ¥è¯¢

// Service CRUD
userService.save(user);            // ä¿å­˜
userService.removeById(id);        // åˆ é™¤
userService.updateById(user);      // æ›´æ–°
userService.getById(id);           // æŸ¥è¯¢
```

### 2. æ¡ä»¶æ„é€ å™¨

```java
// æ™®é€šæ–¹å¼
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.eq("username", "å¼ ä¸‰")
       .gt("age", 20)
       .orderByDesc("create_time");

// Lambda æ–¹å¼ï¼ˆæ¨èï¼‰
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.eq(User::getUsername, "å¼ ä¸‰")
       .gt(User::getAge, 20)
       .orderByDesc(User::getCreateTime);
```

### 3. åˆ†é¡µæŸ¥è¯¢

```java
Page<User> page = new Page<>(1, 10);
userMapper.selectPage(page, wrapper);
```

### 4. é€»è¾‘åˆ é™¤

```java
@TableLogic
private Integer deleted;  // 0-æœªåˆ é™¤ 1-å·²åˆ é™¤

userMapper.deleteById(1L);  // å®é™…æ‰§è¡Œ UPDATE user SET deleted=1
```

## ğŸ“š æ¨èèµ„æº

### å®˜æ–¹èµ„æº
- [MyBatis-Plus å®˜æ–¹æ–‡æ¡£](https://baomidou.com/)
- [MyBatis-Plus GitHub](https://github.com/baomidou/mybatis-plus)
- [ç¤ºä¾‹ä»£ç ](https://github.com/baomidou/mybatis-plus-samples)

### æ¨èæ’ä»¶
- MyBatisXï¼ˆIDEA æ’ä»¶ï¼‰- å¿«é€Ÿç”Ÿæˆä»£ç 
- MybatisCodeHelperProï¼ˆæ”¶è´¹ï¼‰- å¢å¼ºåŠŸèƒ½

## âš ï¸ å¸¸è§é—®é¢˜

### 1. MyBatis-Plus ä¼šä¾µå…¥ MyBatis å—ï¼Ÿ

**ä¸ä¼šã€‚** MyBatis-Plus åªæ˜¯å¢å¼ºå·¥å…·ï¼Œä¸ä¿®æ”¹ MyBatis æ ¸å¿ƒåŠŸèƒ½ã€‚

### 2. å¯ä»¥å’Œ MyBatis æ··ç”¨å—ï¼Ÿ

**å¯ä»¥ã€‚** MyBatis-Plus å®Œå…¨å…¼å®¹ MyBatisï¼Œå¯ä»¥è‡ªç”±æ··ç”¨ã€‚

### 3. å¤æ‚ SQL æ€ä¹ˆå†™ï¼Ÿ

**ä¸¤ç§æ–¹å¼ï¼š**
1. ä½¿ç”¨ Wrapper æ„é€ å¤æ‚æ¡ä»¶
2. è‡ªå®šä¹‰ XML å†™åŸç”Ÿ SQL

## ğŸ’ª è¿›é˜¶å­¦ä¹ 

**æŒæ¡ MyBatis-Plus åï¼Œå¯ä»¥å­¦ä¹ ï¼š**
1. **åˆ†åº“åˆ†è¡¨** - ShardingSphere
2. **è¯»å†™åˆ†ç¦»** - ä¸»ä»é…ç½®
3. **æ€§èƒ½ä¼˜åŒ–** - SQL ä¼˜åŒ–ã€ç¼“å­˜
4. **å¾®æœåŠ¡** - Spring Cloud

## ğŸ“„ ç‰ˆæƒè¯´æ˜

æœ¬æ•™ç¨‹ä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œæ¬¢è¿åˆ†äº«ä¼ æ’­ã€‚

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹ MyBatis-Plus å­¦ä¹ ä¹‹æ—…ï¼ğŸš€**

**å»ºè®®ä» [ç¬¬ä¸€ç« ï¼šMyBatis-Plus åŸºç¡€å…¥é—¨](1.MyBatis-PlusåŸºç¡€å…¥é—¨.md) å¼€å§‹å­¦ä¹ **
