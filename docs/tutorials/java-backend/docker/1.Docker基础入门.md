---
title: DockeråŸºç¡€å…¥é—¨
---

# DockeråŸºç¡€å…¥é—¨

## ä¸€ã€Dockeræ˜¯ä»€ä¹ˆï¼Ÿ

### 1.1 Dockerç®€ä»‹

**Docker** æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œå®ƒå¯ä»¥è®©å¼€å‘è€…å°†åº”ç”¨åŠå…¶ä¾èµ–æ‰“åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æˆ– Windows æœºå™¨ä¸Šã€‚

**Docker çš„æ ¸å¿ƒä»·å€¼ï¼š**
- ğŸš€ **å¿«é€Ÿéƒ¨ç½²** - ç§’çº§å¯åŠ¨ï¼Œæ¯”è™šæ‹Ÿæœºå¿«å¾—å¤š
- ğŸ“¦ **ç¯å¢ƒä¸€è‡´** - "åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"çš„é—®é¢˜å½»åº•è§£å†³
- ğŸ”„ **è½»é‡çº§** - å…±äº«ä¸»æœºå†…æ ¸ï¼Œèµ„æºå ç”¨å°‘
- ğŸŒ **è·¨å¹³å°** - ä¸€æ¬¡æ„å»ºï¼Œåˆ°å¤„è¿è¡Œ

### 1.2 ä¸ºä»€ä¹ˆè¦ç”¨Dockerï¼Ÿ

**ä¼ ç»Ÿéƒ¨ç½²çš„ç—›ç‚¹ï¼š**
```
é—®é¢˜1ï¼šç¯å¢ƒä¸ä¸€è‡´
å¼€å‘ç¯å¢ƒ â‰  æµ‹è¯•ç¯å¢ƒ â‰  ç”Ÿäº§ç¯å¢ƒ
"åœ¨æˆ‘æœºå™¨ä¸Šå¯ä»¥è¿è¡Œå•Šï¼"

é—®é¢˜2ï¼šèµ„æºæµªè´¹
è™šæ‹Ÿæœºéœ€è¦å®Œæ•´çš„æ“ä½œç³»ç»Ÿ
å¯åŠ¨æ…¢ï¼Œèµ„æºå ç”¨å¤§

é—®é¢˜3ï¼šéƒ¨ç½²å¤æ‚
æ‰‹åŠ¨é…ç½®ç¯å¢ƒ
ä¾èµ–ç®¡ç†å›°éš¾
ç‰ˆæœ¬å†²çªé¢‘ç¹

é—®é¢˜4ï¼šæ‰©å±•å›°éš¾
æ¨ªå‘æ‰©å±•éœ€è¦é‡å¤é…ç½®
æˆæœ¬é«˜ï¼Œæ•ˆç‡ä½
```

**ä½¿ç”¨ Docker çš„ä¼˜åŠ¿ï¼š**
```
âœ… ç¯å¢ƒéš”ç¦» - æ¯ä¸ªå®¹å™¨ç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°
âœ… å¿«é€Ÿå¯åŠ¨ - ç§’çº§å¯åŠ¨ï¼Œå³å¼€å³ç”¨
âœ… ç‰ˆæœ¬æ§åˆ¶ - é•œåƒç‰ˆæœ¬åŒ–ç®¡ç†ï¼Œæ–¹ä¾¿å›æ»š
âœ… èµ„æºé«˜æ•ˆ - å…±äº«å†…æ ¸ï¼Œèµ„æºå ç”¨å°
âœ… æŒç»­äº¤ä»˜ - ä¸ CI/CD å®Œç¾é›†æˆ
âœ… å¾®æœåŠ¡ - å¤©ç„¶é€‚åˆå¾®æœåŠ¡æ¶æ„
```

### 1.3 Docker vs è™šæ‹Ÿæœº

| ç‰¹æ€§ | Docker å®¹å™¨ | è™šæ‹Ÿæœº |
|------|-----------|--------|
| å¯åŠ¨é€Ÿåº¦ | ç§’çº§ | åˆ†é’Ÿçº§ |
| æ€§èƒ½ | æ¥è¿‘åŸç”Ÿ | æœ‰æŸè€— |
| èµ„æºå ç”¨ | MBçº§åˆ« | GBçº§åˆ« |
| æ“ä½œç³»ç»Ÿ | å…±äº«ä¸»æœºå†…æ ¸ | å®Œæ•´OS |
| éš”ç¦»æ€§ | è¿›ç¨‹çº§åˆ« | ç³»ç»Ÿçº§åˆ« |
| è¿ç§»æ€§ | éå¸¸æ–¹ä¾¿ | ç›¸å¯¹å›°éš¾ |

**æ¶æ„å¯¹æ¯”ï¼š**
```
è™šæ‹Ÿæœºæ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      åº”ç”¨A      â”‚   åº”ç”¨B    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Guest OS A   â”‚ Guest OS Bâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Hypervisor           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Host OS              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Docker æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åº”ç”¨A   â”‚    åº”ç”¨B   â”‚åº”ç”¨Câ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚  å®¹å™¨A    â”‚  å®¹å™¨B    â”‚å®¹å™¨Câ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Docker Engine          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Host OS              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€Dockerå®‰è£…ä¸é…ç½®

### 2.1 ç³»ç»Ÿè¦æ±‚

**Linuxï¼š**
- 64ä½æ“ä½œç³»ç»Ÿ
- å†…æ ¸ç‰ˆæœ¬ 3.10 ä»¥ä¸Š

**Windowsï¼š**
- Windows 10 64ä½ï¼šProã€Enterprise æˆ– Education
- å¯ç”¨ Hyper-V å’Œå®¹å™¨åŠŸèƒ½

**macOSï¼š**
- macOS 10.14 æˆ–æ›´é«˜ç‰ˆæœ¬
- 4GB RAM æœ€å°é…ç½®

### 2.2 Windows å®‰è£…ï¼ˆDocker Desktopï¼‰

**æ­¥éª¤1ï¼šä¸‹è½½å®‰è£…åŒ…**
```
è®¿é—®å®˜ç½‘ï¼šhttps://www.docker.com/products/docker-desktop
ä¸‹è½½ï¼šDocker Desktop for Windows
```

**æ­¥éª¤2ï¼šå®‰è£… Docker Desktop**
```
1. åŒå‡»å®‰è£…åŒ…è¿è¡Œ
2. å‹¾é€‰ "Install required Windows components for WSL 2"
3. æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…
4. é‡å¯ç”µè„‘
```

**æ­¥éª¤3ï¼šå¯åŠ¨ Docker Desktop**
```
1. ä»å¼€å§‹èœå•å¯åŠ¨ Docker Desktop
2. ç­‰å¾… Docker å¯åŠ¨ï¼ˆçŠ¶æ€æ æ˜¾ç¤º Docker å›¾æ ‡ï¼‰
3. æ‰“å¼€ PowerShell æˆ– CMD
```

**æ­¥éª¤4ï¼šéªŒè¯å®‰è£…**
```powershell
# æŸ¥çœ‹ç‰ˆæœ¬
docker --version
docker version

# è¿è¡Œæµ‹è¯•å®¹å™¨
docker run hello-world

# åº”è¯¥çœ‹åˆ°ï¼š
# Hello from Docker!
# This message shows that your installation appears to be working correctly.
```

### 2.3 Linux å®‰è£…ï¼ˆUbuntuï¼‰

**æ–¹å¼ä¸€ï¼šä½¿ç”¨å®˜æ–¹è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
# ä¸‹è½½å¹¶è¿è¡Œå®˜æ–¹å®‰è£…è„šæœ¬
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# å¯åŠ¨ Docker æœåŠ¡
sudo systemctl start docker
sudo systemctl enable docker

# éªŒè¯å®‰è£…
sudo docker version
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…**
```bash
# 1. å¸è½½æ—§ç‰ˆæœ¬
sudo apt-get remove docker docker-engine docker.io containerd runc

# 2. æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•
sudo apt-get update

# 3. å®‰è£…ä¾èµ–åŒ…
sudo apt-get install \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

# 4. æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# 5. è®¾ç½® Docker ä»“åº“
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# 6. å®‰è£… Docker Engine
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin

# 7. éªŒè¯å®‰è£…
sudo docker run hello-world
```

**é…ç½®érootç”¨æˆ·ä½¿ç”¨Dockerï¼š**
```bash
# åˆ›å»º docker ç»„
sudo groupadd docker

# å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•æˆ–æ‰§è¡Œ
newgrp docker

# ç°åœ¨å¯ä»¥ä¸ç”¨ sudo è¿è¡Œ docker å‘½ä»¤
docker run hello-world
```

### 2.4 macOS å®‰è£…

**æ­¥éª¤1ï¼šä¸‹è½½ Docker Desktop**
```
è®¿é—®ï¼šhttps://www.docker.com/products/docker-desktop
ä¸‹è½½ï¼šDocker Desktop for Mac (Apple Silicon æˆ– Intel)
```

**æ­¥éª¤2ï¼šå®‰è£…**
```
1. æ‰“å¼€ .dmg æ–‡ä»¶
2. æ‹–æ‹½ Docker å›¾æ ‡åˆ° Applications æ–‡ä»¶å¤¹
3. ä» Applications å¯åŠ¨ Docker
4. æˆæƒ Docker è®¿é—®æƒé™
```

**æ­¥éª¤3ï¼šéªŒè¯**
```bash
docker --version
docker run hello-world
```

### 2.5 é…ç½®é•œåƒåŠ é€Ÿå™¨

ç”±äº Docker Hub åœ¨å›½å†…è®¿é—®è¾ƒæ…¢ï¼Œå»ºè®®é…ç½®é•œåƒåŠ é€Ÿå™¨ã€‚

**é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼ˆæ¨èï¼‰ï¼š**

1. ç™»å½•é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡
2. è·å–ä¸“å±åŠ é€Ÿåœ°å€ï¼šhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrors

**Linux é…ç½®ï¼š**
```bash
# åˆ›å»ºæˆ–ç¼–è¾‘ daemon.json
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": [
    "https://mirror.ccs.tencentyun.com",
    "https://docker.mirrors.ustc.edu.cn",
    "https://registry.docker-cn.com"
  ]
}
EOF

# é‡å¯ Docker æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl restart docker

# éªŒè¯é…ç½®
docker info | grep -A 1 "Registry Mirrors"
```

**Windows/macOS é…ç½®ï¼š**
```
1. æ‰“å¼€ Docker Desktop
2. ç‚¹å‡»è®¾ç½®ï¼ˆSettingsï¼‰
3. é€‰æ‹© Docker Engine
4. åœ¨ JSON é…ç½®ä¸­æ·»åŠ ï¼š
{
  "registry-mirrors": [
    "https://mirror.ccs.tencentyun.com",
    "https://docker.mirrors.ustc.edu.cn"
  ]
}
5. ç‚¹å‡» Apply & Restart
```

---

## ä¸‰ã€Dockeræ¶æ„ä¸æ ¸å¿ƒç»„ä»¶

### 3.1 Docker æ¶æ„

Docker ä½¿ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Docker Client (å®¢æˆ·ç«¯)              â”‚
â”‚  docker build, docker pull, docker run...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ REST API
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Daemon (dockerd)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  é•œåƒç®¡ç†  â”‚  â”‚  å®¹å™¨ç®¡ç†  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  ç½‘ç»œç®¡ç†  â”‚  â”‚  æ•°æ®å·    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Docker Registry (é•œåƒä»“åº“)             â”‚
â”‚  Docker Hub, é˜¿é‡Œäº‘, Harbor...               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ ¸å¿ƒç»„ä»¶

**1. Docker Clientï¼ˆå®¢æˆ·ç«¯ï¼‰**
- ç”¨æˆ·ä¸ Docker äº¤äº’çš„ä¸»è¦æ–¹å¼
- å‘é€å‘½ä»¤åˆ° Docker Daemon
- å¯ä»¥ä¸å¤šä¸ª Daemon é€šä¿¡

**2. Docker Daemonï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰**
- ç›‘å¬ Docker API è¯·æ±‚
- ç®¡ç† Docker å¯¹è±¡ï¼ˆé•œåƒã€å®¹å™¨ã€ç½‘ç»œã€å·ï¼‰
- å¯ä»¥ä¸å…¶ä»– Daemon é€šä¿¡

**3. Docker Imagesï¼ˆé•œåƒï¼‰**
- åªè¯»æ¨¡æ¿ï¼Œç”¨äºåˆ›å»ºå®¹å™¨
- åŒ…å«è¿è¡Œåº”ç”¨æ‰€éœ€çš„æ‰€æœ‰å†…å®¹
- åˆ†å±‚å­˜å‚¨ï¼ŒèŠ‚çœç©ºé—´

**4. Docker Containersï¼ˆå®¹å™¨ï¼‰**
- é•œåƒçš„è¿è¡Œå®ä¾‹
- å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤
- ç›¸äº’éš”ç¦»ï¼Œä¿è¯å®‰å…¨

**5. Docker Registryï¼ˆä»“åº“ï¼‰**
- å­˜å‚¨ Docker é•œåƒ
- å…¬å…±ä»“åº“ï¼šDocker Hub
- ç§æœ‰ä»“åº“ï¼šHarborã€é˜¿é‡Œäº‘

### 3.3 æ ¸å¿ƒæ¦‚å¿µ

**é•œåƒï¼ˆImageï¼‰ï¼š**
```
é•œåƒ = åº”ç”¨ + ä¾èµ– + è¿è¡Œæ—¶ç¯å¢ƒ

ç‰¹ç‚¹ï¼š
- åªè¯»æ¨¡æ¿
- åˆ†å±‚å­˜å‚¨
- å¯ä»¥åŸºäºå…¶ä»–é•œåƒæ„å»º
- ç‰ˆæœ¬æ§åˆ¶ï¼ˆé€šè¿‡æ ‡ç­¾ï¼‰
```

**å®¹å™¨ï¼ˆContainerï¼‰ï¼š**
```
å®¹å™¨ = é•œåƒçš„è¿è¡Œå®ä¾‹

ç‰¹ç‚¹ï¼š
- å¯è¯»å¯å†™
- è½»é‡çº§
- ç›¸äº’éš”ç¦»
- å¯ä»¥è¢«å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤
```

**ä»“åº“ï¼ˆRegistryï¼‰ï¼š**
```
ä»“åº“ = å­˜å‚¨å’Œåˆ†å‘é•œåƒçš„æœåŠ¡

ç±»å‹ï¼š
- å…¬å…±ä»“åº“ï¼ˆDocker Hubï¼‰
- ç§æœ‰ä»“åº“ï¼ˆHarborï¼‰
- äº‘æœåŠ¡å•†ä»“åº“ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼‰
```

---

## å››ã€Dockeré•œåƒä¸å®¹å™¨åŸºç¡€æ“ä½œ

### 4.1 é•œåƒæ“ä½œ

**æŸ¥çœ‹æœ¬åœ°é•œåƒï¼š**
```bash
# åˆ—å‡ºæ‰€æœ‰é•œåƒ
docker images
# æˆ–
docker image ls

# è¾“å‡ºç¤ºä¾‹ï¼š
# REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
# nginx         latest    605c77e624dd   2 weeks ago    141MB
# mysql         8.0       3218b38490ce   3 weeks ago    516MB
```

**æœç´¢é•œåƒï¼š**
```bash
# åœ¨ Docker Hub æœç´¢é•œåƒ
docker search nginx

# è¾“å‡ºç¤ºä¾‹ï¼š
# NAME                DESCRIPTION           STARS     OFFICIAL
# nginx               Official build...     15000     [OK]
```

**æ‹‰å–é•œåƒï¼š**
```bash
# æ‹‰å–æœ€æ–°ç‰ˆæœ¬
docker pull nginx

# æ‹‰å–æŒ‡å®šç‰ˆæœ¬
docker pull nginx:1.21

# æ‹‰å–æŒ‡å®šå¹³å°é•œåƒ
docker pull --platform linux/amd64 nginx
```

**åˆ é™¤é•œåƒï¼š**
```bash
# é€šè¿‡é•œåƒIDåˆ é™¤
docker rmi 605c77e624dd

# é€šè¿‡åç§°åˆ é™¤
docker rmi nginx:latest

# å¼ºåˆ¶åˆ é™¤ï¼ˆå³ä½¿æœ‰å®¹å™¨åœ¨ä½¿ç”¨ï¼‰
docker rmi -f nginx

# åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ
docker image prune -a
```

**æŸ¥çœ‹é•œåƒè¯¦æƒ…ï¼š**
```bash
# æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯
docker inspect nginx

# æŸ¥çœ‹é•œåƒå†å²
docker history nginx
```

### 4.2 å®¹å™¨æ“ä½œ

**è¿è¡Œå®¹å™¨ï¼š**
```bash
# åŸºæœ¬è¿è¡Œ
docker run nginx

# åå°è¿è¡Œ
docker run -d nginx

# æŒ‡å®šå®¹å™¨åç§°
docker run -d --name my-nginx nginx

# ç«¯å£æ˜ å°„
docker run -d -p 80:80 --name my-nginx nginx

# ç¯å¢ƒå˜é‡
docker run -d -e MYSQL_ROOT_PASSWORD=root mysql:8.0

# æ•°æ®å·æŒ‚è½½
docker run -d -v /my/data:/var/lib/mysql mysql:8.0

# ç»„åˆä½¿ç”¨
docker run -d \
  --name my-nginx \
  -p 8080:80 \
  -v /my/html:/usr/share/nginx/html \
  nginx
```

**æŸ¥çœ‹å®¹å™¨ï¼š**
```bash
# æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨
docker ps

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰
docker ps -a

# æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
docker inspect my-nginx

# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats my-nginx
```

**å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š**
```bash
# å¯åŠ¨å®¹å™¨
docker start my-nginx

# åœæ­¢å®¹å™¨
docker stop my-nginx

# é‡å¯å®¹å™¨
docker restart my-nginx

# æš‚åœå®¹å™¨
docker pause my-nginx

# æ¢å¤å®¹å™¨
docker unpause my-nginx

# åˆ é™¤å®¹å™¨
docker rm my-nginx

# å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨
docker rm -f my-nginx

# åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨
docker container prune
```

**è¿›å…¥å®¹å™¨ï¼š**
```bash
# è¿›å…¥å®¹å™¨ï¼ˆæ¨èï¼‰
docker exec -it my-nginx bash

# å¦‚æœæ²¡æœ‰ bashï¼Œä½¿ç”¨ sh
docker exec -it my-nginx sh

# ä»¥ root ç”¨æˆ·è¿›å…¥
docker exec -it -u root my-nginx bash

# æ‰§è¡Œå•æ¡å‘½ä»¤
docker exec my-nginx ls -la
```

**æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š**
```bash
# æŸ¥çœ‹æ—¥å¿—
docker logs my-nginx

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker logs -f my-nginx

# æŸ¥çœ‹æœ€å100è¡Œ
docker logs --tail 100 my-nginx

# æ˜¾ç¤ºæ—¶é—´æˆ³
docker logs -t my-nginx
```

**å®¹å™¨ä¸ä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶ï¼š**
```bash
# ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº
docker cp my-nginx:/etc/nginx/nginx.conf ./nginx.conf

# ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨
docker cp ./index.html my-nginx:/usr/share/nginx/html/
```

---

## äº”ã€Dockerä»“åº“ä½¿ç”¨

### 5.1 Docker Hub

**æ³¨å†Œä¸ç™»å½•ï¼š**
```bash
# ç™»å½• Docker Hub
docker login

# è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 

# ç™»å‡º
docker logout
```

**æ¨é€é•œåƒï¼š**
```bash
# 1. æ ‡è®°é•œåƒï¼ˆæ·»åŠ ç”¨æˆ·åå‰ç¼€ï¼‰
docker tag my-app:latest username/my-app:latest

# 2. æ¨é€åˆ° Docker Hub
docker push username/my-app:latest

# 3. æ¨é€æ‰€æœ‰æ ‡ç­¾
docker push username/my-app --all-tags
```

**æ‹‰å–é•œåƒï¼š**
```bash
# æ‹‰å–å…¬å…±é•œåƒ
docker pull nginx

# æ‹‰å–ç§æœ‰é•œåƒï¼ˆéœ€è¦å…ˆç™»å½•ï¼‰
docker pull username/my-private-app
```

### 5.2 é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡

**é…ç½®é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼š**
```bash
# 1. ç™»å½•é˜¿é‡Œäº‘é•œåƒä»“åº“
docker login --username=your_username registry.cn-hangzhou.aliyuncs.com

# 2. æ ‡è®°é•œåƒ
docker tag my-app:latest registry.cn-hangzhou.aliyuncs.com/namespace/my-app:latest

# 3. æ¨é€é•œåƒ
docker push registry.cn-hangzhou.aliyuncs.com/namespace/my-app:latest

# 4. æ‹‰å–é•œåƒ
docker pull registry.cn-hangzhou.aliyuncs.com/namespace/my-app:latest
```

### 5.3 ç§æœ‰ä»“åº“ï¼ˆRegistryï¼‰

**å¿«é€Ÿæ­å»ºç§æœ‰ä»“åº“ï¼š**
```bash
# 1. è¿è¡Œ Registry å®¹å™¨
docker run -d \
  -p 5000:5000 \
  --name registry \
  -v /my/registry:/var/lib/registry \
  registry:2

# 2. æ ‡è®°é•œåƒ
docker tag my-app:latest localhost:5000/my-app:latest

# 3. æ¨é€åˆ°ç§æœ‰ä»“åº“
docker push localhost:5000/my-app:latest

# 4. ä»ç§æœ‰ä»“åº“æ‹‰å–
docker pull localhost:5000/my-app:latest
```

---

## å…­ã€Dockerå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### 6.1 é•œåƒå‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `docker pull` | æ‹‰å–é•œåƒ | `docker pull nginx:1.21` |
| `docker images` | åˆ—å‡ºé•œåƒ | `docker images` |
| `docker rmi` | åˆ é™¤é•œåƒ | `docker rmi nginx` |
| `docker build` | æ„å»ºé•œåƒ | `docker build -t myapp .` |
| `docker tag` | æ ‡è®°é•œåƒ | `docker tag app:v1 app:latest` |
| `docker push` | æ¨é€é•œåƒ | `docker push myapp:latest` |
| `docker history` | æŸ¥çœ‹é•œåƒå†å² | `docker history nginx` |
| `docker inspect` | æŸ¥çœ‹é•œåƒè¯¦æƒ… | `docker inspect nginx` |

### 6.2 å®¹å™¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `docker run` | åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ | `docker run -d nginx` |
| `docker ps` | åˆ—å‡ºå®¹å™¨ | `docker ps -a` |
| `docker start` | å¯åŠ¨å®¹å™¨ | `docker start my-nginx` |
| `docker stop` | åœæ­¢å®¹å™¨ | `docker stop my-nginx` |
| `docker restart` | é‡å¯å®¹å™¨ | `docker restart my-nginx` |
| `docker rm` | åˆ é™¤å®¹å™¨ | `docker rm my-nginx` |
| `docker exec` | è¿›å…¥å®¹å™¨ | `docker exec -it nginx bash` |
| `docker logs` | æŸ¥çœ‹æ—¥å¿— | `docker logs -f nginx` |
| `docker cp` | å¤åˆ¶æ–‡ä»¶ | `docker cp nginx:/file ./` |

### 6.3 ç³»ç»Ÿå‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `docker info` | æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ | `docker info` |
| `docker version` | æŸ¥çœ‹ç‰ˆæœ¬ | `docker version` |
| `docker system df` | æŸ¥çœ‹ç£ç›˜ä½¿ç”¨ | `docker system df` |
| `docker system prune` | æ¸…ç†èµ„æº | `docker system prune -a` |

### 6.4 å¸¸ç”¨å‚æ•°

**docker run å¸¸ç”¨å‚æ•°ï¼š**
```bash
-d                    # åå°è¿è¡Œ
-it                   # äº¤äº’å¼è¿è¡Œ
--name                # æŒ‡å®šå®¹å™¨åç§°
-p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£   # ç«¯å£æ˜ å°„
-v ä¸»æœºè·¯å¾„:å®¹å™¨è·¯å¾„   # æ•°æ®å·æŒ‚è½½
-e KEY=VALUE          # ç¯å¢ƒå˜é‡
--network             # æŒ‡å®šç½‘ç»œ
--restart             # é‡å¯ç­–ç•¥
--rm                  # å®¹å™¨åœæ­¢åè‡ªåŠ¨åˆ é™¤
--memory              # å†…å­˜é™åˆ¶
--cpus                # CPUé™åˆ¶
```

**ç¤ºä¾‹ï¼š**
```bash
docker run -d \
  --name my-app \
  -p 8080:8080 \
  -v /data:/app/data \
  -e SPRING_PROFILES_ACTIVE=prod \
  --network my-network \
  --restart unless-stopped \
  --memory 512m \
  --cpus 1.0 \
  my-app:latest
```

---

## ä¸ƒã€å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šè¿è¡Œ Nginx æœåŠ¡å™¨

```bash
# 1. æ‹‰å– nginx é•œåƒ
docker pull nginx

# 2. è¿è¡Œ nginx å®¹å™¨
docker run -d --name my-nginx -p 8080:80 nginx

# 3. è®¿é—® http://localhost:8080

# 4. æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs my-nginx

# 5. è¿›å…¥å®¹å™¨
docker exec -it my-nginx bash

# 6. åœæ­¢å¹¶åˆ é™¤å®¹å™¨
docker stop my-nginx
docker rm my-nginx
```

### ç»ƒä¹ 2ï¼šè¿è¡Œ MySQL æ•°æ®åº“

```bash
# 1. è¿è¡Œ MySQL å®¹å™¨
docker run -d \
  --name my-mysql \
  -p 3306:3306 \
  -e MYSQL_ROOT_PASSWORD=root123 \
  -e MYSQL_DATABASE=testdb \
  -v mysql-data:/var/lib/mysql \
  mysql:8.0

# 2. æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps

# 3. æŸ¥çœ‹æ—¥å¿—
docker logs my-mysql

# 4. è¿›å…¥å®¹å™¨è¿æ¥æ•°æ®åº“
docker exec -it my-mysql mysql -uroot -proot123

# 5. åœ¨ MySQL ä¸­æ‰§è¡Œå‘½ä»¤
SHOW DATABASES;
USE testdb;

# 6. é€€å‡ºå¹¶æ¸…ç†
exit
docker stop my-mysql
docker rm my-mysql
docker volume rm mysql-data
```

### ç»ƒä¹ 3ï¼šæ„å»ºè‡ªå®šä¹‰é•œåƒ

```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my-web-app && cd my-web-app

# 2. åˆ›å»º index.html
echo "<h1>Hello Docker!</h1>" > index.html

# 3. åˆ›å»º Dockerfile
cat > Dockerfile <<EOF
FROM nginx:alpine
COPY index.html /usr/share/nginx/html/
EOF

# 4. æ„å»ºé•œåƒ
docker build -t my-web-app:v1 .

# 5. è¿è¡Œå®¹å™¨
docker run -d -p 8080:80 --name web my-web-app:v1

# 6. è®¿é—® http://localhost:8080

# 7. æ¸…ç†
docker stop web
docker rm web
docker rmi my-web-app:v1
```

---

## å…«ã€å°ç»“

é€šè¿‡æœ¬ç« å­¦ä¹ ï¼Œä½ åº”è¯¥æŒæ¡ï¼š

âœ… **Docker æ˜¯ä»€ä¹ˆ**
- å®¹å™¨åŒ–å¹³å°
- è½»é‡çº§ã€å¿«é€Ÿã€å¯ç§»æ¤

âœ… **Docker çš„ä¼˜åŠ¿**
- ç¯å¢ƒä¸€è‡´æ€§
- å¿«é€Ÿéƒ¨ç½²
- èµ„æºé«˜æ•ˆ

âœ… **Docker çš„å®‰è£…**
- Windows/Linux/macOS
- é•œåƒåŠ é€Ÿå™¨é…ç½®

âœ… **æ ¸å¿ƒæ¦‚å¿µ**
- é•œåƒã€å®¹å™¨ã€ä»“åº“
- å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„

âœ… **åŸºç¡€æ“ä½œ**
- é•œåƒç®¡ç†
- å®¹å™¨ç”Ÿå‘½å‘¨æœŸ
- å¸¸ç”¨å‘½ä»¤

**ä¸‹ä¸€ç« é¢„å‘Šï¼š**
åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹  Docker çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…æ‹¬é•œåƒåŸç†ã€Dockerfile ç¼–å†™ã€ç½‘ç»œå’Œæ•°æ®å·ç®¡ç†ç­‰å†…å®¹ã€‚

---

**ç»§ç»­å­¦ä¹ ** â†’ [ç¬¬äºŒç« ï¼šDocker æ ¸å¿ƒæ¦‚å¿µ](2.Dockeræ ¸å¿ƒæ¦‚å¿µ.md)
