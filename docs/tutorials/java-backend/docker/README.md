---
title: Docker å®¹å™¨åŒ–æ•™ç¨‹
autoGroup: false
autoSort: false
sidebarDepth: 0
---

# Docker å®¹å™¨åŒ–æ•™ç¨‹

> ä»é›¶å¼€å§‹æŒæ¡ Docker å®¹å™¨æŠ€æœ¯ï¼Œå®ç° Java åº”ç”¨å¿«é€Ÿéƒ¨ç½²ä¸ç®¡ç†

## ğŸ“š æ•™ç¨‹ç®€ä»‹

æœ¬æ•™ç¨‹å°†å¸¦ä½ ç³»ç»Ÿå­¦ä¹  Docker å®¹å™¨åŒ–æŠ€æœ¯ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åº”ç”¨ï¼Œä¸“æ³¨äº Java åç«¯åº”ç”¨çš„å®¹å™¨åŒ–éƒ¨ç½²ã€‚Docker æ˜¯ç°ä»£åº”ç”¨éƒ¨ç½²çš„æ ‡å‡†æ–¹æ¡ˆï¼ŒæŒæ¡ Docker æ˜¯æ¯ä¸ª Java åç«¯å¼€å‘è€…å¿…å¤‡çš„æŠ€èƒ½ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- âœ… ç†è§£ Docker çš„æ ¸å¿ƒæ¦‚å¿µå’Œå·¥ä½œåŸç†
- âœ… ç†Ÿç»ƒæŒæ¡ Docker é•œåƒå’Œå®¹å™¨æ“ä½œ
- âœ… æŒæ¡ Dockerfile ç¼–å†™å’Œé•œåƒæ„å»º
- âœ… ç†Ÿæ‚‰ Docker ç½‘ç»œå’Œæ•°æ®å·ç®¡ç†
- âœ… èƒ½å¤Ÿä½¿ç”¨ Docker Compose ç¼–æ’å¤šå®¹å™¨åº”ç”¨
- âœ… æŒæ¡ Java åº”ç”¨çš„å®¹å™¨åŒ–éƒ¨ç½²æœ€ä½³å®è·µ
- âœ… åº”å¯¹å¸¸è§çš„ Docker é¢è¯•é¢˜

## ğŸ“– æ•™ç¨‹ç›®å½•

### [ç¬¬ä¸€ç« ï¼šDocker åŸºç¡€å…¥é—¨](1.DockeråŸºç¡€å…¥é—¨.md)
- Docker æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ Dockerï¼Ÿ
- Docker çš„å®‰è£…ä¸ç¯å¢ƒé…ç½®
- Docker æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶
- Docker é•œåƒä¸å®¹å™¨åŸºç¡€æ“ä½œ
- Docker ä»“åº“ä½¿ç”¨ï¼ˆDocker Hubã€é˜¿é‡Œäº‘ï¼‰
- Docker å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### [ç¬¬äºŒç« ï¼šDocker æ ¸å¿ƒæ¦‚å¿µ](2.Dockeræ ¸å¿ƒæ¦‚å¿µ.md)
- Docker é•œåƒåŸç†ä¸åˆ†å±‚å­˜å‚¨
- Docker å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- Docker ç½‘ç»œæ¨¡å¼è¯¦è§£
- Docker æ•°æ®å·ï¼ˆVolumeï¼‰ç®¡ç†
- Dockerfile æŒ‡ä»¤è¯¦è§£
- é•œåƒæ„å»ºæœ€ä½³å®è·µ

### [ç¬¬ä¸‰ç« ï¼šDocker å®æˆ˜åº”ç”¨](3.Dockerå®æˆ˜åº”ç”¨.md)
- å®¹å™¨åŒ–éƒ¨ç½² Spring Boot åº”ç”¨
- å®¹å™¨åŒ–éƒ¨ç½² MySQL æ•°æ®åº“
- å®¹å™¨åŒ–éƒ¨ç½² Redis ç¼“å­˜
- å®¹å™¨åŒ–éƒ¨ç½² Nginx æœåŠ¡
- å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒ
- å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### [ç¬¬å››ç« ï¼šDocker è¿›é˜¶æŠ€å·§](4.Dockerè¿›é˜¶æŠ€å·§.md)
- Docker Compose å¤šå®¹å™¨ç¼–æ’
- æ„å»ºå®Œæ•´çš„å¾®æœåŠ¡ç¯å¢ƒ
- Docker ç½‘ç»œé«˜çº§é…ç½®
- å®¹å™¨èµ„æºé™åˆ¶ä¸ç›‘æ§
- Docker é•œåƒä¼˜åŒ–æŠ€å·§
- CI/CD é›†æˆä¸è‡ªåŠ¨åŒ–éƒ¨ç½²

### [ç¬¬äº”ç« ï¼šDocker é¢è¯•é¢˜é›†](5.Dockeré¢è¯•é¢˜é›†.md)
- Docker åŸºç¡€æ¦‚å¿µé¢è¯•é¢˜
- é•œåƒä¸å®¹å™¨ç›¸å…³é¢è¯•é¢˜
- ç½‘ç»œä¸å­˜å‚¨é¢è¯•é¢˜
- å®æˆ˜åœºæ™¯é¢è¯•é¢˜
- é«˜é¢‘é¢è¯•é¢˜è§£æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£… Docker

**Windowsï¼ˆæ¨è Docker Desktopï¼‰ï¼š**
```bash
# 1. ä¸‹è½½ Docker Desktop for Windows
https://www.docker.com/products/docker-desktop

# 2. å®‰è£…å¹¶å¯åŠ¨ Docker Desktop

# 3. éªŒè¯å®‰è£…
docker version
docker run hello-world
```

**macOSï¼ˆDocker Desktopï¼‰ï¼š**
```bash
# ä½¿ç”¨ Homebrew
brew install --cask docker

# æˆ–ç›´æ¥ä¸‹è½½
https://www.docker.com/products/docker-desktop

# éªŒè¯å®‰è£…
docker version
```

**Linuxï¼ˆUbuntu/Debianï¼‰ï¼š**
```bash
# æ›´æ–°åŒ…ç´¢å¼•
sudo apt-get update

# å®‰è£…ä¾èµ–
sudo apt-get install ca-certificates curl gnupg lsb-release

# æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# è®¾ç½®ç¨³å®šç‰ˆä»“åº“
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# å®‰è£… Docker Engine
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io

# éªŒè¯å®‰è£…
sudo docker version
```

### é…ç½®é•œåƒåŠ é€Ÿ

**é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼š**

åˆ›å»ºæˆ–ç¼–è¾‘ `/etc/docker/daemon.json`ï¼ˆLinuxï¼‰æˆ– Docker Desktop è®¾ç½®ï¼ˆWindows/macOSï¼‰ï¼š

```json
{
  "registry-mirrors": [
    "https://mirror.ccs.tencentyun.com",
    "https://docker.mirrors.ustc.edu.cn",
    "https://registry.docker-cn.com"
  ]
}
```

é‡å¯ Docker æœåŠ¡ï¼š
```bash
# Linux
sudo systemctl restart docker

# Windows/macOS - é‡å¯ Docker Desktop
```

### è¿è¡Œç¬¬ä¸€ä¸ªå®¹å™¨

```bash
# æ‹‰å– Nginx é•œåƒ
docker pull nginx

# è¿è¡Œ Nginx å®¹å™¨
docker run -d -p 80:80 --name my-nginx nginx

# è®¿é—® http://localhostï¼Œçœ‹åˆ° Nginx æ¬¢è¿é¡µé¢

# æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨
docker ps

# åœæ­¢å®¹å™¨
docker stop my-nginx

# åˆ é™¤å®¹å™¨
docker rm my-nginx
```

## ğŸ’¡ å­¦ä¹ å»ºè®®

1. **ç†è§£åŸç†** - å…ˆç†è§£å®¹å™¨åŒ–çš„æ ¸å¿ƒæ€æƒ³ï¼Œå†å­¦ä¹ å…·ä½“æ“ä½œ
2. **åŠ¨æ‰‹å®è·µ** - æ¯å­¦å®Œä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œç«‹å³åˆ›å»ºå®¹å™¨å®è·µ
3. **æŸ¥é˜…æ–‡æ¡£** - é‡åˆ°é—®é¢˜æ—¶å­¦ä¼šæŸ¥é˜…å®˜æ–¹æ–‡æ¡£
4. **ä¼˜åŒ–æ€ç»´** - å…³æ³¨é•œåƒå¤§å°å’Œå®¹å™¨æ€§èƒ½ä¼˜åŒ–
5. **å¾ªåºæ¸è¿›** - ä»å•å®¹å™¨åˆ°å¤šå®¹å™¨ç¼–æ’ï¼Œé€æ­¥æå‡

## ğŸŒŸ Docker å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### é•œåƒæ“ä½œ
```bash
docker pull <é•œåƒå>          # æ‹‰å–é•œåƒ
docker images                 # æŸ¥çœ‹æœ¬åœ°é•œåƒ
docker rmi <é•œåƒID>           # åˆ é™¤é•œåƒ
docker build -t <åç§°> .      # æ„å»ºé•œåƒ
docker tag <æº> <ç›®æ ‡>        # æ ‡è®°é•œåƒ
docker push <é•œåƒå>          # æ¨é€é•œåƒ
```

### å®¹å™¨æ“ä½œ
```bash
docker run <é•œåƒ>             # åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨
docker ps                     # æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨
docker ps -a                  # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker start <å®¹å™¨ID>         # å¯åŠ¨å®¹å™¨
docker stop <å®¹å™¨ID>          # åœæ­¢å®¹å™¨
docker restart <å®¹å™¨ID>       # é‡å¯å®¹å™¨
docker rm <å®¹å™¨ID>            # åˆ é™¤å®¹å™¨
docker exec -it <å®¹å™¨> bash   # è¿›å…¥å®¹å™¨
docker logs <å®¹å™¨ID>          # æŸ¥çœ‹æ—¥å¿—
```

### ç³»ç»Ÿæ“ä½œ
```bash
docker info                   # æŸ¥çœ‹ Docker ä¿¡æ¯
docker version                # æŸ¥çœ‹ç‰ˆæœ¬
docker system df              # æŸ¥çœ‹ç©ºé—´ä½¿ç”¨
docker system prune           # æ¸…ç†æ— ç”¨èµ„æº
```

## ğŸ“š Docker æ ¸å¿ƒæ¦‚å¿µé€Ÿè§ˆ

### Docker æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Client               â”‚
â”‚  (docker build, docker pull, etc.)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Daemon               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Images   â”‚  â”‚Container â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Docker Registry                â”‚
â”‚  (Docker Hub, é˜¿é‡Œäº‘é•œåƒä»“åº“)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é•œåƒåˆ†å±‚ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Application Layer  â”‚ â† åº”ç”¨å±‚ï¼ˆå¯å†™ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Dependencies      â”‚ â† ä¾èµ–å±‚ï¼ˆåªè¯»ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Runtime (JDK)     â”‚ â† è¿è¡Œæ—¶ï¼ˆåªè¯»ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Base OS (Alpine)  â”‚ â† åŸºç¡€é•œåƒï¼ˆåªè¯»ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®¹å™¨ç”Ÿå‘½å‘¨æœŸ
```
created â†’ running â†’ paused â†’ stopped â†’ deleted
   â†‘         â†“                    â†“
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ Dockerfile åŸºç¡€æ¨¡æ¿

### Spring Boot åº”ç”¨ Dockerfile
```dockerfile
# ä½¿ç”¨å®˜æ–¹ OpenJDK é•œåƒ
FROM openjdk:8-jdk-alpine

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ jar åŒ…
COPY target/*.jar app.jar

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["java", "-jar", "app.jar"]
```

### Docker Compose åŸºç¡€æ¨¡æ¿
```yaml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "8080:8080"
    depends_on:
      - mysql
      - redis
    environment:
      - SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/db
      - SPRING_REDIS_HOST=redis

  mysql:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=db
    volumes:
      - mysql-data:/var/lib/mysql

  redis:
    image: redis:6.2-alpine
    ports:
      - "6379:6379"

volumes:
  mysql-data:
```

## ğŸ“š æ¨èèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Docker å®˜æ–¹ç½‘ç«™](https://www.docker.com/)
- [Docker å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- [Docker Hub](https://hub.docker.com/)

### é•œåƒä»“åº“
- [Docker Hub](https://hub.docker.com/)
- [é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡](https://cr.console.aliyun.com/)
- [è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡](https://cloud.tencent.com/product/tcr)

### æ¨èå·¥å…·
- **Docker Desktop** - Windows/macOS å®˜æ–¹å®¢æˆ·ç«¯
- **Portainer** - Docker å¯è§†åŒ–ç®¡ç†å·¥å…·
- **Lazydocker** - ç»ˆç«¯ Docker ç®¡ç†å·¥å…·
- **Docker Compose** - å¤šå®¹å™¨ç¼–æ’å·¥å…·

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **èµ„æºé™åˆ¶** - å®¹å™¨é»˜è®¤å¯ä½¿ç”¨ä¸»æœºå…¨éƒ¨èµ„æºï¼Œç”Ÿäº§ç¯å¢ƒéœ€è®¾ç½®é™åˆ¶
2. **æ•°æ®æŒä¹…åŒ–** - å®¹å™¨åˆ é™¤åæ•°æ®ä¼šä¸¢å¤±ï¼Œé‡è¦æ•°æ®ä½¿ç”¨ Volume
3. **ç½‘ç»œå®‰å…¨** - ä¸è¦æš´éœ²ä¸å¿…è¦çš„ç«¯å£ï¼Œä½¿ç”¨ç½‘ç»œéš”ç¦»
4. **é•œåƒå¤§å°** - ä¼˜å…ˆä½¿ç”¨ alpine ç­‰è½»é‡çº§åŸºç¡€é•œåƒ
5. **ç‰ˆæœ¬ç®¡ç†** - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å…·ä½“ç‰ˆæœ¬å·ï¼Œé¿å…ä½¿ç”¨ latest
6. **æ—¥å¿—ç®¡ç†** - é…ç½®æ—¥å¿—é©±åŠ¨ï¼Œé¿å…æ—¥å¿—å æ»¡ç£ç›˜

## ğŸ¯ å­¦ä¹ è·¯çº¿å›¾

```
ç¬¬1å‘¨ï¼šDocker åŸºç¡€
â”œâ”€ Docker å®‰è£…é…ç½®
â”œâ”€ é•œåƒä¸å®¹å™¨æ“ä½œ
â”œâ”€ æŒæ¡åŸºæœ¬å‘½ä»¤
â””â”€ äº†è§£å®¹å™¨åŸç†

ç¬¬2å‘¨ï¼šæ ¸å¿ƒæ¦‚å¿µ
â”œâ”€ Dockerfile ç¼–å†™
â”œâ”€ é•œåƒæ„å»º
â”œâ”€ ç½‘ç»œé…ç½®
â””â”€ æ•°æ®å·ç®¡ç†

ç¬¬3å‘¨ï¼šå®æˆ˜åº”ç”¨
â”œâ”€ å®¹å™¨åŒ– Spring Boot
â”œâ”€ å®¹å™¨åŒ– MySQL/Redis
â”œâ”€ å¤šå®¹å™¨é€šä¿¡
â””â”€ é•œåƒä¼˜åŒ–

ç¬¬4å‘¨ï¼šè¿›é˜¶æŠ€å·§
â”œâ”€ Docker Compose
â”œâ”€ å¾®æœåŠ¡ç¼–æ’
â”œâ”€ ç›‘æ§ä¸æ—¥å¿—
â””â”€ CI/CD é›†æˆ
```

## ğŸ¤ ä¼ä¸šçº§ Docker æœ€ä½³å®è·µ

### é•œåƒæ„å»ºè§„èŒƒ
```
1. ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºå‡å°é•œåƒä½“ç§¯
2. åˆå¹¶ RUN æŒ‡ä»¤å‡å°‘å±‚æ•°
3. åˆ©ç”¨æ„å»ºç¼“å­˜åŠ é€Ÿæ„å»º
4. .dockerignore æ’é™¤æ— å…³æ–‡ä»¶
5. ä½¿ç”¨å…·ä½“ç‰ˆæœ¬å·çš„åŸºç¡€é•œåƒ
```

### å®¹å™¨è¿è¡Œå»ºè®®
1. ä¸ºå®¹å™¨è®¾ç½®èµ„æºé™åˆ¶ï¼ˆCPUã€å†…å­˜ï¼‰
2. ä½¿ç”¨å¥åº·æ£€æŸ¥ç¡®ä¿æœåŠ¡å¯ç”¨
3. é…ç½®é‡å¯ç­–ç•¥å®ç°è‡ªåŠ¨æ¢å¤
4. ä½¿ç”¨åªè¯»æ–‡ä»¶ç³»ç»Ÿå¢å¼ºå®‰å…¨æ€§

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```
æ¨èæŠ€æœ¯æ ˆï¼š
â”œâ”€ Kubernetes - å®¹å™¨ç¼–æ’
â”œâ”€ Harbor - ç§æœ‰é•œåƒä»“åº“
â”œâ”€ Prometheus - ç›‘æ§å‘Šè­¦
â””â”€ ELK - æ—¥å¿—æ”¶é›†åˆ†æ
```

## ğŸ“„ ç‰ˆæƒè¯´æ˜

æœ¬æ•™ç¨‹ä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œæ¬¢è¿åˆ†äº«ä¼ æ’­ã€‚

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹ Docker å­¦ä¹ ä¹‹æ—…ï¼ğŸš€**

**å»ºè®®ä» [ç¬¬ä¸€ç« ï¼šDocker åŸºç¡€å…¥é—¨](1.DockeråŸºç¡€å…¥é—¨.md) å¼€å§‹å­¦ä¹ **
