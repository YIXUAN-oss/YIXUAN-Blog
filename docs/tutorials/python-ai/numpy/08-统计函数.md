---
title: 统计函数
---

# 统计函数

> 使用NumPy进行统计分析

## 📚 学习目标

- 掌握基本统计函数
- 理解描述性统计
- 学会计算相关性
- 掌握直方图统计

## 1. 基本统计

```python
import numpy as np

data = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])

# 求和
print('求和:', np.sum(data))  # 55

# 均值
print('均值:', np.mean(data))  # 5.5

# 中位数
print('中位数:', np.median(data))  # 5.5

# 标准差
print('标准差:', np.std(data))

# 方差
print('方差:', np.var(data))

# 最大最小值
print('最大值:', np.max(data))
print('最小值:', np.min(data))

# 极差
print('极差:', np.ptp(data))  # peak to peak
```

## 2. 百分位数

```python
data = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])

# 四分位数
q1 = np.percentile(data, 25)  # 第一四分位数
q2 = np.percentile(data, 50)  # 中位数
q3 = np.percentile(data, 75)  # 第三四分位数

print(f'Q1: {q1}, Q2: {q2}, Q3: {q3}')

# quantile函数
print('0.25分位数:', np.quantile(data, 0.25))
print('0.75分位数:', np.quantile(data, 0.75))
```

## 3. 多维统计

```python
data = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])

# 整体统计
print('总和:', data.sum())
print('总均值:', data.mean())

# 按行统计（axis=1）
print('每行求和:', data.sum(axis=1))
print('每行均值:', data.mean(axis=1))

# 按列统计（axis=0）
print('每列求和:', data.sum(axis=0))
print('每列均值:', data.mean(axis=0))
```

## 4. 相关性分析

```python
# 协方差
x = np.array([1, 2, 3, 4, 5])
y = np.array([2, 4, 5, 4, 5])

cov_matrix = np.cov(x, y)
print('协方差矩阵:\n', cov_matrix)

# 相关系数
corr_matrix = np.corrcoef(x, y)
print('相关系数矩阵:\n', corr_matrix)
```

## 5. 直方图统计

```python
data = np.random.randn(1000)

# 计算直方图
hist, bins = np.histogram(data, bins=10)
print('频数:', hist)
print('区间:', bins)

# 二维直方图
x = np.random.randn(1000)
y = np.random.randn(1000)
H, xedges, yedges = np.histogram2d(x, y, bins=10)
print('二维直方图形状:', H.shape)
```

## 6. 加权统计

```python
values = np.array([1, 2, 3, 4, 5])
weights = np.array([1, 2, 3, 4, 5])

# 加权平均
weighted_avg = np.average(values, weights=weights)
print('加权平均:', weighted_avg)
```

## 7. 实战示例

```python
# 成绩分析
scores = np.array([85, 92, 78, 95, 88, 76, 90, 82, 94, 87])

print(f'平均分: {scores.mean():.2f}')
print(f'标准差: {scores.std():.2f}')
print(f'最高分: {scores.max()}')
print(f'最低分: {scores.min()}')
print(f'中位数: {np.median(scores)}')
print(f'及格率: {(scores >= 60).mean() * 100:.1f}%')
print(f'优秀率: {(scores >= 90).mean() * 100:.1f}%')
```

## 练习题

1. 计算数据的四分位数
2. 分析两组数据的相关性
3. 统计数据分布

---

**下一节：** [数组高级操作](09-数组高级操作.md)
