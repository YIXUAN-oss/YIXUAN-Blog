---
title: 交互式图表
---

# 交互式图表

> 掌握交互式图表的创建

## 📚 学习目标

- 掌握事件处理
- 学会动态更新
- 掌握动画效果
- 学会交互式工具

## 1. 事件处理

```python
import matplotlib.pyplot as plt
import numpy as np

fig, ax = plt.subplots()
ax.plot(np.random.randn(100))

def on_click(event):
    if event.inaxes:
        print(f'x: {event.xdata:.2f}, y: {event.ydata:.2f}')

fig.canvas.mpl_connect('button_press_event', on_click)
plt.show()
```

## 2. 动态更新

```python
import matplotlib.animation as animation

fig, ax = plt.subplots()
x = np.linspace(0, 2*np.pi, 100)
line, = ax.plot(x, np.sin(x))

def update(frame):
    line.set_ydata(np.sin(x + frame/10))
    return line,

ani = animation.FuncAnimation(fig, update, frames=100, 
                            interval=50, blit=True)
plt.show()
```

## 3. 实时数据

```python
import matplotlib.pyplot as plt
import numpy as np
from collections import deque

fig, ax = plt.subplots()
data = deque(maxlen=100)
line, = ax.plot(data)

def update_data():
    while True:
        data.append(np.random.randn())
        line.set_ydata(list(data))
        line.set_xdata(range(len(data)))
        ax.relim()
        ax.autoscale_view()
        plt.pause(0.1)

# update_data()  # 调用开始实时更新
```

---

**下一节：** [实战案例](12-实战案例.md)
