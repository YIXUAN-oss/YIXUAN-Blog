---
title: 基本图表
---

# 基本图表

> 掌握常用的基本图表类型

## 📚 学习目标

- 掌握折线图绘制
- 学会绘制散点图
- 掌握柱状图和条形图
- 学会绘制直方图
- 掌握饼图绘制

## 1. 折线图（Line Plot）

### 1.1 基本折线图

```python
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 10, 50)
y = np.sin(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y)
plt.title('Basic Line Plot')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)
plt.show()
```

### 1.2 多条折线

```python
x = np.linspace(0, 10, 100)
y1 = np.sin(x)
y2 = np.cos(x)
y3 = np.sin(x) + np.cos(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y1, label='sin(x)')
plt.plot(x, y2, label='cos(x)')
plt.plot(x, y3, label='sin(x)+cos(x)')
plt.title('Multiple Lines')
plt.xlabel('X')
plt.ylabel('Y')
plt.legend()
plt.grid(True)
plt.show()
```

### 1.3 线条样式

```python
x = np.linspace(0, 10, 50)

plt.figure(figsize=(12, 6))
plt.plot(x, x, '-', label='solid')
plt.plot(x, x+1, '--', label='dashed')
plt.plot(x, x+2, '-.', label='dash-dot')
plt.plot(x, x+3, ':', label='dotted')
plt.plot(x, x+4, 'o-', label='circle marker')
plt.plot(x, x+5, 's--', label='square marker')

plt.title('Line Styles')
plt.legend()
plt.grid(True)
plt.show()
```

## 2. 散点图（Scatter Plot）

### 2.1 基本散点图

```python
np.random.seed(42)
x = np.random.randn(100)
y = np.random.randn(100)

plt.figure(figsize=(10, 6))
plt.scatter(x, y)
plt.title('Basic Scatter Plot')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)
plt.show()
```

### 2.2 带颜色和大小的散点图

```python
x = np.random.randn(100)
y = np.random.randn(100)
colors = np.random.rand(100)
sizes = 1000 * np.random.rand(100)

plt.figure(figsize=(10, 6))
scatter = plt.scatter(x, y, c=colors, s=sizes, 
                     alpha=0.5, cmap='viridis')
plt.colorbar(scatter)
plt.title('Scatter Plot with Colors and Sizes')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)
plt.show()
```

### 2.3 分组散点图

```python
np.random.seed(42)
group1_x = np.random.randn(50)
group1_y = np.random.randn(50)
group2_x = np.random.randn(50) + 2
group2_y = np.random.randn(50) + 2

plt.figure(figsize=(10, 6))
plt.scatter(group1_x, group1_y, label='Group 1', alpha=0.6)
plt.scatter(group2_x, group2_y, label='Group 2', alpha=0.6)
plt.title('Grouped Scatter Plot')
plt.xlabel('X')
plt.ylabel('Y')
plt.legend()
plt.grid(True)
plt.show()
```

## 3. 柱状图（Bar Chart）

### 3.1 垂直柱状图

```python
categories = ['A', 'B', 'C', 'D', 'E']
values = [23, 45, 56, 78, 32]

plt.figure(figsize=(10, 6))
plt.bar(categories, values, color='skyblue', edgecolor='navy')
plt.title('Vertical Bar Chart')
plt.xlabel('Category')
plt.ylabel('Value')
plt.grid(axis='y', alpha=0.3)
plt.show()
```

### 3.2 水平柱状图

```python
plt.figure(figsize=(10, 6))
plt.barh(categories, values, color='coral', edgecolor='darkred')
plt.title('Horizontal Bar Chart')
plt.xlabel('Value')
plt.ylabel('Category')
plt.grid(axis='x', alpha=0.3)
plt.show()
```

### 3.3 分组柱状图

```python
categories = ['A', 'B', 'C', 'D', 'E']
values1 = [23, 45, 56, 78, 32]
values2 = [34, 52, 47, 65, 43]

x = np.arange(len(categories))
width = 0.35

fig, ax = plt.subplots(figsize=(10, 6))
bars1 = ax.bar(x - width/2, values1, width, label='Group 1')
bars2 = ax.bar(x + width/2, values2, width, label='Group 2')

ax.set_xlabel('Category')
ax.set_ylabel('Values')
ax.set_title('Grouped Bar Chart')
ax.set_xticks(x)
ax.set_xticklabels(categories)
ax.legend()
ax.grid(axis='y', alpha=0.3)

plt.show()
```

### 3.4 堆叠柱状图

```python
categories = ['A', 'B', 'C', 'D', 'E']
values1 = [23, 45, 56, 78, 32]
values2 = [34, 52, 47, 65, 43]

plt.figure(figsize=(10, 6))
plt.bar(categories, values1, label='Group 1')
plt.bar(categories, values2, bottom=values1, label='Group 2')
plt.title('Stacked Bar Chart')
plt.xlabel('Category')
plt.ylabel('Values')
plt.legend()
plt.grid(axis='y', alpha=0.3)
plt.show()
```

## 4. 直方图（Histogram）

### 4.1 基本直方图

```python
data = np.random.randn(1000)

plt.figure(figsize=(10, 6))
plt.hist(data, bins=30, color='lightgreen', edgecolor='black')
plt.title('Basic Histogram')
plt.xlabel('Value')
plt.ylabel('Frequency')
plt.grid(axis='y', alpha=0.3)
plt.show()
```

### 4.2 多组直方图

```python
data1 = np.random.randn(1000)
data2 = np.random.randn(1000) + 2

plt.figure(figsize=(10, 6))
plt.hist(data1, bins=30, alpha=0.5, label='Data 1')
plt.hist(data2, bins=30, alpha=0.5, label='Data 2')
plt.title('Multiple Histograms')
plt.xlabel('Value')
plt.ylabel('Frequency')
plt.legend()
plt.grid(axis='y', alpha=0.3)
plt.show()
```

### 4.3 概率密度直方图

```python
data = np.random.randn(1000)

plt.figure(figsize=(10, 6))
plt.hist(data, bins=30, density=True, alpha=0.7, 
         color='blue', edgecolor='black')
plt.title('Probability Density Histogram')
plt.xlabel('Value')
plt.ylabel('Density')
plt.grid(axis='y', alpha=0.3)
plt.show()
```

## 5. 饼图（Pie Chart）

### 5.1 基本饼图

```python
sizes = [25, 30, 20, 15, 10]
labels = ['A', 'B', 'C', 'D', 'E']

plt.figure(figsize=(8, 8))
plt.pie(sizes, labels=labels, autopct='%1.1f%%')
plt.title('Basic Pie Chart')
plt.show()
```

### 5.2 突出显示饼图

```python
sizes = [25, 30, 20, 15, 10]
labels = ['A', 'B', 'C', 'D', 'E']
explode = (0, 0.1, 0, 0, 0)  # 突出第二块

plt.figure(figsize=(8, 8))
plt.pie(sizes, explode=explode, labels=labels, 
        autopct='%1.1f%%', shadow=True, startangle=90)
plt.title('Exploded Pie Chart')
plt.show()
```

### 5.3 圆环图

```python
sizes = [25, 30, 20, 15, 10]
labels = ['A', 'B', 'C', 'D', 'E']
colors = ['#ff9999', '#66b3ff', '#99ff99', '#ffcc99', '#ff99cc']

plt.figure(figsize=(8, 8))
plt.pie(sizes, labels=labels, colors=colors, autopct='%1.1f%%',
        wedgeprops={'width': 0.4})
plt.title('Donut Chart')
plt.show()
```

## 6. 实战示例

### 示例1：月度销售对比

```python
months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
sales_2023 = [120, 135, 145, 165, 180, 195]
sales_2024 = [130, 140, 160, 175, 190, 210]

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

# 折线图
ax1.plot(months, sales_2023, marker='o', label='2023')
ax1.plot(months, sales_2024, marker='s', label='2024')
ax1.set_title('Sales Trend Comparison')
ax1.set_xlabel('Month')
ax1.set_ylabel('Sales (K)')
ax1.legend()
ax1.grid(True, alpha=0.3)

# 柱状图
x = np.arange(len(months))
width = 0.35
ax2.bar(x - width/2, sales_2023, width, label='2023')
ax2.bar(x + width/2, sales_2024, width, label='2024')
ax2.set_title('Sales Bar Comparison')
ax2.set_xlabel('Month')
ax2.set_ylabel('Sales (K)')
ax2.set_xticks(x)
ax2.set_xticklabels(months)
ax2.legend()
ax2.grid(axis='y', alpha=0.3)

plt.tight_layout()
plt.show()
```

### 示例2：成绩分布分析

```python
np.random.seed(42)
scores = np.random.normal(75, 10, 1000)
scores = np.clip(scores, 0, 100)

fig, axes = plt.subplots(1, 2, figsize=(15, 6))

# 直方图
axes[0].hist(scores, bins=20, color='skyblue', edgecolor='black')
axes[0].axvline(scores.mean(), color='red', linestyle='--', 
                linewidth=2, label=f'Mean: {scores.mean():.2f}')
axes[0].set_title('Score Distribution')
axes[0].set_xlabel('Score')
axes[0].set_ylabel('Frequency')
axes[0].legend()
axes[0].grid(axis='y', alpha=0.3)

# 分段统计饼图
bins = [0, 60, 70, 80, 90, 100]
labels = ['<60', '60-70', '70-80', '80-90', '90-100']
hist, _ = np.histogram(scores, bins=bins)

axes[1].pie(hist, labels=labels, autopct='%1.1f%%', startangle=90)
axes[1].set_title('Score Range Distribution')

plt.tight_layout()
plt.show()
```

## 7. 练习题

1. 绘制三角函数图（sin, cos, tan）
2. 创建一个分组柱状图对比数据
3. 绘制正态分布的直方图
4. 制作一个展示市场份额的饼图

## 💡 重点总结

1. **折线图** - 用于展示趋势变化
2. **散点图** - 用于展示数据分布和相关性
3. **柱状图** - 用于比较分类数据
4. **直方图** - 用于展示数据分布
5. **饼图** - 用于展示比例关系

---

**下一节：** [图表样式](03-图表样式.md)
