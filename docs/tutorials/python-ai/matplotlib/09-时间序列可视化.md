---
title: 时间序列可视化
---

# 时间序列可视化

> 掌握时间序列数据的可视化

## 📚 学习目标

- 掌握日期时间处理
- 学会绘制时间序列图
- 掌握趋势线绘制
- 学会多序列对比

## 1. 日期时间处理

```python
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np

# 创建日期范围
dates = pd.date_range('2024-01-01', periods=365)
values = np.cumsum(np.random.randn(365)) + 100

fig, ax = plt.subplots(figsize=(12, 6))
ax.plot(dates, values)
ax.set_title('Time Series')
ax.set_xlabel('Date')
ax.set_ylabel('Value')
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
```

## 2. 格式化日期轴

```python
import matplotlib.dates as mdates

fig, ax = plt.subplots(figsize=(12, 6))
ax.plot(dates, values)

# 格式化日期
ax.xaxis.set_major_formatter(mdates.DateFormatter('%Y-%m'))
ax.xaxis.set_major_locator(mdates.MonthLocator(interval=2))

plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
```

## 3. 多时间序列对比

```python
dates = pd.date_range('2024-01-01', periods=100)
series1 = np.cumsum(np.random.randn(100)) + 100
series2 = np.cumsum(np.random.randn(100)) + 100
series3 = np.cumsum(np.random.randn(100)) + 100

fig, ax = plt.subplots(figsize=(12, 6))
ax.plot(dates, series1, label='Series 1')
ax.plot(dates, series2, label='Series 2')
ax.plot(dates, series3, label='Series 3')
ax.legend()
ax.grid(True, alpha=0.3)
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
```

## 4. 趋势线

```python
from scipy import stats

dates_numeric = mdates.date2num(dates)
slope, intercept, r, p, se = stats.linregress(dates_numeric, values)
trend_line = slope * dates_numeric + intercept

fig, ax = plt.subplots(figsize=(12, 6))
ax.plot(dates, values, label='Data')
ax.plot(dates, trend_line, 'r--', label='Trend')
ax.legend()
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
```

---

**下一节：** [数据分析可视化](10-数据分析可视化.md)
