---
title: 命名实体识别
---

# 命名实体识别

> 掌握命名实体识别技术

## 📚 学习目标

- 理解NER任务
- 掌握规则方法
- 学会使用预训练模型
- 了解实体抽取应用

## 1. 使用 spaCy

```python
import spacy

# 加载中文模型
nlp = spacy.load("zh_core_web_sm")

text = "苹果公司的CEO库克访问了中国北京"
doc = nlp(text)

# 提取实体
for ent in doc.ents:
    print(f"{ent.text}\t{ent.label_}")

# 输出:
# 苹果公司    ORG
# 库克        PERSON
# 中国        GPE
# 北京        GPE
```

## 2. 使用 HanLP

```python
import hanlp

# 加载模型
ner = hanlp.load(hanlp.pretrained.ner.MSRA_NER_BERT_BASE_ZH)

text = "2020年1月1日，张三在北京大学读书"
result = ner(list(text))

print(result)
# [('2020年1月1日', 'TIME'), ('张三', 'PERSON'), ('北京大学', 'ORG')]
```

## 3. 规则方法

```python
import re

def extract_entities(text):
    # 提取日期
    dates = re.findall(r'\d{4}年\d{1,2}月\d{1,2}日', text)
    
    # 提取金额
    money = re.findall(r'\d+(\.\d+)?元', text)
    
    # 提取邮箱
    emails = re.findall(r'\S+@\S+', text)
    
    # 提取电话
    phones = re.findall(r'1[3-9]\d{9}', text)
    
    return {
        'dates': dates,
        'money': money,
        'emails': emails,
        'phones': phones
    }

text = "2024年1月1日，价格为100元，联系方式：test@example.com"
entities = extract_entities(text)
print(entities)
```

## 4. 实体关系抽取

```python
# 使用模式匹配
import spacy
from spacy.matcher import Matcher

nlp = spacy.load("zh_core_web_sm")
matcher = Matcher(nlp.vocab)

# 定义模式: 人名 + 是 + 组织 + 的 + 职位
pattern = [
    {"POS": "PROPN"},  # 人名
    {"ORTH": "是"},
    {"POS": "PROPN"},  # 组织
    {"ORTH": "的"},
    {"POS": "NOUN"}    # 职位
]
matcher.add("POSITION", [pattern])

text = "张三是阿里巴巴的工程师"
doc = nlp(text)
matches = matcher(doc)

for match_id, start, end in matches:
    span = doc[start:end]
    print(f"匹配: {span.text}")
```

---

**下一节：** [文本相似度](08-文本相似度.md)
