---
title: 图像基本操作
---

# 图像基本操作

> 掌握图像的基本操作和属性访问

## 📚 学习目标

- 掌握图像读取和保存
- 学会访问和修改像素
- 理解图像属性
- 掌握ROI操作
- 学会图像通道操作

## 1. 图像读取

```python
import cv2
import numpy as np

# 默认彩色读取
img = cv2.imread('image.jpg')

# 灰度模式
gray = cv2.imread('image.jpg', cv2.IMREAD_GRAYSCALE)

# 包含alpha通道
img_alpha = cv2.imread('image.png', cv2.IMREAD_UNCHANGED)

# 检查
if img is None:
    print("读取失败")
else:
    print(f"Shape: {img.shape}")
    print(f"Type: {img.dtype}")
```

## 2. 图像属性

```python
img = cv2.imread('image.jpg')

# 形状 (高度, 宽度, 通道)
print(f"Shape: {img.shape}")
height, width, channels = img.shape

# 总像素数
print(f"Size: {img.size}")

# 数据类型
print(f"Dtype: {img.dtype}")
```

## 3. 像素操作

```python
# 访问像素 (y, x)
pixel = img[100, 100]
print(f"Pixel at (100, 100): {pixel}")  # [B, G, R]

# 访问单通道
blue = img[100, 100, 0]
green = img[100, 100, 1]
red = img[100, 100, 2]

# 修改像素
img[100, 100] = [255, 255, 255]  # 白色

# 修改区域
img[0:100, 0:100] = [0, 255, 0]  # 绿色方块
```

## 4. ROI (感兴趣区域)

```python
# 提取ROI
roi = img[100:200, 100:200]

# 复制ROI到其他位置
img[300:400, 300:400] = roi

# 保存ROI
cv2.imwrite('roi.jpg', roi)
```

## 5. 通道操作

```python
# 分离通道
b, g, r = cv2.split(img)

# 合并通道
img_merged = cv2.merge([b, g, r])

# 单独处理通道
b = np.zeros_like(r)
img_blue = cv2.merge([b, np.zeros_like(g), r])
```

---

**下一节：** [图像处理](03-图像处理.md)
