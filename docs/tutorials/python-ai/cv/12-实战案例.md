---
title: 实战案例
---

# 实战案例

> 通过实战项目掌握计算机视觉

## 📚 学习目标

- 应用CV解决实际问题
- 掌握完整项目流程
- 学会综合运用技术

## 1. 人脸识别系统

```python
import cv2
import face_recognition

# 加载已知人脸
known_image = face_recognition.load_image_file("person.jpg")
known_encoding = face_recognition.face_encodings(known_image)[0]

# 实时识别
cap = cv2.VideoCapture(0)

while True:
    ret, frame = cap.read()
    rgb_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)
    
    # 检测和识别
    face_locations = face_recognition.face_locations(rgb_frame)
    face_encodings = face_recognition.face_encodings(rgb_frame, face_locations)
    
    for (top, right, bottom, left), face_encoding in zip(face_locations, face_encodings):
        matches = face_recognition.compare_faces([known_encoding], face_encoding)
        name = "Known" if True in matches else "Unknown"
        
        cv2.rectangle(frame, (left, top), (right, bottom), (0, 0, 255), 2)
        cv2.putText(frame, name, (left, top - 10), 
                   cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 0, 255), 2)
    
    cv2.imshow('Face Recognition', frame)
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cap.release()
cv2.destroyAllWindows()
```

## 2. 车牌识别

```python
import cv2
import pytesseract

def detect_license_plate(img):
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    edges = cv2.Canny(gray, 100, 200)
    contours, _ = cv2.findContours(edges, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)
    
    for contour in contours:
        peri = cv2.arcLength(contour, True)
        approx = cv2.approxPolyDP(contour, 0.02 * peri, True)
        
        if len(approx) == 4:
            x, y, w, h = cv2.boundingRect(contour)
            aspect_ratio = w / float(h)
            
            if 2 <= aspect_ratio <= 4:
                plate = gray[y:y+h, x:x+w]
                text = pytesseract.image_to_string(plate, config='--psm 7')
                
                if text:
                    cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), 2)
                    cv2.putText(img, text, (x, y-10), 
                               cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)
    
    return img
```

## 3. 目标跟踪

```python
tracker = cv2.TrackerKCF_create()
cap = cv2.VideoCapture('video.mp4')
ret, frame = cap.read()

bbox = cv2.selectROI('Frame', frame, False)
tracker.init(frame, bbox)

while True:
    ret, frame = cap.read()
    if not ret:
        break
    
    success, bbox = tracker.update(frame)
    
    if success:
        x, y, w, h = [int(v) for v in bbox]
        cv2.rectangle(frame, (x, y), (x+w, y+h), (0, 255, 0), 2)
    
    cv2.imshow('Tracking', frame)
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cap.release()
cv2.destroyAllWindows()
```

## 💡 总结

通过这些实战案例，你应该掌握了：

1. **完整CV项目流程** - 从需求到实现
2. **人脸识别** - 检测和识别技术
3. **OCR应用** - 车牌识别
4. **目标跟踪** - 视频分析
5. **综合应用** - 智能监控系统

---

**恭喜完成 CV 教程！** 🎉
