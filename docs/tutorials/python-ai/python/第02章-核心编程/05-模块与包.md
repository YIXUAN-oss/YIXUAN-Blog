# æ¨¡å—ä¸åŒ…

## ä¸€ã€æ¨¡å—çš„æ¦‚å¿µ

### 1. ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿ

æ¨¡å—æ˜¯åŒ…å«Pythonä»£ç çš„`.py`æ–‡ä»¶ï¼Œå¯ä»¥å®šä¹‰å‡½æ•°ã€ç±»å’Œå˜é‡ï¼Œä¹Ÿå¯ä»¥åŒ…å«å¯æ‰§è¡Œçš„ä»£ç ã€‚

**æ¨¡å—çš„ä½œç”¨ï¼š**
- ä»£ç å¤ç”¨
- å‘½åç©ºé—´ç®¡ç†
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§

### 2. æ¨¡å—çš„åˆ†ç±»

- **å†…ç½®æ¨¡å—**ï¼šPythonè‡ªå¸¦çš„æ¨¡å—ï¼ˆå¦‚mathã€randomã€osç­‰ï¼‰
- **ç¬¬ä¸‰æ–¹æ¨¡å—**ï¼šéœ€è¦å®‰è£…çš„æ¨¡å—ï¼ˆå¦‚numpyã€pandasã€requestsç­‰ï¼‰
- **è‡ªå®šä¹‰æ¨¡å—**ï¼šè‡ªå·±ç¼–å†™çš„æ¨¡å—

---

## äºŒã€å¯¼å…¥æ¨¡å—

### 1. importè¯­å¥

```python
# å¯¼å…¥æ•´ä¸ªæ¨¡å—
import math

print(math.pi)        # 3.141592653589793
print(math.sqrt(16))  # 4.0
```

### 2. from...importè¯­å¥

```python
# å¯¼å…¥æ¨¡å—ä¸­çš„ç‰¹å®šæˆå‘˜
from math import pi, sqrt

print(pi)        # 3.141592653589793
print(sqrt(16))  # 4.0
```

### 3. å¯¼å…¥æ‰€æœ‰æˆå‘˜

```python
# å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰æˆå‘˜ï¼ˆä¸æ¨èï¼‰
from math import *

print(pi)
print(sqrt(16))
```

**æ³¨æ„ï¼š** ä½¿ç”¨`from module import *`å¯èƒ½ä¼šå¯¼è‡´å‘½åå†²çªï¼Œä¸æ¨èä½¿ç”¨ã€‚

### 4. ä½¿ç”¨åˆ«å

```python
# ç»™æ¨¡å—èµ·åˆ«å
import numpy as np
import pandas as pd

# ç»™æˆå‘˜èµ·åˆ«å
from math import sqrt as square_root

print(square_root(16))  # 4.0
```

---

## ä¸‰ã€è‡ªå®šä¹‰æ¨¡å—

### 1. åˆ›å»ºæ¨¡å—

åˆ›å»ºä¸€ä¸ªåä¸º`my_module.py`çš„æ–‡ä»¶ï¼š

```python
# my_module.py

"""è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ¨¡å—"""

# æ¨¡å—å˜é‡
PI = 3.14159

# æ¨¡å—å‡½æ•°
def add(x, y):
    """åŠ æ³•å‡½æ•°"""
    return x + y

def subtract(x, y):
    """å‡æ³•å‡½æ•°"""
    return x - y

# æ¨¡å—ç±»
class Calculator:
    """è®¡ç®—å™¨ç±»"""
    
    def multiply(self, x, y):
        return x * y
    
    def divide(self, x, y):
        if y != 0:
            return x / y
        return None

# æµ‹è¯•ä»£ç ï¼ˆåªåœ¨ç›´æ¥è¿è¡Œæ—¶æ‰§è¡Œï¼‰
if __name__ == '__main__':
    print("æµ‹è¯•æ¨¡å—")
    print(add(3, 5))
```

### 2. ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—

```python
# main.py

import my_module

# ä½¿ç”¨æ¨¡å—å˜é‡
print(my_module.PI)  # 3.14159

# ä½¿ç”¨æ¨¡å—å‡½æ•°
result = my_module.add(10, 5)
print(result)  # 15

# ä½¿ç”¨æ¨¡å—ç±»
calc = my_module.Calculator()
print(calc.multiply(3, 4))  # 12
```

### 3. `__name__`å˜é‡

`__name__`æ˜¯Pythonçš„å†…ç½®å˜é‡ï¼š
- ç›´æ¥è¿è¡Œæ¨¡å—æ—¶ï¼Œ`__name__`çš„å€¼æ˜¯`'__main__'`
- å¯¼å…¥æ¨¡å—æ—¶ï¼Œ`__name__`çš„å€¼æ˜¯æ¨¡å—å

```python
# my_module.py

def test():
    print("è¿™æ˜¯æµ‹è¯•å‡½æ•°")

if __name__ == '__main__':
    # åªæœ‰ç›´æ¥è¿è¡Œæ­¤æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œ
    print("ç›´æ¥è¿è¡Œæ¨¡å—")
    test()
else:
    # è¢«å¯¼å…¥æ—¶æ‰§è¡Œ
    print("æ¨¡å—è¢«å¯¼å…¥")
```

---

## å››ã€åŒ…ï¼ˆPackageï¼‰

### 1. ä»€ä¹ˆæ˜¯åŒ…ï¼Ÿ

åŒ…æ˜¯åŒ…å«å¤šä¸ªæ¨¡å—çš„æ–‡ä»¶å¤¹ï¼Œå¿…é¡»åŒ…å«ä¸€ä¸ª`__init__.py`æ–‡ä»¶ï¼ˆPython 3.3+å¯ä»¥çœç•¥ï¼‰ã€‚

**åŒ…çš„ç»“æ„ï¼š**
```
my_package/
    __init__.py
    module1.py
    module2.py
    sub_package/
        __init__.py
        module3.py
```

### 2. åˆ›å»ºåŒ…

#### æ­¥éª¤1ï¼šåˆ›å»ºåŒ…ç›®å½•ç»“æ„

```
utils/
    __init__.py
    math_utils.py
    string_utils.py
```

#### æ­¥éª¤2ï¼šç¼–å†™æ¨¡å—

```python
# utils/math_utils.py

def add(x, y):
    return x + y

def multiply(x, y):
    return x * y
```

```python
# utils/string_utils.py

def to_upper(text):
    return text.upper()

def to_lower(text):
    return text.lower()
```

#### æ­¥éª¤3ï¼šç¼–å†™`__init__.py`

```python
# utils/__init__.py

"""å·¥å…·åŒ…"""

from .math_utils import add, multiply
from .string_utils import to_upper, to_lower

__all__ = ['add', 'multiply', 'to_upper', 'to_lower']
```

### 3. ä½¿ç”¨åŒ…

```python
# æ–¹å¼1ï¼šå¯¼å…¥æ•´ä¸ªåŒ…
import utils

print(utils.add(3, 5))
print(utils.to_upper("hello"))

# æ–¹å¼2ï¼šå¯¼å…¥åŒ…ä¸­çš„æ¨¡å—
from utils import math_utils

print(math_utils.add(3, 5))

# æ–¹å¼3ï¼šå¯¼å…¥åŒ…ä¸­çš„ç‰¹å®šå‡½æ•°
from utils import add, to_upper

print(add(3, 5))
print(to_upper("hello"))
```

---

## äº”ã€å¸¸ç”¨å†…ç½®æ¨¡å—

### 1. mathæ¨¡å—

```python
import math

# å¸¸é‡
print(math.pi)  # åœ†å‘¨ç‡
print(math.e)   # è‡ªç„¶å¸¸æ•°

# æ•°å­¦å‡½æ•°
print(math.sqrt(16))      # å¹³æ–¹æ ¹ï¼š4.0
print(math.pow(2, 3))     # å¹‚è¿ç®—ï¼š8.0
print(math.ceil(3.2))     # å‘ä¸Šå–æ•´ï¼š4
print(math.floor(3.8))    # å‘ä¸‹å–æ•´ï¼š3
print(math.fabs(-5))      # ç»å¯¹å€¼ï¼š5.0

# ä¸‰è§’å‡½æ•°
print(math.sin(math.pi/2))  # æ­£å¼¦
print(math.cos(0))          # ä½™å¼¦
```

### 2. randomæ¨¡å—

```python
import random

# ç”Ÿæˆéšæœºæ•°
print(random.random())           # 0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°
print(random.randint(1, 10))     # 1-10ä¹‹é—´çš„éšæœºæ•´æ•°
print(random.uniform(1.0, 10.0)) # 1.0-10.0ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°

# éšæœºé€‰æ‹©
items = ['apple', 'banana', 'orange']
print(random.choice(items))      # éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ 

# éšæœºæ‰“ä¹±
numbers = [1, 2, 3, 4, 5]
random.shuffle(numbers)
print(numbers)

# éšæœºæŠ½æ ·
print(random.sample(range(1, 50), 6))  # ä»1-49ä¸­éšæœºæŠ½å–6ä¸ªæ•°
```

### 3. datetimeæ¨¡å—

```python
from datetime import datetime, date, time, timedelta

# è·å–å½“å‰æ—¶é—´
now = datetime.now()
print(now)  # 2025-01-18 21:00:00.123456

# è·å–å½“å‰æ—¥æœŸ
today = date.today()
print(today)  # 2025-01-18

# åˆ›å»ºç‰¹å®šæ—¶é—´
dt = datetime(2025, 1, 18, 21, 0, 0)
print(dt)

# æ ¼å¼åŒ–æ—¶é—´
print(now.strftime("%Y-%m-%d %H:%M:%S"))  # 2025-01-18 21:00:00
print(now.strftime("%Yå¹´%mæœˆ%dæ—¥"))        # 2025å¹´01æœˆ18æ—¥

# æ—¶é—´è®¡ç®—
tomorrow = today + timedelta(days=1)
print(tomorrow)

next_week = today + timedelta(weeks=1)
print(next_week)
```

### 4. osæ¨¡å—

```python
import os

# è·å–å½“å‰å·¥ä½œç›®å½•
print(os.getcwd())

# åˆ—å‡ºç›®å½•å†…å®¹
print(os.listdir('.'))

# åˆ›å»ºç›®å½•
# os.mkdir('new_folder')
# os.makedirs('parent/child')  # åˆ›å»ºå¤šçº§ç›®å½•

# åˆ é™¤ç›®å½•
# os.rmdir('new_folder')

# é‡å‘½å
# os.rename('old_name.txt', 'new_name.txt')

# åˆ é™¤æ–‡ä»¶
# os.remove('file.txt')

# æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨
print(os.path.exists('file.txt'))

# æ£€æŸ¥æ˜¯å¦ä¸ºæ–‡ä»¶/ç›®å½•
print(os.path.isfile('file.txt'))
print(os.path.isdir('folder'))

# è·¯å¾„æ“ä½œ
path = os.path.join('folder', 'subfolder', 'file.txt')
print(path)

# åˆ†ç¦»è·¯å¾„å’Œæ–‡ä»¶å
print(os.path.split('/path/to/file.txt'))
print(os.path.dirname('/path/to/file.txt'))
print(os.path.basename('/path/to/file.txt'))
```

### 5. sysæ¨¡å—

```python
import sys

# Pythonç‰ˆæœ¬
print(sys.version)

# å‘½ä»¤è¡Œå‚æ•°
print(sys.argv)

# æ¨¡å—æœç´¢è·¯å¾„
print(sys.path)

# é€€å‡ºç¨‹åº
# sys.exit(0)

# æ ‡å‡†è¾“å…¥è¾“å‡º
sys.stdout.write("Hello\n")
```

### 6. jsonæ¨¡å—

```python
import json

# Pythonå¯¹è±¡è½¬JSONå­—ç¬¦ä¸²
data = {
    'name': 'å¼ ä¸‰',
    'age': 18,
    'scores': [85, 92, 78]
}

json_str = json.dumps(data, ensure_ascii=False, indent=2)
print(json_str)

# JSONå­—ç¬¦ä¸²è½¬Pythonå¯¹è±¡
json_data = '{"name": "æå››", "age": 20}'
obj = json.loads(json_data)
print(obj)
print(obj['name'])

# å†™å…¥JSONæ–‡ä»¶
with open('data.json', 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

# è¯»å–JSONæ–‡ä»¶
with open('data.json', 'r', encoding='utf-8') as f:
    loaded_data = json.load(f)
    print(loaded_data)
```

---

## å…­ã€ç¬¬ä¸‰æ–¹æ¨¡å—ç®¡ç†

### 1. pipåŒ…ç®¡ç†å™¨

```bash
# å®‰è£…æ¨¡å—
pip install requests

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
pip install requests==2.28.0

# å‡çº§æ¨¡å—
pip install --upgrade requests

# å¸è½½æ¨¡å—
pip uninstall requests

# æŸ¥çœ‹å·²å®‰è£…çš„æ¨¡å—
pip list

# æŸ¥çœ‹æ¨¡å—ä¿¡æ¯
pip show requests

# å¯¼å‡ºä¾èµ–åˆ—è¡¨
pip freeze > requirements.txt

# å®‰è£…ä¾èµ–åˆ—è¡¨
pip install -r requirements.txt
```

### 2. ä½¿ç”¨å›½å†…é•œåƒæº

```bash
# ä¸´æ—¶ä½¿ç”¨
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple requests

# æ°¸ä¹…é…ç½®ï¼ˆä¿®æ”¹pip.iniæˆ–pip.confï¼‰
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
```

---

## ä¸ƒã€æ¨¡å—æœç´¢è·¯å¾„

### 1. æ¨¡å—æœç´¢é¡ºåº

PythonæŒ‰ä»¥ä¸‹é¡ºåºæœç´¢æ¨¡å—ï¼š
1. å½“å‰ç›®å½•
2. PYTHONPATHç¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•
3. Pythonå®‰è£…ç›®å½•

### 2. æŸ¥çœ‹æœç´¢è·¯å¾„

```python
import sys

for path in sys.path:
    print(path)
```

### 3. æ·»åŠ æœç´¢è·¯å¾„

```python
import sys

# ä¸´æ—¶æ·»åŠ 
sys.path.append('/path/to/my/modules')

# æˆ–è€…è®¾ç½®PYTHONPATHç¯å¢ƒå˜é‡
```

---

## å…«ã€å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šå·¥å…·æ¨¡å—

åˆ›å»ºä¸€ä¸ªå®ç”¨å·¥å…·æ¨¡å—ï¼š

```python
# utils.py

"""å®ç”¨å·¥å…·æ¨¡å—"""

import os
import json
from datetime import datetime

def read_json(filename):
    """è¯»å–JSONæ–‡ä»¶"""
    with open(filename, 'r', encoding='utf-8') as f:
        return json.load(f)

def write_json(filename, data):
    """å†™å…¥JSONæ–‡ä»¶"""
    with open(filename, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

def get_file_size(filename):
    """è·å–æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰"""
    return os.path.getsize(filename)

def format_time(timestamp=None):
    """æ ¼å¼åŒ–æ—¶é—´"""
    if timestamp is None:
        dt = datetime.now()
    else:
        dt = datetime.fromtimestamp(timestamp)
    return dt.strftime("%Y-%m-%d %H:%M:%S")

def ensure_dir(directory):
    """ç¡®ä¿ç›®å½•å­˜åœ¨"""
    if not os.path.exists(directory):
        os.makedirs(directory)

if __name__ == '__main__':
    # æµ‹è¯•ä»£ç 
    print("å·¥å…·æ¨¡å—æµ‹è¯•")
    print(format_time())
```

### æ¡ˆä¾‹2ï¼šé…ç½®ç®¡ç†æ¨¡å—

```python
# config.py

"""é…ç½®ç®¡ç†æ¨¡å—"""

import json
import os

class Config:
    """é…ç½®ç±»"""
    
    def __init__(self, config_file='config.json'):
        self.config_file = config_file
        self.config = self.load()
    
    def load(self):
        """åŠ è½½é…ç½®"""
        if os.path.exists(self.config_file):
            with open(self.config_file, 'r', encoding='utf-8') as f:
                return json.load(f)
        return {}
    
    def save(self):
        """ä¿å­˜é…ç½®"""
        with open(self.config_file, 'w', encoding='utf-8') as f:
            json.dump(self.config, f, ensure_ascii=False, indent=2)
    
    def get(self, key, default=None):
        """è·å–é…ç½®é¡¹"""
        return self.config.get(key, default)
    
    def set(self, key, value):
        """è®¾ç½®é…ç½®é¡¹"""
        self.config[key] = value
        self.save()

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == '__main__':
    config = Config()
    config.set('app_name', 'MyApp')
    config.set('version', '1.0.0')
    
    print(config.get('app_name'))
    print(config.get('version'))
```

---

## ä¹ã€çŸ¥è¯†ç‚¹æ€»ç»“

### âœ… æ ¸å¿ƒè¦ç‚¹

1. **æ¨¡å—å¯¼å…¥**ï¼šimportã€from...importã€åˆ«å
2. **è‡ªå®šä¹‰æ¨¡å—**ï¼šåˆ›å»º.pyæ–‡ä»¶ï¼Œä½¿ç”¨`__name__`
3. **åŒ…çš„æ¦‚å¿µ**ï¼šåŒ…å«`__init__.py`çš„æ–‡ä»¶å¤¹
4. **å¸¸ç”¨æ¨¡å—**ï¼šmathã€randomã€datetimeã€osã€sysã€json
5. **åŒ…ç®¡ç†**ï¼špipå®‰è£…ã€å¸è½½ã€ç®¡ç†ç¬¬ä¸‰æ–¹æ¨¡å—

### ğŸ“ é¢è¯•é‡ç‚¹

- importå’Œfrom...importçš„åŒºåˆ«
- `__name__`å˜é‡çš„ä½œç”¨
- åŒ…å’Œæ¨¡å—çš„åŒºåˆ«
- æ¨¡å—æœç´¢è·¯å¾„
- `__init__.py`çš„ä½œç”¨
- `__all__`å˜é‡çš„ä½œç”¨

---

**ä¸Šä¸€ç« ï¼š** [é¢å‘å¯¹è±¡è¿›é˜¶](04-é¢å‘å¯¹è±¡è¿›é˜¶.md)  
**ä¸‹ä¸€ç« ï¼š** [å¼‚å¸¸å¤„ç†](06-å¼‚å¸¸å¤„ç†.md) â†’
