---
title: æ’åºç®—æ³•
---

# æ’åºç®—æ³•

> æŒæ¡å¸¸è§çš„æ’åºç®—æ³•åŠå…¶å®ç°

## ğŸ“š å­¦ä¹ ç›®æ ‡

- ç†è§£å„ç§æ’åºç®—æ³•çš„åŸç†
- æŒæ¡æ’åºç®—æ³•çš„å®ç°
- äº†è§£ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦
- å­¦ä¼šé€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•

## 1. å†’æ³¡æ’åº

### 1.1 åŸºæœ¬å®ç°

```python
def bubble_sort(arr):
    """
    å†’æ³¡æ’åº
    æ—¶é—´å¤æ‚åº¦: O(nÂ²)
    ç©ºé—´å¤æ‚åº¦: O(1)
    """
    n = len(arr)
    
    for i in range(n):
        # æ ‡è®°æ˜¯å¦å‘ç”Ÿäº¤æ¢
        swapped = False
        
        for j in range(0, n - i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
                swapped = True
        
        # å¦‚æœæ²¡æœ‰äº¤æ¢ï¼Œè¯´æ˜å·²æ’åº
        if not swapped:
            break
    
    return arr

# æµ‹è¯•
arr = [64, 34, 25, 12, 22, 11, 90]
print(bubble_sort(arr))
```

## 2. é€‰æ‹©æ’åº

```python
def selection_sort(arr):
    """
    é€‰æ‹©æ’åº
    æ—¶é—´å¤æ‚åº¦: O(nÂ²)
    ç©ºé—´å¤æ‚åº¦: O(1)
    """
    n = len(arr)
    
    for i in range(n):
        # æ‰¾åˆ°æœ€å°å…ƒç´ çš„ç´¢å¼•
        min_idx = i
        for j in range(i + 1, n):
            if arr[j] < arr[min_idx]:
                min_idx = j
        
        # äº¤æ¢
        arr[i], arr[min_idx] = arr[min_idx], arr[i]
    
    return arr

# æµ‹è¯•
arr = [64, 25, 12, 22, 11]
print(selection_sort(arr))
```

## 3. æ’å…¥æ’åº

```python
def insertion_sort(arr):
    """
    æ’å…¥æ’åº
    æ—¶é—´å¤æ‚åº¦: O(nÂ²)
    ç©ºé—´å¤æ‚åº¦: O(1)
    """
    for i in range(1, len(arr)):
        key = arr[i]
        j = i - 1
        
        # å°†å¤§äº key çš„å…ƒç´ åç§»
        while j >= 0 and arr[j] > key:
            arr[j + 1] = arr[j]
            j -= 1
        
        arr[j + 1] = key
    
    return arr

# æµ‹è¯•
arr = [12, 11, 13, 5, 6]
print(insertion_sort(arr))
```

## 4. å¿«é€Ÿæ’åº

```python
def quick_sort(arr):
    """
    å¿«é€Ÿæ’åº
    æ—¶é—´å¤æ‚åº¦: å¹³å‡ O(n log n), æœ€å O(nÂ²)
    ç©ºé—´å¤æ‚åº¦: O(log n)
    """
    if len(arr) <= 1:
        return arr
    
    pivot = arr[len(arr) // 2]
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    
    return quick_sort(left) + middle + quick_sort(right)

# åŸåœ°å¿«é€Ÿæ’åº
def quick_sort_inplace(arr, low=0, high=None):
    if high is None:
        high = len(arr) - 1
    
    if low < high:
        pi = partition(arr, low, high)
        quick_sort_inplace(arr, low, pi - 1)
        quick_sort_inplace(arr, pi + 1, high)
    
    return arr

def partition(arr, low, high):
    pivot = arr[high]
    i = low - 1
    
    for j in range(low, high):
        if arr[j] <= pivot:
            i += 1
            arr[i], arr[j] = arr[j], arr[i]
    
    arr[i + 1], arr[high] = arr[high], arr[i + 1]
    return i + 1

# æµ‹è¯•
arr = [10, 7, 8, 9, 1, 5]
print(quick_sort(arr))
```

## 5. å½’å¹¶æ’åº

```python
def merge_sort(arr):
    """
    å½’å¹¶æ’åº
    æ—¶é—´å¤æ‚åº¦: O(n log n)
    ç©ºé—´å¤æ‚åº¦: O(n)
    """
    if len(arr) <= 1:
        return arr
    
    # åˆ†å‰²
    mid = len(arr) // 2
    left = merge_sort(arr[:mid])
    right = merge_sort(arr[mid:])
    
    # åˆå¹¶
    return merge(left, right)

def merge(left, right):
    """åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"""
    result = []
    i = j = 0
    
    while i < len(left) and j < len(right):
        if left[i] <= right[j]:
            result.append(left[i])
            i += 1
        else:
            result.append(right[j])
            j += 1
    
    result.extend(left[i:])
    result.extend(right[j:])
    
    return result

# æµ‹è¯•
arr = [38, 27, 43, 3, 9, 82, 10]
print(merge_sort(arr))
```

## 6. å †æ’åº

```python
def heap_sort(arr):
    """
    å †æ’åº
    æ—¶é—´å¤æ‚åº¦: O(n log n)
    ç©ºé—´å¤æ‚åº¦: O(1)
    """
    n = len(arr)
    
    # æ„å»ºæœ€å¤§å †
    for i in range(n // 2 - 1, -1, -1):
        heapify(arr, n, i)
    
    # ä¸€ä¸ªä¸ªæå–å…ƒç´ 
    for i in range(n - 1, 0, -1):
        arr[0], arr[i] = arr[i], arr[0]
        heapify(arr, i, 0)
    
    return arr

def heapify(arr, n, i):
    """è°ƒæ•´å †"""
    largest = i
    left = 2 * i + 1
    right = 2 * i + 2
    
    if left < n and arr[left] > arr[largest]:
        largest = left
    
    if right < n and arr[right] > arr[largest]:
        largest = right
    
    if largest != i:
        arr[i], arr[largest] = arr[largest], arr[i]
        heapify(arr, n, largest)

# æµ‹è¯•
arr = [12, 11, 13, 5, 6, 7]
print(heap_sort(arr))
```

## 7. è®¡æ•°æ’åº

```python
def counting_sort(arr):
    """
    è®¡æ•°æ’åºï¼ˆé€‚ç”¨äºæ•´æ•°ä¸”èŒƒå›´ä¸å¤§çš„æƒ…å†µï¼‰
    æ—¶é—´å¤æ‚åº¦: O(n + k)
    ç©ºé—´å¤æ‚åº¦: O(k)
    """
    if not arr:
        return arr
    
    # æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼
    max_val = max(arr)
    min_val = min(arr)
    range_size = max_val - min_val + 1
    
    # è®¡æ•°
    count = [0] * range_size
    for num in arr:
        count[num - min_val] += 1
    
    # ç´¯åŠ è®¡æ•°
    for i in range(1, range_size):
        count[i] += count[i - 1]
    
    # æ„å»ºç»“æœæ•°ç»„
    result = [0] * len(arr)
    for num in reversed(arr):
        index = count[num - min_val] - 1
        result[index] = num
        count[num - min_val] -= 1
    
    return result

# æµ‹è¯•
arr = [4, 2, 2, 8, 3, 3, 1]
print(counting_sort(arr))
```

## 8. ç®—æ³•æ€§èƒ½å¯¹æ¯”

```python
import time
import random

def benchmark_sort(sort_func, arr, name):
    """æµ‹è¯•æ’åºç®—æ³•æ€§èƒ½"""
    arr_copy = arr.copy()
    start = time.time()
    sort_func(arr_copy)
    end = time.time()
    print(f'{name}: {end - start:.6f} ç§’')

# ç”Ÿæˆæµ‹è¯•æ•°æ®
test_data = [random.randint(1, 1000) for _ in range(1000)]

# æ¯”è¾ƒä¸åŒç®—æ³•
print('æ’åºç®—æ³•æ€§èƒ½æ¯”è¾ƒ (1000ä¸ªå…ƒç´ ):')
benchmark_sort(bubble_sort, test_data, 'å†’æ³¡æ’åº')
benchmark_sort(selection_sort, test_data, 'é€‰æ‹©æ’åº')
benchmark_sort(insertion_sort, test_data, 'æ’å…¥æ’åº')
benchmark_sort(quick_sort, test_data, 'å¿«é€Ÿæ’åº')
benchmark_sort(merge_sort, test_data, 'å½’å¹¶æ’åº')
benchmark_sort(heap_sort, test_data, 'å †æ’åº')
benchmark_sort(sorted, test_data, 'Pythonå†…ç½®')
```

## 9. å®æˆ˜åº”ç”¨

### 9.1 Top K é—®é¢˜

```python
import heapq

def find_kth_largest(nums, k):
    """æ‰¾åˆ°ç¬¬kå¤§çš„å…ƒç´ """
    return heapq.nlargest(k, nums)[-1]

def top_k_frequent(nums, k):
    """æ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜çš„kä¸ªå…ƒç´ """
    from collections import Counter
    count = Counter(nums)
    return [item for item, _ in count.most_common(k)]

# æµ‹è¯•
nums = [1, 1, 1, 2, 2, 3]
print(top_k_frequent(nums, 2))  # [1, 2]
```

### 9.2 è‡ªå®šä¹‰æ’åº

```python
# æŒ‰å¤šä¸ªæ¡ä»¶æ’åº
students = [
    {'name': 'Alice', 'age': 25, 'score': 90},
    {'name': 'Bob', 'age': 23, 'score': 95},
    {'name': 'Charlie', 'age': 25, 'score': 85},
]

# æŒ‰å¹´é¾„å‡åºï¼Œåˆ†æ•°é™åº
sorted_students = sorted(students, key=lambda x: (x['age'], -x['score']))
print(sorted_students)
```

## ğŸ“ ç»ƒä¹ é¢˜

1. å®ç°è·å…°å›½æ——é—®é¢˜ï¼ˆä¸‰è·¯å¿«æ’ï¼‰
2. ç¼–å†™ä¸€ä¸ªå‡½æ•°åˆå¹¶kä¸ªæœ‰åºé“¾è¡¨
3. å®ç°æ¡¶æ’åº
4. æ‰¾å‡ºæ•°ç»„ä¸­ç¬¬Kå¤§çš„å…ƒç´ 

---

**ä¸‹ä¸€èŠ‚ï¼š** [æœç´¢ç®—æ³•](03-æœç´¢ç®—æ³•.md)
