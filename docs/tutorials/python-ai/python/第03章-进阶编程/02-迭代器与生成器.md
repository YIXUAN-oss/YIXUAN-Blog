---
title: è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨
---

# è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨

> ç†è§£Pythonè¿­ä»£å™¨å’Œç”Ÿæˆå™¨çš„æ ¸å¿ƒæ¦‚å¿µï¼ŒæŒæ¡é«˜æ•ˆçš„æ•°æ®å¤„ç†æ–¹å¼

## ğŸ“š å­¦ä¹ ç›®æ ‡

- ç†è§£è¿­ä»£å™¨å’Œå¯è¿­ä»£å¯¹è±¡çš„æ¦‚å¿µ
- æŒæ¡ç”Ÿæˆå™¨çš„ä½¿ç”¨
- å­¦ä¼šä½¿ç”¨ yield å…³é”®å­—
- æŒæ¡ç”Ÿæˆå™¨è¡¨è¾¾å¼

## 1. è¿­ä»£å™¨åŸºç¡€

### 1.1 å¯è¿­ä»£å¯¹è±¡ä¸è¿­ä»£å™¨

```python
# å¯è¿­ä»£å¯¹è±¡ï¼šå¯ä»¥ä½¿ç”¨ for å¾ªç¯éå†
my_list = [1, 2, 3, 4, 5]

# è·å–è¿­ä»£å™¨
iterator = iter(my_list)

# ä½¿ç”¨ next() è·å–å…ƒç´ 
print(next(iterator))  # 1
print(next(iterator))  # 2
```

### 1.2 è‡ªå®šä¹‰è¿­ä»£å™¨

```python
class CountDown:
    """å€’è®¡æ—¶è¿­ä»£å™¨"""
    
    def __init__(self, start):
        self.current = start
    
    def __iter__(self):
        return self
    
    def __next__(self):
        if self.current <= 0:
            raise StopIteration
        self.current -= 1
        return self.current + 1

# ä½¿ç”¨
countdown = CountDown(5)
for num in countdown:
    print(num)  # 5, 4, 3, 2, 1
```

## 2. ç”Ÿæˆå™¨

### 2.1 ç”Ÿæˆå™¨å‡½æ•°

```python
def fibonacci(n):
    """æ–æ³¢é‚£å¥‘æ•°åˆ—ç”Ÿæˆå™¨"""
    a, b = 0, 1
    count = 0
    while count < n:
        yield b
        a, b = b, a + b
        count += 1

# ä½¿ç”¨
for num in fibonacci(10):
    print(num, end=' ')
```

### 2.2 ç”Ÿæˆå™¨è¡¨è¾¾å¼

```python
# åˆ—è¡¨æ¨å¯¼å¼
squares_list = [x**2 for x in range(10)]

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆèŠ‚çœå†…å­˜ï¼‰
squares_gen = (x**2 for x in range(10))
print(list(squares_gen))
```

### 2.3 å®ç”¨ç¤ºä¾‹

```python
# è¯»å–å¤§æ–‡ä»¶
def read_large_file(file_path):
    with open(file_path, 'r', encoding='utf-8') as f:
        for line in f:
            yield line.strip()

# è¿‡æ»¤æ•°æ®
def filter_data(data, condition):
    for item in data:
        if condition(item):
            yield item
```

## 3. yield å…³é”®å­—

### 3.1 åŸºæœ¬ç”¨æ³•

```python
def simple_generator():
    print('å¼€å§‹')
    yield 1
    print('ç»§ç»­')
    yield 2
    print('ç»“æŸ')
    yield 3

gen = simple_generator()
print(next(gen))  # å¼€å§‹ \n 1
print(next(gen))  # ç»§ç»­ \n 2
```

### 3.2 send() æ–¹æ³•

```python
def counter():
    count = 0
    while True:
        val = yield count
        if val is not None:
            count = val
        else:
            count += 1

c = counter()
print(next(c))  # 0
print(c.send(10))  # 10
print(next(c))  # 11
```

## 4. itertools æ¨¡å—

```python
import itertools

# æ— é™è¿­ä»£å™¨
counter = itertools.count(10, 2)  # 10, 12, 14...

# å¾ªç¯è¿­ä»£
colors = itertools.cycle(['çº¢', 'ç»¿', 'è“'])

# è¿æ¥è¿­ä»£å™¨
result = itertools.chain([1, 2], ['a', 'b'])
print(list(result))  # [1, 2, 'a', 'b']

# æ’åˆ—ç»„åˆ
print(list(itertools.permutations([1, 2, 3], 2)))
print(list(itertools.combinations([1, 2, 3], 2)))
```

## ğŸ“ ç»ƒä¹ é¢˜

1. åˆ›å»ºä¸€ä¸ªç´ æ•°ç”Ÿæˆå™¨
2. å®ç°ä¸€ä¸ªæ‰¹é‡æ•°æ®å¤„ç†ç”Ÿæˆå™¨
3. ç¼–å†™æ–‡ä»¶å†…å®¹è¿‡æ»¤å™¨

---

**ä¸‹ä¸€èŠ‚ï¼š** [è£…é¥°å™¨](03-è£…é¥°å™¨.md)
