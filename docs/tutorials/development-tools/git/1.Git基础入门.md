---
title: Git基础入门
---

# Git基础入门

## 一、Git是什么？

### 1.1 版本控制系统

**Git** 是一个分布式版本控制系统（Distributed Version Control System），由Linux之父Linus Torvalds于2005年创建。

**版本控制系统的作用：**
- 📝 记录文件的所有修改历史
- 🔄 可以随时回退到任意历史版本
- 👥 支持多人协作开发
- 🔍 追踪谁在什么时候修改了什么内容

### 1.2 集中式 vs 分布式

| 特性 | 集中式（SVN） | 分布式（Git） |
|------|--------------|--------------|
| 版本库位置 | 只在中央服务器 | 每个开发者本地都有完整版本库 |
| 网络依赖 | 必须联网才能工作 | 可以离线工作 |
| 速度 | 较慢 | 非常快 |
| 安全性 | 中央服务器故障则丢失所有历史 | 任何一个克隆都是完整备份 |

### 1.3 Git的核心概念

```
工作区（Working Directory）
    ↓ git add
暂存区（Staging Area / Index）
    ↓ git commit
本地仓库（Local Repository）
    ↓ git push
远程仓库（Remote Repository）
```

---

## 二、Git能做什么？

### 2.1 主要功能

1. **版本管理**
   - 保存项目的每一个版本
   - 随时查看历史记录
   - 回退到任意版本

2. **分支管理**
   - 创建独立的开发分支
   - 并行开发多个功能
   - 合并分支

3. **团队协作**
   - 多人同时开发
   - 代码审查
   - 冲突解决

4. **代码备份**
   - 分布式存储
   - 数据安全可靠

### 2.2 应用场景

- ✅ 软件开发项目管理
- ✅ 文档版本控制
- ✅ 配置文件管理
- ✅ 个人笔记版本管理
- ✅ 团队协作开发

---

## 三、Git安装与配置

### 3.1 安装Git

**Windows系统：**
1. 访问官网：https://git-scm.com/
2. 下载Windows版本安装包
3. 运行安装程序，建议使用默认选项

**Linux系统：**
```bash
# Ubuntu/Debian
sudo apt-get install git

# CentOS/RedHat
sudo yum install git
```

**Mac系统：**
```bash
# 使用Homebrew
brew install git
```

### 3.2 验证安装

```bash
git --version
# 输出：git version 2.x.x
```

### 3.3 基本配置

**配置用户信息（必须）：**
```bash
# 配置用户名
git config --global user.name "你的名字"

# 配置邮箱
git config --global user.email "your.email@example.com"
```

**查看配置：**
```bash
# 查看所有配置
git config --list

# 查看特定配置
git config user.name
git config user.email
```

**其他常用配置：**
```bash
# 配置默认编辑器
git config --global core.editor "vim"

# 配置颜色显示
git config --global color.ui true

# 配置别名
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
```

---

## 四、Git基本使用

### 4.1 创建仓库

**方式一：初始化新仓库**
```bash
# 创建项目目录
mkdir my-project
cd my-project

# 初始化Git仓库
git init
```

**方式二：克隆现有仓库**
```bash
# 从远程克隆
git clone https://github.com/username/repository.git

# 克隆到指定目录
git clone https://github.com/username/repository.git my-folder
```

### 4.2 基本工作流程

#### 1. 查看状态
```bash
git status
```

#### 2. 添加文件到暂存区
```bash
# 添加单个文件
git add filename.txt

# 添加所有文件
git add .

# 添加所有.java文件
git add *.java
```

#### 3. 提交到本地仓库
```bash
# 提交并添加说明
git commit -m "提交说明"

# 添加并提交（跳过git add）
git commit -am "提交说明"
```

#### 4. 查看提交历史
```bash
# 查看详细历史
git log

# 查看简洁历史
git log --oneline

# 查看图形化历史
git log --graph --oneline --all
```

### 4.3 文件操作

**删除文件：**
```bash
# 删除文件并暂存
git rm filename.txt

# 只从Git中删除，保留本地文件
git rm --cached filename.txt
```

**移动/重命名文件：**
```bash
git mv old-name.txt new-name.txt
```

**撤销修改：**
```bash
# 撤销工作区的修改
git checkout -- filename.txt

# 撤销暂存区的修改
git reset HEAD filename.txt

# 回退到上一个版本
git reset --hard HEAD^

# 回退到指定版本
git reset --hard commit_id
```

### 4.4 .gitignore文件

创建`.gitignore`文件来忽略不需要版本控制的文件：

```gitignore
# 编译文件
*.class
*.o
*.pyc

# 日志文件
*.log

# 依赖目录
node_modules/
target/

# IDE配置
.idea/
.vscode/
*.iml

# 系统文件
.DS_Store
Thumbs.db

# 环境配置
.env
```

---

## 五、分支管理

### 5.1 分支概念

分支就像平行宇宙，可以在不影响主线的情况下进行开发。

```
master/main (主分支)
    ↓
    ├─→ feature-login (功能分支)
    ├─→ feature-payment (功能分支)
    └─→ hotfix-bug (修复分支)
```

### 5.2 分支操作

**查看分支：**
```bash
# 查看本地分支
git branch

# 查看所有分支（包括远程）
git branch -a

# 查看远程分支
git branch -r
```

**创建分支：**
```bash
# 创建新分支
git branch feature-login

# 创建并切换到新分支
git checkout -b feature-login

# 或使用新命令
git switch -c feature-login
```

**切换分支：**
```bash
# 切换分支
git checkout feature-login

# 或使用新命令
git switch feature-login
```

**合并分支：**
```bash
# 切换到主分支
git checkout master

# 合并feature-login分支
git merge feature-login
```

**删除分支：**
```bash
# 删除已合并的分支
git branch -d feature-login

# 强制删除分支
git branch -D feature-login
```

### 5.3 解决冲突

当合并分支时出现冲突：

```bash
# 1. 查看冲突文件
git status

# 2. 手动编辑冲突文件
# 文件中会显示：
<<<<<<< HEAD
当前分支的内容
=======
要合并分支的内容
>>>>>>> feature-branch

# 3. 解决冲突后，添加文件
git add conflict-file.txt

# 4. 提交合并
git commit -m "解决冲突"
```

---

## 六、远程仓库操作

### 6.1 关联远程仓库

```bash
# 添加远程仓库
git remote add origin https://github.com/username/repository.git

# 查看远程仓库
git remote -v

# 删除远程仓库关联
git remote rm origin
```

### 6.2 推送到远程

```bash
# 首次推送
git push -u origin master

# 后续推送
git push

# 推送所有分支
git push --all

# 强制推送（慎用）
git push -f
```

### 6.3 从远程拉取

```bash
# 拉取并合并
git pull

# 等同于
git fetch
git merge

# 拉取指定分支
git pull origin master
```

### 6.4 SSH密钥配置

**生成SSH密钥：**
```bash
ssh-keygen -t rsa -C "your.email@example.com"
```

**查看公钥：**
```bash
cat ~/.ssh/id_rsa.pub
```

**添加到GitHub/Gitee：**
1. 复制公钥内容
2. 进入GitHub设置 → SSH and GPG keys
3. 点击New SSH key，粘贴公钥

---

## 七、常用命令速查

### 7.1 基础命令

| 命令 | 说明 |
|------|------|
| `git init` | 初始化仓库 |
| `git clone <url>` | 克隆仓库 |
| `git status` | 查看状态 |
| `git add <file>` | 添加到暂存区 |
| `git commit -m "msg"` | 提交 |
| `git log` | 查看历史 |
| `git diff` | 查看差异 |

### 7.2 分支命令

| 命令 | 说明 |
|------|------|
| `git branch` | 查看分支 |
| `git branch <name>` | 创建分支 |
| `git checkout <name>` | 切换分支 |
| `git checkout -b <name>` | 创建并切换分支 |
| `git merge <name>` | 合并分支 |
| `git branch -d <name>` | 删除分支 |

### 7.3 远程命令

| 命令 | 说明 |
|------|------|
| `git remote add origin <url>` | 添加远程仓库 |
| `git push -u origin master` | 首次推送 |
| `git push` | 推送 |
| `git pull` | 拉取 |
| `git fetch` | 获取远程更新 |
| `git clone <url>` | 克隆远程仓库 |

### 7.4 撤销命令

| 命令 | 说明 |
|------|------|
| `git checkout -- <file>` | 撤销工作区修改 |
| `git reset HEAD <file>` | 撤销暂存区修改 |
| `git reset --hard HEAD^` | 回退到上一版本 |
| `git revert <commit>` | 撤销某次提交 |

---

## 八、实战案例

### 8.1 个人项目开发流程

```bash
# 1. 创建项目
mkdir my-project
cd my-project
git init

# 2. 创建文件
echo "# My Project" > README.md

# 3. 添加并提交
git add .
git commit -m "初始化项目"

# 4. 关联远程仓库
git remote add origin https://github.com/username/my-project.git

# 5. 推送到远程
git push -u origin master
```

### 8.2 团队协作开发流程

```bash
# 1. 克隆项目
git clone https://github.com/team/project.git
cd project

# 2. 创建功能分支
git checkout -b feature-user-login

# 3. 开发功能
# ... 编写代码 ...

# 4. 提交代码
git add .
git commit -m "实现用户登录功能"

# 5. 推送到远程
git push origin feature-user-login

# 6. 在GitHub上创建Pull Request

# 7. 代码审查通过后，合并到主分支
git checkout master
git pull
git merge feature-user-login

# 8. 删除功能分支
git branch -d feature-user-login
```

### 8.3 紧急修复Bug流程

```bash
# 1. 从主分支创建修复分支
git checkout master
git checkout -b hotfix-critical-bug

# 2. 修复bug
# ... 修改代码 ...

# 3. 提交修复
git add .
git commit -m "修复关键bug"

# 4. 合并到主分支
git checkout master
git merge hotfix-critical-bug

# 5. 推送到远程
git push origin master

# 6. 删除修复分支
git branch -d hotfix-critical-bug
```

---

## 九、最佳实践

### 9.1 提交规范

**提交信息格式：**
```
<type>(<scope>): <subject>

<body>

<footer>
```

**类型（type）：**
- `feat`: 新功能
- `fix`: 修复bug
- `docs`: 文档更新
- `style`: 代码格式调整
- `refactor`: 重构
- `test`: 测试相关
- `chore`: 构建/工具变动

**示例：**
```bash
git commit -m "feat(login): 添加用户登录功能"
git commit -m "fix(payment): 修复支付金额计算错误"
git commit -m "docs(readme): 更新安装说明"
```

### 9.2 分支策略

**Git Flow模型：**
- `master/main`: 主分支，只包含稳定版本
- `develop`: 开发分支，最新开发代码
- `feature/*`: 功能分支
- `release/*`: 发布分支
- `hotfix/*`: 紧急修复分支

### 9.3 注意事项

1. ⚠️ **不要提交敏感信息**（密码、密钥等）
2. ⚠️ **不要提交大文件**（使用Git LFS）
3. ⚠️ **提交前先pull**，避免冲突
4. ⚠️ **频繁提交**，每个提交只做一件事
5. ⚠️ **写清楚提交信息**，方便追踪

---

## 十、常见问题

### 10.1 如何撤销已推送的提交？

```bash
# 方法一：使用revert（推荐）
git revert <commit-id>
git push

# 方法二：使用reset（慎用）
git reset --hard <commit-id>
git push -f
```

### 10.2 如何修改最后一次提交？

```bash
# 修改提交信息
git commit --amend -m "新的提交信息"

# 添加遗漏的文件
git add forgotten-file.txt
git commit --amend --no-edit
```

### 10.3 如何暂存当前工作？

```bash
# 暂存当前修改
git stash

# 查看暂存列表
git stash list

# 恢复暂存
git stash pop

# 恢复指定暂存
git stash apply stash@{0}
```

### 10.4 如何查看某个文件的修改历史？

```bash
# 查看文件提交历史
git log -- filename.txt

# 查看文件每一行的修改者
git blame filename.txt
```

---

## 十一、学习资源

### 11.1 官方文档
- Git官方文档：https://git-scm.com/doc
- Pro Git书籍：https://git-scm.com/book/zh/v2

### 11.2 在线练习
- Learn Git Branching：https://learngitbranching.js.org/
- Git教程 - 廖雪峰：https://www.liaoxuefeng.com/wiki/896043488029600

### 11.3 可视化工具
- **SourceTree**：免费的Git GUI工具
- **GitKraken**：跨平台Git客户端
- **GitHub Desktop**：GitHub官方客户端
- **TortoiseGit**：Windows资源管理器集成

---

## 总结

Git是现代软件开发必备的工具，掌握Git能够：
- ✅ 高效管理代码版本
- ✅ 轻松进行团队协作
- ✅ 安全备份项目代码
- ✅ 提升开发效率

**学习建议：**
1. 先掌握基本命令（add、commit、push、pull）
2. 理解分支概念和操作
3. 多实践，多提交
4. 学习团队协作流程
5. 逐步学习高级功能

记住：**熟能生巧，多用多练！** 🚀
