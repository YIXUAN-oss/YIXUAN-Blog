import{_ as t,c as e,d as l,e as s,f as a,b as i,w as o,r as c,o as u}from"./app-I6OnLCmc.js";const r={};function d(k,n){const p=c("RouteLink");return u(),e("div",null,[n[3]||(n[3]=l(`<h1 id="时间序列" tabindex="-1"><a class="header-anchor" href="#时间序列"><span>时间序列</span></a></h1><blockquote><p>掌握时间序列数据处理</p></blockquote><h2 id="📚-学习目标" tabindex="-1"><a class="header-anchor" href="#📚-学习目标"><span>📚 学习目标</span></a></h2><ul><li>掌握日期时间处理</li><li>学会时间序列索引</li><li>理解重采样</li><li>掌握滑动窗口</li></ul><h2 id="_1-日期时间" tabindex="-1"><a class="header-anchor" href="#_1-日期时间"><span>1. 日期时间</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建日期范围</span></span>
<span class="line">dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 解析日期</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;date&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;date_str&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 提取日期部分</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;year&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>year</span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month</span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;day&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>day</span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;weekday&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;date&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>dayofweek</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-时间序列索引" tabindex="-1"><a class="header-anchor" href="#_2-时间序列索引"><span>2. 时间序列索引</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 设置时间索引</span></span>
<span class="line">df <span class="token operator">=</span> df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&#39;date&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 选择日期范围</span></span>
<span class="line">result <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;2024-01&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;2024-03&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 按月选择</span></span>
<span class="line">result <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;2024-01&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-重采样" tabindex="-1"><a class="header-anchor" href="#_3-重采样"><span>3. 重采样</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 降采样（日-&gt;月）</span></span>
<span class="line">monthly <span class="token operator">=</span> df<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">&#39;M&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 升采样（日-&gt;小时）</span></span>
<span class="line">hourly <span class="token operator">=</span> df<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">&#39;H&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>ffill<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-滑动窗口" tabindex="-1"><a class="header-anchor" href="#_4-滑动窗口"><span>4. 滑动窗口</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 滚动均值</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;rolling_mean&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;value&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span>window<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 移动窗口</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;shifted&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&#39;value&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,13)),s("p",null,[n[1]||(n[1]=s("strong",null,"下一节：",-1)),n[2]||(n[2]=a()),i(p,{to:"/tutorials/python-ai/pandas/09-%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1.html"},{default:o(()=>[...n[0]||(n[0]=[a("数据统计",-1)])]),_:1})])])}const v=t(r,[["render",d]]),h=JSON.parse('{"path":"/tutorials/python-ai/pandas/08-shijianxulie.html","title":"时间序列","lang":"zh-CN","frontmatter":{"title":"时间序列"},"headers":[{"level":2,"title":"📚 学习目标","slug":"📚-学习目标","link":"#📚-学习目标","children":[]},{"level":2,"title":"1. 日期时间","slug":"_1-日期时间","link":"#_1-日期时间","children":[]},{"level":2,"title":"2. 时间序列索引","slug":"_2-时间序列索引","link":"#_2-时间序列索引","children":[]},{"level":2,"title":"3. 重采样","slug":"_3-重采样","link":"#_3-重采样","children":[]},{"level":2,"title":"4. 滑动窗口","slug":"_4-滑动窗口","link":"#_4-滑动窗口","children":[]}],"git":{"createdTime":1761052725000,"updatedTime":1761052725000,"contributors":[{"name":"YIXUAN","email":"byyi.xuan@outlook.com","commits":1}]},"filePathRelative":"tutorials/python-ai/pandas/08-时间序列.md"}');export{v as comp,h as data};
