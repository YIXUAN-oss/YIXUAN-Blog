import{_ as e,c as t,d as l,e as s,f as a,b as i,w as c,r as o,o as u}from"./app-BxcHLiku.js";const r={};function d(k,n){const p=o("RouteLink");return u(),t("div",null,[n[3]||(n[3]=l(`<h1 id="cv-入门" tabindex="-1"><a class="header-anchor" href="#cv-入门"><span>CV 入门</span></a></h1><blockquote><p>了解计算机视觉，开启CV学习之旅</p></blockquote><h2 id="📚-学习目标" tabindex="-1"><a class="header-anchor" href="#📚-学习目标"><span>📚 学习目标</span></a></h2><ul><li>理解什么是计算机视觉</li><li>了解CV的应用场景</li><li>掌握OpenCV安装</li><li>理解图像基础知识</li><li>运行第一个CV程序</li></ul><h2 id="_1-什么是计算机视觉" tabindex="-1"><a class="header-anchor" href="#_1-什么是计算机视觉"><span>1. 什么是计算机视觉</span></a></h2><h3 id="_1-1-定义" tabindex="-1"><a class="header-anchor" href="#_1-1-定义"><span>1.1 定义</span></a></h3><p><strong>计算机视觉（Computer Vision，CV）</strong> 是人工智能的重要分支，让计算机能够理解和处理视觉信息（图像和视频）。</p><h3 id="_1-2-核心任务" tabindex="-1"><a class="header-anchor" href="#_1-2-核心任务"><span>1.2 核心任务</span></a></h3><ul><li><strong>图像分类</strong> - 识别图像内容</li><li><strong>目标检测</strong> - 定位和识别物体</li><li><strong>图像分割</strong> - 分割图像区域</li><li><strong>人脸识别</strong> - 识别人脸身份</li><li><strong>姿态估计</strong> - 识别人体姿态</li><li><strong>图像生成</strong> - 生成新图像</li></ul><h2 id="_2-cv-应用场景" tabindex="-1"><a class="header-anchor" href="#_2-cv-应用场景"><span>2. CV 应用场景</span></a></h2><h3 id="_2-1-安防监控" tabindex="-1"><a class="header-anchor" href="#_2-1-安防监控"><span>2.1 安防监控</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 人脸识别门禁</span></span>
<span class="line"><span class="token comment"># 异常行为检测</span></span>
<span class="line"><span class="token comment"># 车牌识别</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-自动驾驶" tabindex="-1"><a class="header-anchor" href="#_2-2-自动驾驶"><span>2.2 自动驾驶</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 车道线检测</span></span>
<span class="line"><span class="token comment"># 行人检测</span></span>
<span class="line"><span class="token comment"># 交通标志识别</span></span>
<span class="line"><span class="token comment"># 障碍物识别</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-医疗影像" tabindex="-1"><a class="header-anchor" href="#_2-3-医疗影像"><span>2.3 医疗影像</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># X光图像分析</span></span>
<span class="line"><span class="token comment"># CT/MRI扫描</span></span>
<span class="line"><span class="token comment"># 病灶检测</span></span>
<span class="line"><span class="token comment"># 辅助诊断</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-安装-opencv" tabindex="-1"><a class="header-anchor" href="#_3-安装-opencv"><span>3. 安装 OpenCV</span></a></h2><h3 id="_3-1-安装" tabindex="-1"><a class="header-anchor" href="#_3-1-安装"><span>3.1 安装</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 基础版本</span></span>
<span class="line">pip <span class="token function">install</span> opencv-python</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 完整版本（包含额外模块）</span></span>
<span class="line">pip <span class="token function">install</span> opencv-contrib-python</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 验证安装</span></span>
<span class="line">python <span class="token parameter variable">-c</span> <span class="token string">&quot;import cv2; print(cv2.__version__)&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-其他依赖" tabindex="-1"><a class="header-anchor" href="#_3-2-其他依赖"><span>3.2 其他依赖</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pip <span class="token function">install</span> numpy</span>
<span class="line">pip <span class="token function">install</span> matplotlib</span>
<span class="line">pip <span class="token function">install</span> pillow</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-图像基础知识" tabindex="-1"><a class="header-anchor" href="#_4-图像基础知识"><span>4. 图像基础知识</span></a></h2><h3 id="_4-1-图像表示" tabindex="-1"><a class="header-anchor" href="#_4-1-图像表示"><span>4.1 图像表示</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 图像本质是数组</span></span>
<span class="line"><span class="token comment"># 灰度图: (height, width)</span></span>
<span class="line"><span class="token comment"># 彩色图: (height, width, 3) - BGR</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建纯色图像</span></span>
<span class="line">img <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span></span>
<span class="line">img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 蓝色</span></span>
<span class="line"></span>
<span class="line">cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Blue Image&#39;</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-色彩空间" tabindex="-1"><a class="header-anchor" href="#_4-2-色彩空间"><span>4.2 色彩空间</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># BGR - OpenCV默认格式</span></span>
<span class="line"><span class="token comment"># RGB - 标准格式</span></span>
<span class="line"><span class="token comment"># HSV - 色调、饱和度、亮度</span></span>
<span class="line"><span class="token comment"># Gray - 灰度图</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># BGR转RGB</span></span>
<span class="line">rgb <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># BGR转灰度</span></span>
<span class="line">gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># BGR转HSV</span></span>
<span class="line">hsv <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2HSV<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-第一个-cv-程序" tabindex="-1"><a class="header-anchor" href="#_5-第一个-cv-程序"><span>5. 第一个 CV 程序</span></a></h2><h3 id="_5-1-读取和显示图像" tabindex="-1"><a class="header-anchor" href="#_5-1-读取和显示图像"><span>5.1 读取和显示图像</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 读取图像</span></span>
<span class="line">img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">&#39;image.jpg&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 检查是否成功</span></span>
<span class="line"><span class="token keyword">if</span> img <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;无法读取图像&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;图像shape: </span><span class="token interpolation"><span class="token punctuation">{</span>img<span class="token punctuation">.</span>shape<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;图像类型: </span><span class="token interpolation"><span class="token punctuation">{</span>img<span class="token punctuation">.</span>dtype<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 显示图像</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Image&#39;</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-图像处理" tabindex="-1"><a class="header-anchor" href="#_5-2-图像处理"><span>5.2 图像处理</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 转换为灰度图</span></span>
<span class="line">gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 高斯模糊</span></span>
<span class="line">blurred <span class="token operator">=</span> cv2<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>gray<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Canny边缘检测</span></span>
<span class="line">edges <span class="token operator">=</span> cv2<span class="token punctuation">.</span>Canny<span class="token punctuation">(</span>blurred<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示结果</span></span>
<span class="line">cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Original&#39;</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Gray&#39;</span><span class="token punctuation">,</span> gray<span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Edges&#39;</span><span class="token punctuation">,</span> edges<span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-保存图像" tabindex="-1"><a class="header-anchor" href="#_5-3-保存图像"><span>5.3 保存图像</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 保存处理后的图像</span></span>
<span class="line">cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">&#39;output_gray.jpg&#39;</span><span class="token punctuation">,</span> gray<span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">&#39;output_edges.jpg&#39;</span><span class="token punctuation">,</span> edges<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;图像已保存&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-使用-matplotlib-显示" tabindex="-1"><a class="header-anchor" href="#_6-使用-matplotlib-显示"><span>6. 使用 matplotlib 显示</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 读取图像</span></span>
<span class="line">img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">&#39;image.jpg&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># OpenCV使用BGR，matplotlib使用RGB</span></span>
<span class="line">img_rgb <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示</span></span>
<span class="line">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">121</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_rgb<span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">&#39;Original&#39;</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">&#39;off&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">122</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>edges<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">&#39;gray&#39;</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">&#39;Edges&#39;</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">&#39;off&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-摄像头采集" tabindex="-1"><a class="header-anchor" href="#_7-摄像头采集"><span>7. 摄像头采集</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 打开摄像头</span></span>
<span class="line">cap <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> <span class="token keyword">not</span> cap<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;无法打开摄像头&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    exit<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 读取一帧</span></span>
<span class="line">    ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> cap<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">not</span> ret<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;无法接收帧&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 转为灰度图</span></span>
<span class="line">    gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 显示</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Camera&#39;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Gray&#39;</span><span class="token punctuation">,</span> gray<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 按&#39;q&#39;退出</span></span>
<span class="line">    <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span> <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 释放资源</span></span>
<span class="line">cap<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-视频处理" tabindex="-1"><a class="header-anchor" href="#_8-视频处理"><span>8. 视频处理</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># 读取视频</span></span>
<span class="line">cap <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span><span class="token string">&#39;video.mp4&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取视频信息</span></span>
<span class="line">fps <span class="token operator">=</span> cap<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FPS<span class="token punctuation">)</span></span>
<span class="line">width <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>cap<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_WIDTH<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">height <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>cap<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;FPS: </span><span class="token interpolation"><span class="token punctuation">{</span>fps<span class="token punctuation">}</span></span><span class="token string">, Size: </span><span class="token interpolation"><span class="token punctuation">{</span>width<span class="token punctuation">}</span></span><span class="token string">x</span><span class="token interpolation"><span class="token punctuation">{</span>height<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建视频写入器</span></span>
<span class="line">fourcc <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoWriter_fourcc<span class="token punctuation">(</span><span class="token operator">*</span><span class="token string">&#39;mp4v&#39;</span><span class="token punctuation">)</span></span>
<span class="line">out <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoWriter<span class="token punctuation">(</span><span class="token string">&#39;output.mp4&#39;</span><span class="token punctuation">,</span> fourcc<span class="token punctuation">,</span> fps<span class="token punctuation">,</span> <span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">while</span> cap<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> cap<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">not</span> ret<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 处理帧</span></span>
<span class="line">    processed <span class="token operator">=</span> cv2<span class="token punctuation">.</span>Canny<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">    processed <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>processed<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_GRAY2BGR<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 写入视频</span></span>
<span class="line">    out<span class="token punctuation">.</span>write<span class="token punctuation">(</span>processed<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 显示</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Frame&#39;</span><span class="token punctuation">,</span> processed<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span> <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">cap<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">out<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-常见问题" tabindex="-1"><a class="header-anchor" href="#_9-常见问题"><span>9. 常见问题</span></a></h2><h3 id="q1-图像读取失败" tabindex="-1"><a class="header-anchor" href="#q1-图像读取失败"><span>Q1: 图像读取失败？</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">&#39;image.jpg&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> img <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;检查:&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;1. 文件路径是否正确&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;2. 文件是否存在&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;3. 文件格式是否支持&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="q2-图像显示颜色不对" tabindex="-1"><a class="header-anchor" href="#q2-图像显示颜色不对"><span>Q2: 图像显示颜色不对？</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token comment"># OpenCV使用BGR，需要转为RGB</span></span>
<span class="line">img_rgb <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2RGB<span class="token punctuation">)</span></span>
<span class="line">plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_rgb<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="q3-窗口一闪而过" tabindex="-1"><a class="header-anchor" href="#q3-窗口一闪而过"><span>Q3: 窗口一闪而过？</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Image&#39;</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 等待按键</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 关闭所有窗口</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-练习题" tabindex="-1"><a class="header-anchor" href="#_10-练习题"><span>10. 练习题</span></a></h2><ol><li>读取一张图片并显示其shape和dtype</li><li>将彩色图转为灰度图并保存</li><li>使用Canny进行边缘检测</li><li>打开摄像头并实时显示</li><li>读取视频并提取第一帧</li></ol><h2 id="💡-重点总结" tabindex="-1"><a class="header-anchor" href="#💡-重点总结"><span>💡 重点总结</span></a></h2><ol><li><strong>OpenCV</strong> - 最流行的计算机视觉库</li><li><strong>图像表示</strong> - NumPy数组 (H, W, C)</li><li><strong>色彩空间</strong> - BGR (OpenCV默认)</li><li><strong>基本操作</strong> - 读取、显示、保存</li><li><strong>图像处理</strong> - 灰度、模糊、边缘检测</li></ol><hr>`,51)),s("p",null,[n[1]||(n[1]=s("strong",null,"下一节：",-1)),n[2]||(n[2]=a()),i(p,{to:"/tutorials/python-ai/cv/02-%E5%9B%BE%E5%83%8F%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html"},{default:c(()=>[...n[0]||(n[0]=[a("图像基本操作",-1)])]),_:1})])])}const m=e(r,[["render",d]]),b=JSON.parse('{"path":"/tutorials/python-ai/cv/01-CVrumen.html","title":"CV 入门","lang":"zh-CN","frontmatter":{"title":"CV 入门"},"headers":[{"level":2,"title":"📚 学习目标","slug":"📚-学习目标","link":"#📚-学习目标","children":[]},{"level":2,"title":"1. 什么是计算机视觉","slug":"_1-什么是计算机视觉","link":"#_1-什么是计算机视觉","children":[{"level":3,"title":"1.1 定义","slug":"_1-1-定义","link":"#_1-1-定义","children":[]},{"level":3,"title":"1.2 核心任务","slug":"_1-2-核心任务","link":"#_1-2-核心任务","children":[]}]},{"level":2,"title":"2. CV 应用场景","slug":"_2-cv-应用场景","link":"#_2-cv-应用场景","children":[{"level":3,"title":"2.1 安防监控","slug":"_2-1-安防监控","link":"#_2-1-安防监控","children":[]},{"level":3,"title":"2.2 自动驾驶","slug":"_2-2-自动驾驶","link":"#_2-2-自动驾驶","children":[]},{"level":3,"title":"2.3 医疗影像","slug":"_2-3-医疗影像","link":"#_2-3-医疗影像","children":[]}]},{"level":2,"title":"3. 安装 OpenCV","slug":"_3-安装-opencv","link":"#_3-安装-opencv","children":[{"level":3,"title":"3.1 安装","slug":"_3-1-安装","link":"#_3-1-安装","children":[]},{"level":3,"title":"3.2 其他依赖","slug":"_3-2-其他依赖","link":"#_3-2-其他依赖","children":[]}]},{"level":2,"title":"4. 图像基础知识","slug":"_4-图像基础知识","link":"#_4-图像基础知识","children":[{"level":3,"title":"4.1 图像表示","slug":"_4-1-图像表示","link":"#_4-1-图像表示","children":[]},{"level":3,"title":"4.2 色彩空间","slug":"_4-2-色彩空间","link":"#_4-2-色彩空间","children":[]}]},{"level":2,"title":"5. 第一个 CV 程序","slug":"_5-第一个-cv-程序","link":"#_5-第一个-cv-程序","children":[{"level":3,"title":"5.1 读取和显示图像","slug":"_5-1-读取和显示图像","link":"#_5-1-读取和显示图像","children":[]},{"level":3,"title":"5.2 图像处理","slug":"_5-2-图像处理","link":"#_5-2-图像处理","children":[]},{"level":3,"title":"5.3 保存图像","slug":"_5-3-保存图像","link":"#_5-3-保存图像","children":[]}]},{"level":2,"title":"6. 使用 matplotlib 显示","slug":"_6-使用-matplotlib-显示","link":"#_6-使用-matplotlib-显示","children":[]},{"level":2,"title":"7. 摄像头采集","slug":"_7-摄像头采集","link":"#_7-摄像头采集","children":[]},{"level":2,"title":"8. 视频处理","slug":"_8-视频处理","link":"#_8-视频处理","children":[]},{"level":2,"title":"9. 常见问题","slug":"_9-常见问题","link":"#_9-常见问题","children":[{"level":3,"title":"Q1: 图像读取失败？","slug":"q1-图像读取失败","link":"#q1-图像读取失败","children":[]},{"level":3,"title":"Q2: 图像显示颜色不对？","slug":"q2-图像显示颜色不对","link":"#q2-图像显示颜色不对","children":[]},{"level":3,"title":"Q3: 窗口一闪而过？","slug":"q3-窗口一闪而过","link":"#q3-窗口一闪而过","children":[]}]},{"level":2,"title":"10. 练习题","slug":"_10-练习题","link":"#_10-练习题","children":[]},{"level":2,"title":"💡 重点总结","slug":"💡-重点总结","link":"#💡-重点总结","children":[]}],"git":{"createdTime":1761052725000,"updatedTime":1761052725000,"contributors":[{"name":"YIXUAN","email":"byyi.xuan@outlook.com","commits":1}]},"filePathRelative":"tutorials/python-ai/cv/01-CV入门.md"}');export{m as comp,b as data};
